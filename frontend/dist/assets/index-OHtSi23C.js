var OM=Object.defineProperty;var EC=r=>{throw TypeError(r)};var FM=(r,e,t)=>e in r?OM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var tt=(r,e,t)=>FM(r,typeof e!="symbol"?e+"":e,t),Hw=(r,e,t)=>e.has(r)||EC("Cannot "+t);var g=(r,e,t)=>(Hw(r,e,"read from private field"),t?t.call(r):e.get(r)),K=(r,e,t)=>e.has(r)?EC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),$=(r,e,t,n)=>(Hw(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),W=(r,e,t)=>(Hw(r,e,"access private method"),t);var Ys=(r,e,t,n)=>({set _(i){$(r,e,i,t)},get _(){return g(r,e,n)}});function DM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function b2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vw={exports:{}},t1={},Ww={exports:{}},cn={},TC;function jM(){if(TC)return cn;TC=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function A(Z,M,J){this.props=Z,this.context=M,this.refs=_,this.updater=J||m}A.prototype.isReactComponent={},A.prototype.setState=function(Z,M){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,M,"setState")},A.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function S(){}S.prototype=A.prototype;function N(Z,M,J){this.props=Z,this.context=M,this.refs=_,this.updater=J||m}var I=N.prototype=new S;I.constructor=N,x(I,A.prototype),I.isPureReactComponent=!0;var R=Array.isArray,O=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function j(Z,M,J){var re,ue={},pe=null,fe=null;if(M!=null)for(re in M.ref!==void 0&&(fe=M.ref),M.key!==void 0&&(pe=""+M.key),M)O.call(M,re)&&!B.hasOwnProperty(re)&&(ue[re]=M[re]);var Ce=arguments.length-2;if(Ce===1)ue.children=J;else if(1<Ce){for(var ke=Array(Ce),xe=0;xe<Ce;xe++)ke[xe]=arguments[xe+2];ue.children=ke}if(Z&&Z.defaultProps)for(re in Ce=Z.defaultProps,Ce)ue[re]===void 0&&(ue[re]=Ce[re]);return{$$typeof:r,type:Z,key:pe,ref:fe,props:ue,_owner:U.current}}function D(Z,M){return{$$typeof:r,type:Z.type,key:M,ref:Z.ref,props:Z.props,_owner:Z._owner}}function se(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function F(Z){var M={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(J){return M[J]})}var H=/\/+/g;function ne(Z,M){return typeof Z=="object"&&Z!==null&&Z.key!=null?F(""+Z.key):M.toString(36)}function ee(Z,M,J,re,ue){var pe=typeof Z;(pe==="undefined"||pe==="boolean")&&(Z=null);var fe=!1;if(Z===null)fe=!0;else switch(pe){case"string":case"number":fe=!0;break;case"object":switch(Z.$$typeof){case r:case e:fe=!0}}if(fe)return fe=Z,ue=ue(fe),Z=re===""?"."+ne(fe,0):re,R(ue)?(J="",Z!=null&&(J=Z.replace(H,"$&/")+"/"),ee(ue,M,J,"",function(xe){return xe})):ue!=null&&(se(ue)&&(ue=D(ue,J+(!ue.key||fe&&fe.key===ue.key?"":(""+ue.key).replace(H,"$&/")+"/")+Z)),M.push(ue)),1;if(fe=0,re=re===""?".":re+":",R(Z))for(var Ce=0;Ce<Z.length;Ce++){pe=Z[Ce];var ke=re+ne(pe,Ce);fe+=ee(pe,M,J,ke,ue)}else if(ke=y(Z),typeof ke=="function")for(Z=ke.call(Z),Ce=0;!(pe=Z.next()).done;)pe=pe.value,ke=re+ne(pe,Ce++),fe+=ee(pe,M,J,ke,ue);else if(pe==="object")throw M=String(Z),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return fe}function me(Z,M,J){if(Z==null)return Z;var re=[],ue=0;return ee(Z,re,"","",function(pe){return M.call(J,pe,ue++)}),re}function ge(Z){if(Z._status===-1){var M=Z._result;M=M(),M.then(function(J){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=J)},function(J){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=J)}),Z._status===-1&&(Z._status=0,Z._result=M)}if(Z._status===1)return Z._result.default;throw Z._result}var de={current:null},ie={transition:null},ye={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:ie,ReactCurrentOwner:U};function be(){throw Error("act(...) is not supported in production builds of React.")}return cn.Children={map:me,forEach:function(Z,M,J){me(Z,function(){M.apply(this,arguments)},J)},count:function(Z){var M=0;return me(Z,function(){M++}),M},toArray:function(Z){return me(Z,function(M){return M})||[]},only:function(Z){if(!se(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},cn.Component=A,cn.Fragment=t,cn.Profiler=i,cn.PureComponent=N,cn.StrictMode=n,cn.Suspense=c,cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,cn.act=be,cn.cloneElement=function(Z,M,J){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var re=x({},Z.props),ue=Z.key,pe=Z.ref,fe=Z._owner;if(M!=null){if(M.ref!==void 0&&(pe=M.ref,fe=U.current),M.key!==void 0&&(ue=""+M.key),Z.type&&Z.type.defaultProps)var Ce=Z.type.defaultProps;for(ke in M)O.call(M,ke)&&!B.hasOwnProperty(ke)&&(re[ke]=M[ke]===void 0&&Ce!==void 0?Ce[ke]:M[ke])}var ke=arguments.length-2;if(ke===1)re.children=J;else if(1<ke){Ce=Array(ke);for(var xe=0;xe<ke;xe++)Ce[xe]=arguments[xe+2];re.children=Ce}return{$$typeof:r,type:Z.type,key:ue,ref:pe,props:re,_owner:fe}},cn.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},cn.createElement=j,cn.createFactory=function(Z){var M=j.bind(null,Z);return M.type=Z,M},cn.createRef=function(){return{current:null}},cn.forwardRef=function(Z){return{$$typeof:a,render:Z}},cn.isValidElement=se,cn.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:ge}},cn.memo=function(Z,M){return{$$typeof:h,type:Z,compare:M===void 0?null:M}},cn.startTransition=function(Z){var M=ie.transition;ie.transition={};try{Z()}finally{ie.transition=M}},cn.unstable_act=be,cn.useCallback=function(Z,M){return de.current.useCallback(Z,M)},cn.useContext=function(Z){return de.current.useContext(Z)},cn.useDebugValue=function(){},cn.useDeferredValue=function(Z){return de.current.useDeferredValue(Z)},cn.useEffect=function(Z,M){return de.current.useEffect(Z,M)},cn.useId=function(){return de.current.useId()},cn.useImperativeHandle=function(Z,M,J){return de.current.useImperativeHandle(Z,M,J)},cn.useInsertionEffect=function(Z,M){return de.current.useInsertionEffect(Z,M)},cn.useLayoutEffect=function(Z,M){return de.current.useLayoutEffect(Z,M)},cn.useMemo=function(Z,M){return de.current.useMemo(Z,M)},cn.useReducer=function(Z,M,J){return de.current.useReducer(Z,M,J)},cn.useRef=function(Z){return de.current.useRef(Z)},cn.useState=function(Z){return de.current.useState(Z)},cn.useSyncExternalStore=function(Z,M,J){return de.current.useSyncExternalStore(Z,M,J)},cn.useTransition=function(){return de.current.useTransition()},cn.version="18.3.1",cn}var NC;function mA(){return NC||(NC=1,Ww.exports=jM()),Ww.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function BM(){if(PC)return t1;PC=1;var r=mA(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,h){var d,p={},y=null,m=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(m=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:a,key:y,ref:m,props:p,_owner:i.current}}return t1.Fragment=t,t1.jsx=o,t1.jsxs=o,t1}var LC;function UM(){return LC||(LC=1,Vw.exports=BM()),Vw.exports}var E=UM(),mv={},Gw={exports:{}},vo={},Yw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function zM(){return RC||(RC=1,function(r){function e(ie,ye){var be=ie.length;ie.push(ye);e:for(;0<be;){var Z=be-1>>>1,M=ie[Z];if(0<i(M,ye))ie[Z]=ye,ie[be]=M,be=Z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var ye=ie[0],be=ie.pop();if(be!==ye){ie[0]=be;e:for(var Z=0,M=ie.length,J=M>>>1;Z<J;){var re=2*(Z+1)-1,ue=ie[re],pe=re+1,fe=ie[pe];if(0>i(ue,be))pe<M&&0>i(fe,ue)?(ie[Z]=fe,ie[pe]=be,Z=pe):(ie[Z]=ue,ie[re]=be,Z=re);else if(pe<M&&0>i(fe,be))ie[Z]=fe,ie[pe]=be,Z=pe;else break e}}return ye}function i(ie,ye){var be=ie.sortIndex-ye.sortIndex;return be!==0?be:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var c=[],h=[],d=1,p=null,y=3,m=!1,x=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ie){for(var ye=t(h);ye!==null;){if(ye.callback===null)n(h);else if(ye.startTime<=ie)n(h),ye.sortIndex=ye.expirationTime,e(c,ye);else break;ye=t(h)}}function R(ie){if(_=!1,I(ie),!x)if(t(c)!==null)x=!0,ge(O);else{var ye=t(h);ye!==null&&de(R,ye.startTime-ie)}}function O(ie,ye){x=!1,_&&(_=!1,S(j),j=-1),m=!0;var be=y;try{for(I(ye),p=t(c);p!==null&&(!(p.expirationTime>ye)||ie&&!F());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,y=p.priorityLevel;var M=Z(p.expirationTime<=ye);ye=r.unstable_now(),typeof M=="function"?p.callback=M:p===t(c)&&n(c),I(ye)}else n(c);p=t(c)}if(p!==null)var J=!0;else{var re=t(h);re!==null&&de(R,re.startTime-ye),J=!1}return J}finally{p=null,y=be,m=!1}}var U=!1,B=null,j=-1,D=5,se=-1;function F(){return!(r.unstable_now()-se<D)}function H(){if(B!==null){var ie=r.unstable_now();se=ie;var ye=!0;try{ye=B(!0,ie)}finally{ye?ne():(U=!1,B=null)}}else U=!1}var ne;if(typeof N=="function")ne=function(){N(H)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=H,ne=function(){me.postMessage(null)}}else ne=function(){A(H,0)};function ge(ie){B=ie,U||(U=!0,ne())}function de(ie,ye){j=A(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){x||m||(x=!0,ge(O))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var ye=3;break;default:ye=y}var be=y;y=ye;try{return ie()}finally{y=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var be=y;y=ie;try{return ye()}finally{y=be}},r.unstable_scheduleCallback=function(ie,ye,be){var Z=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Z+be:Z):be=Z,ie){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=be+M,ie={id:d++,callback:ye,priorityLevel:ie,startTime:be,expirationTime:M,sortIndex:-1},be>Z?(ie.sortIndex=be,e(h,ie),t(c)===null&&ie===t(h)&&(_?(S(j),j=-1):_=!0,de(R,be-Z))):(ie.sortIndex=M,e(c,ie),x||m||(x=!0,ge(O))),ie},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(ie){var ye=y;return function(){var be=y;y=ye;try{return ie.apply(this,arguments)}finally{y=be}}}}(Xw)),Xw}var IC;function qM(){return IC||(IC=1,Yw.exports=zM()),Yw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function $M(){if(MC)return vo;MC=1;var r=mA(),e=qM();function t(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(l){return c.call(p,l)?!0:c.call(d,l)?!1:h.test(l)?p[l]=!0:(d[l]=!0,!1)}function m(l,u,f,b){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,u,f,b){if(u===null||typeof u>"u"||m(l,u,f,b))return!0;if(b)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(l,u,f,b,k,P,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=l,this.type=u,this.sanitizeURL=P,this.removeEmptyString=V}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){A[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];A[u]=new _(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){A[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){A[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){A[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){A[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){A[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){A[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){A[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,N);A[u]=new _(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,N);A[u]=new _(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,N);A[u]=new _(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){A[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),A.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){A[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function I(l,u,f,b){var k=A.hasOwnProperty(u)?A[u]:null;(k!==null?k.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,f,k,b)&&(f=null),b||k===null?y(u)&&(f===null?l.removeAttribute(u):l.setAttribute(u,""+f)):k.mustUseProperty?l[k.propertyName]=f===null?k.type===3?!1:"":f:(u=k.attributeName,b=k.attributeNamespace,f===null?l.removeAttribute(u):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,b?l.setAttributeNS(b,u,f):l.setAttribute(u,f))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),F=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(l){return l===null||typeof l!="object"?null:(l=ie&&l[ie]||l["@@iterator"],typeof l=="function"?l:null)}var be=Object.assign,Z;function M(l){if(Z===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);Z=u&&u[1]||""}return`
`+Z+l}var J=!1;function re(l,u){if(!l||J)return"";J=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Me){var b=Me}Reflect.construct(l,[],u)}else{try{u.call()}catch(Me){b=Me}l.call(u.prototype)}else{try{throw Error()}catch(Me){b=Me}l()}}catch(Me){if(Me&&b&&typeof Me.stack=="string"){for(var k=Me.stack.split(`
`),P=b.stack.split(`
`),V=k.length-1,he=P.length-1;1<=V&&0<=he&&k[V]!==P[he];)he--;for(;1<=V&&0<=he;V--,he--)if(k[V]!==P[he]){if(V!==1||he!==1)do if(V--,he--,0>he||k[V]!==P[he]){var we=`
`+k[V].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=V&&0<=he);break}}}finally{J=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?M(l):""}function ue(l){switch(l.tag){case 5:return M(l.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return l=re(l.type,!1),l;case 11:return l=re(l.type.render,!1),l;case 1:return l=re(l.type,!0),l;default:return""}}function pe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case B:return"Fragment";case U:return"Portal";case D:return"Profiler";case j:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case se:return(l._context.displayName||"Context")+".Provider";case H:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case me:return u=l.displayName||null,u!==null?u:pe(l.type)||"Memo";case ge:u=l._payload,l=l._init;try{return pe(l(u))}catch{}}return null}function fe(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(u);case 8:return u===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ce(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ke(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function xe(l){var u=ke(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,P=f.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return k.call(this)},set:function(V){b=""+V,P.call(this,V)}}),Object.defineProperty(l,u,{enumerable:f.enumerable}),{getValue:function(){return b},setValue:function(V){b=""+V},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ue(l){l._valueTracker||(l._valueTracker=xe(l))}function $e(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var f=u.getValue(),b="";return l&&(b=ke(l)?l.checked?"true":"false":l.value),l=b,l!==f?(u.setValue(l),!0):!1}function Fe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Le(l,u){var f=u.checked;return be({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function ce(l,u){var f=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;f=Ce(u.value!=null?u.value:f),l._wrapperState={initialChecked:b,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function yt(l,u){u=u.checked,u!=null&&I(l,"checked",u,!1)}function St(l,u){yt(l,u);var f=Ce(u.value),b=u.type;if(f!=null)b==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?We(l,u.type,f):u.hasOwnProperty("defaultValue")&&We(l,u.type,Ce(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function lt(l,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,f||u===l.value||(l.value=u),l.defaultValue=u}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function We(l,u,f){(u!=="number"||Fe(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var rt=Array.isArray;function Je(l,u,f,b){if(l=l.options,u){u={};for(var k=0;k<f.length;k++)u["$"+f[k]]=!0;for(f=0;f<l.length;f++)k=u.hasOwnProperty("$"+l[f].value),l[f].selected!==k&&(l[f].selected=k),k&&b&&(l[f].defaultSelected=!0)}else{for(f=""+Ce(f),u=null,k=0;k<l.length;k++){if(l[k].value===f){l[k].selected=!0,b&&(l[k].defaultSelected=!0);return}u!==null||l[k].disabled||(u=l[k])}u!==null&&(u.selected=!0)}}function Dt(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return be({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function wt(l,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(t(92));if(rt(f)){if(1<f.length)throw Error(t(93));f=f[0]}u=f}u==null&&(u=""),f=u}l._wrapperState={initialValue:Ce(f)}}function an(l,u){var f=Ce(u.value),b=Ce(u.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),u.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),b!=null&&(l.defaultValue=""+b)}function Nt(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Pt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Pt(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Rt,pt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,b,k){MSApp.execUnsafeLocalFunction(function(){return l(u,f,b,k)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Rt=Rt||document.createElement("div"),Rt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Rt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Ct(l,u){if(u){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=u;return}}l.textContent=u}var vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zn=["Webkit","ms","Moz","O"];Object.keys(vt).forEach(function(l){zn.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),vt[u]=vt[l]})});function gn(l,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||vt.hasOwnProperty(l)&&vt[l]?(""+u).trim():u+"px"}function bt(l,u){l=l.style;for(var f in u)if(u.hasOwnProperty(f)){var b=f.indexOf("--")===0,k=gn(f,u[f],b);f==="float"&&(f="cssFloat"),b?l.setProperty(f,k):l[f]=k}}var $t=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cn(l,u){if(u){if($t[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Et(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function Ut(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var sr=null,er=null,yn=null;function Bt(l){if(l=Eh(l)){if(typeof sr!="function")throw Error(t(280));var u=l.stateNode;u&&(u=ef(u),sr(l.stateNode,l.type,u))}}function bn(l){er?yn?yn.push(l):yn=[l]:er=l}function $l(){if(er){var l=er,u=yn;if(yn=er=null,Bt(l),u)for(l=0;l<u.length;l++)Bt(u[l])}}function vi(l,u){return l(u)}function ya(){}var so=!1;function Lt(l,u,f){if(so)return l(u,f);so=!0;try{return vi(l,u,f)}finally{so=!1,(er!==null||yn!==null)&&(ya(),$l())}}function js(l,u){var f=l.stateNode;if(f===null)return null;var b=ef(f);if(b===null)return null;f=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(t(231,u,typeof f));return f}var Mo=!1;if(a)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Mo=!1}function oo(l,u,f,b,k,P,V,he,we){var Me=Array.prototype.slice.call(arguments,3);try{u.apply(f,Me)}catch(Ye){this.onError(Ye)}}var qn=!1,br=null,Mr=!1,Ja=null,Hl={onError:function(l){qn=!0,br=l}};function Oo(l,u,f,b,k,P,V,he,we){qn=!1,br=null,oo.apply(Hl,arguments)}function va(l,u,f,b,k,P,V,he,we){if(Oo.apply(this,arguments),qn){if(qn){var Me=br;qn=!1,br=null}else throw Error(t(198));Mr||(Mr=!0,Ja=Me)}}function bi(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function ao(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Bs(l){if(bi(l)!==l)throw Error(t(188))}function Bc(l){var u=l.alternate;if(!u){if(u=bi(l),u===null)throw Error(t(188));return u!==l?null:l}for(var f=l,b=u;;){var k=f.return;if(k===null)break;var P=k.alternate;if(P===null){if(b=k.return,b!==null){f=b;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===f)return Bs(k),l;if(P===b)return Bs(k),u;P=P.sibling}throw Error(t(188))}if(f.return!==b.return)f=k,b=P;else{for(var V=!1,he=k.child;he;){if(he===f){V=!0,f=k,b=P;break}if(he===b){V=!0,b=k,f=P;break}he=he.sibling}if(!V){for(he=P.child;he;){if(he===f){V=!0,f=P,b=k;break}if(he===b){V=!0,b=P,f=k;break}he=he.sibling}if(!V)throw Error(t(189))}}if(f.alternate!==b)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?l:u}function Fo(l){return l=Bc(l),l!==null?Vl(l):null}function Vl(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Vl(l);if(u!==null)return u;l=l.sibling}return null}var Uc=e.unstable_scheduleCallback,zc=e.unstable_cancelCallback,ah=e.unstable_shouldYield,C0=e.unstable_requestPaint,Yn=e.unstable_now,Qp=e.unstable_getCurrentPriorityLevel,lh=e.unstable_ImmediatePriority,Us=e.unstable_UserBlockingPriority,Wl=e.unstable_NormalPriority,Zp=e.unstable_LowPriority,ch=e.unstable_IdlePriority,qc=null,zs=null;function em(l){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(qc,l,void 0,(l.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:tm,E0=Math.log,Or=Math.LN2;function tm(l){return l>>>=0,l===0?32:31-(E0(l)/Or|0)|0}var $c=64,lo=4194304;function Do(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function cs(l,u){var f=l.pendingLanes;if(f===0)return 0;var b=0,k=l.suspendedLanes,P=l.pingedLanes,V=f&268435455;if(V!==0){var he=V&~k;he!==0?b=Do(he):(P&=V,P!==0&&(b=Do(P)))}else V=f&~k,V!==0?b=Do(V):P!==0&&(b=Do(P));if(b===0)return 0;if(u!==0&&u!==b&&(u&k)===0&&(k=b&-b,P=u&-u,k>=P||k===16&&(P&4194240)!==0))return u;if((b&4)!==0&&(b|=f&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)f=31-Li(u),k=1<<f,b|=l[f],u&=~k;return b}function Hc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(l,u){for(var f=l.suspendedLanes,b=l.pingedLanes,k=l.expirationTimes,P=l.pendingLanes;0<P;){var V=31-Li(P),he=1<<V,we=k[V];we===-1?((he&f)===0||(he&b)!==0)&&(k[V]=Hc(he,u)):we<=u&&(l.expiredLanes|=he),P&=~he}}function Vc(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function nm(){var l=$c;return $c<<=1,($c&4194240)===0&&($c=64),l}function Dd(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function Wc(l,u,f){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Li(u),l[u]=f}function ba(l,u){var f=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<f;){var k=31-Li(f),P=1<<k;u[k]=0,b[k]=-1,l[k]=-1,f&=~P}}function uh(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var b=31-Li(f),k=1<<b;k&u|l[b]&u&&(l[b]|=u),f&=~k}}var vn=0;function Qa(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var hh,jd,rm,im,dh,Za=!1,jo=[],_a=null,us=null,co=null,Ft=new Map,Gc=new Map,wa=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sm(l,u){switch(l){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ft.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(u.pointerId)}}function qs(l,u,f,b,k,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:f,eventSystemFlags:b,nativeEvent:P,targetContainers:[k]},u!==null&&(u=Eh(u),u!==null&&jd(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),l)}function el(l,u,f,b,k){switch(u){case"focusin":return _a=qs(_a,l,u,f,b,k),!0;case"dragenter":return us=qs(us,l,u,f,b,k),!0;case"mouseover":return co=qs(co,l,u,f,b,k),!0;case"pointerover":var P=k.pointerId;return Ft.set(P,qs(Ft.get(P)||null,l,u,f,b,k)),!0;case"gotpointercapture":return P=k.pointerId,Gc.set(P,qs(Gc.get(P)||null,l,u,f,b,k)),!0}return!1}function om(l){var u=nc(l.target);if(u!==null){var f=bi(u);if(f!==null){if(u=f.tag,u===13){if(u=ao(f),u!==null){l.blockedOn=u,dh(l.priority,function(){rm(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fh(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var f=Xc(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var b=new f.constructor(f.type,f);nn=b,f.target.dispatchEvent(b),nn=null}else return u=Eh(f),u!==null&&jd(u),l.blockedOn=f,!1;u.shift()}return!0}function Yc(l,u,f){fh(l)&&f.delete(u)}function Bd(){Za=!1,_a!==null&&fh(_a)&&(_a=null),us!==null&&fh(us)&&(us=null),co!==null&&fh(co)&&(co=null),Ft.forEach(Yc),Gc.forEach(Yc)}function Bo(l,u){l.blockedOn===u&&(l.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bd)))}function xa(l){function u(k){return Bo(k,l)}if(0<jo.length){Bo(jo[0],l);for(var f=1;f<jo.length;f++){var b=jo[f];b.blockedOn===l&&(b.blockedOn=null)}}for(_a!==null&&Bo(_a,l),us!==null&&Bo(us,l),co!==null&&Bo(co,l),Ft.forEach(u),Gc.forEach(u),f=0;f<wa.length;f++)b=wa[f],b.blockedOn===l&&(b.blockedOn=null);for(;0<wa.length&&(f=wa[0],f.blockedOn===null);)om(f),f.blockedOn===null&&wa.shift()}var Uo=R.ReactCurrentBatchConfig,ph=!0;function Ud(l,u,f,b){var k=vn,P=Uo.transition;Uo.transition=null;try{vn=1,tl(l,u,f,b)}finally{vn=k,Uo.transition=P}}function zd(l,u,f,b){var k=vn,P=Uo.transition;Uo.transition=null;try{vn=4,tl(l,u,f,b)}finally{vn=k,Uo.transition=P}}function tl(l,u,f,b){if(ph){var k=Xc(l,u,f,b);if(k===null)Jd(l,u,b,Sa,f),sm(l,b);else if(el(k,l,u,f,b))b.stopPropagation();else if(sm(l,b),u&4&&-1<T0.indexOf(l)){for(;k!==null;){var P=Eh(k);if(P!==null&&hh(P),P=Xc(l,u,f,b),P===null&&Jd(l,u,b,Sa,f),P===k)break;k=P}k!==null&&b.stopPropagation()}else Jd(l,u,b,null,f)}}var Sa=null;function Xc(l,u,f,b){if(Sa=null,l=Ut(b),l=nc(l),l!==null)if(u=bi(l),u===null)l=null;else if(f=u.tag,f===13){if(l=ao(u),l!==null)return l;l=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Sa=l,null}function Kc(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qp()){case lh:return 1;case Us:return 4;case Wl:case Zp:return 16;case ch:return 536870912;default:return 16}default:return 16}}var uo=null,nl=null,Gl=null;function mh(){if(Gl)return Gl;var l,u=nl,f=u.length,b,k="value"in uo?uo.value:uo.textContent,P=k.length;for(l=0;l<f&&u[l]===k[l];l++);var V=f-l;for(b=1;b<=V&&u[f-b]===k[P-b];b++);return Gl=k.slice(l,1<b?1-b:void 0)}function Ri(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function $s(){return!0}function C(){return!1}function z(l){function u(f,b,k,P,V){this._reactName=f,this._targetInst=k,this.type=b,this.nativeEvent=P,this.target=V,this.currentTarget=null;for(var he in l)l.hasOwnProperty(he)&&(f=l[he],this[he]=f?f(P):P[he]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?$s:C,this.isPropagationStopped=C,this}return be(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),u}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ve=z(le),Ee=be({},le,{view:0,detail:0}),ze=z(Ee),Ve,at,ut,It=be({},Ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ut&&(ut&&l.type==="mousemove"?(Ve=l.screenX-ut.screenX,at=l.screenY-ut.screenY):at=Ve=0,ut=l),Ve)},movementY:function(l){return"movementY"in l?l.movementY:at}}),Ht=z(It),_n=be({},It,{dataTransfer:0}),or=z(_n),Fr=be({},Ee,{relatedTarget:0}),An=z(Fr),Gr=be({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=z(Gr),_i=be({},le,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rl=z(_i),Yl=be({},le,{data:0}),am=z(Yl),lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qd(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=zo[l])?!!u[l]:!1}function Xl(){return qd}var Kl=be({},Ee,{key:function(l){if(l.key){var u=lm[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ri(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Jc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(l){return l.type==="keypress"?Ri(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ri(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ai=z(Kl),il=be({},It,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=z(il),gh=be({},Ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),$d=z(gh),Yi=be({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),cm=z(Yi),yh=be({},It,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),um=z(yh),Yr=[9,13,27,32],hs=a&&"CompositionEvent"in window,sl=null;a&&"documentMode"in document&&(sl=document.documentMode);var Hd=a&&"TextEvent"in window&&!sl,ol=a&&(!hs||sl&&8<sl&&11>=sl),Qc=" ",Xi=!1;function Ki(l,u){switch(l){case"keyup":return Yr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ji=!1;function Ql(l,u){switch(l){case"compositionend":return Jl(u);case"keypress":return u.which!==32?null:(Xi=!0,Qc);case"textInput":return l=u.data,l===Qc&&Xi?null:l;default:return null}}function Vd(l,u){if(Ji)return l==="compositionend"||!hs&&Ki(l,u)?(l=mh(),Gl=nl=uo=null,Ji=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ol&&u.locale!=="ko"?null:u.data;default:return null}}var Zl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Zl[l.type]:u==="textarea"}function hm(l,u,f,b){bn(b),u=ym(u,"onChange"),0<u.length&&(f=new ve("onChange","change",null,f,b),l.push({event:f,listeners:u}))}var ds=null,fs=null;function vh(l){Xd(l,0)}function ec(l){var u=ou(l);if($e(u))return l}function bh(l,u){if(l==="change")return u}var Zc=!1;if(a){var al;if(a){var ll="oninput"in document;if(!ll){var ka=document.createElement("div");ka.setAttribute("oninput","return;"),ll=typeof ka.oninput=="function"}al=ll}else al=!1;Zc=al&&(!document.documentMode||9<document.documentMode)}function _h(){ds&&(ds.detachEvent("onpropertychange",ps),fs=ds=null)}function ps(l){if(l.propertyName==="value"&&ec(fs)){var u=[];hm(u,fs,l,Ut(l)),Lt(vh,u)}}function Ca(l,u,f){l==="focusin"?(_h(),ds=u,fs=f,ds.attachEvent("onpropertychange",ps)):l==="focusout"&&_h()}function $n(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ec(fs)}function Hn(l,u){if(l==="click")return ec(u)}function wr(l,u){if(l==="input"||l==="change")return ec(u)}function xr(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Xr=typeof Object.is=="function"?Object.is:xr;function Ea(l,u){if(Xr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),b=Object.keys(u);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var k=f[b];if(!c.call(u,k)||!Xr(l[k],u[k]))return!1}return!0}function qo(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function wh(l,u){var f=qo(l);l=0;for(var b;f;){if(f.nodeType===3){if(b=l+f.textContent.length,l<=u&&b>=u)return{node:f,offset:u-l};l=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=qo(f)}}function N0(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?N0(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function P0(){for(var l=window,u=Fe();u instanceof l.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)l=u.contentWindow;else break;u=Fe(l.document)}return u}function dm(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function I2(l){var u=P0(),f=l.focusedElem,b=l.selectionRange;if(u!==f&&f&&f.ownerDocument&&N0(f.ownerDocument.documentElement,f)){if(b!==null&&dm(f)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(l,f.value.length);else if(l=(u=f.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var k=f.textContent.length,P=Math.min(b.start,k);b=b.end===void 0?P:Math.min(b.end,k),!l.extend&&P>b&&(k=b,b=P,P=k),k=wh(f,P);var V=wh(f,b);k&&V&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==V.node||l.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),l.removeAllRanges(),P>b?(l.addRange(u),l.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),l.addRange(u)))}}for(u=[],l=f;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)l=u[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var M2=a&&"documentMode"in document&&11>=document.documentMode,eu=null,fm=null,xh=null,pm=!1;function L0(l,u,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;pm||eu==null||eu!==Fe(b)||(b=eu,"selectionStart"in b&&dm(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),xh&&Ea(xh,b)||(xh=b,b=ym(fm,"onSelect"),0<b.length&&(u=new ve("onSelect","select",null,u,f),l.push({event:u,listeners:b}),u.target=eu)))}function Wd(l,u){var f={};return f[l.toLowerCase()]=u.toLowerCase(),f["Webkit"+l]="webkit"+u,f["Moz"+l]="moz"+u,f}var tu={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},nu={},R0={};a&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Gd(l){if(nu[l])return nu[l];if(!tu[l])return l;var u=tu[l],f;for(f in u)if(u.hasOwnProperty(f)&&f in R0)return nu[l]=u[f];return l}var I0=Gd("animationend"),M0=Gd("animationiteration"),O0=Gd("animationstart"),F0=Gd("transitionend"),D0=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(l,u){D0.set(l,u),s(u,[l])}for(var Sh=0;Sh<j0.length;Sh++){var Qi=j0[Sh],ho=Qi.toLowerCase(),mm=Qi[0].toUpperCase()+Qi.slice(1);Ta(ho,"on"+mm)}Ta(I0,"onAnimationEnd"),Ta(M0,"onAnimationIteration"),Ta(O0,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(F0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function Yd(l,u,f){var b=l.type||"unknown-event";l.currentTarget=f,va(b,u,void 0,l),l.currentTarget=null}function Xd(l,u){u=(u&4)!==0;for(var f=0;f<l.length;f++){var b=l[f],k=b.event;b=b.listeners;e:{var P=void 0;if(u)for(var V=b.length-1;0<=V;V--){var he=b[V],we=he.instance,Me=he.currentTarget;if(he=he.listener,we!==P&&k.isPropagationStopped())break e;Yd(k,he,Me),P=we}else for(V=0;V<b.length;V++){if(he=b[V],we=he.instance,Me=he.currentTarget,he=he.listener,we!==P&&k.isPropagationStopped())break e;Yd(k,he,Me),P=we}}}if(Mr)throw l=Ja,Mr=!1,Ja=null,l}function In(l,u){var f=u[gs];f===void 0&&(f=u[gs]=new Set);var b=l+"__bubble";f.has(b)||(Kd(u,l,2,!1),f.add(b))}function gm(l,u,f){var b=0;u&&(b|=4),Kd(f,l,b,u)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ru(l){if(!l[Ah]){l[Ah]=!0,n.forEach(function(f){f!=="selectionchange"&&(O2.has(f)||gm(f,!1,l),gm(f,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Ah]||(u[Ah]=!0,gm("selectionchange",!1,u))}}function Kd(l,u,f,b){switch(Kc(u)){case 1:var k=Ud;break;case 4:k=zd;break;default:k=tl}f=k.bind(null,u,f,l),k=void 0,!Mo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),b?k!==void 0?l.addEventListener(u,f,{capture:!0,passive:k}):l.addEventListener(u,f,!0):k!==void 0?l.addEventListener(u,f,{passive:k}):l.addEventListener(u,f,!1)}function Jd(l,u,f,b,k){var P=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var he=b.stateNode.containerInfo;if(he===k||he.nodeType===8&&he.parentNode===k)break;if(V===4)for(V=b.return;V!==null;){var we=V.tag;if((we===3||we===4)&&(we=V.stateNode.containerInfo,we===k||we.nodeType===8&&we.parentNode===k))return;V=V.return}for(;he!==null;){if(V=nc(he),V===null)return;if(we=V.tag,we===5||we===6){b=P=V;continue e}he=he.parentNode}}b=b.return}Lt(function(){var Me=P,Ye=Ut(f),Xe=[];e:{var Ge=D0.get(l);if(Ge!==void 0){var nt=ve,dt=l;switch(l){case"keypress":if(Ri(f)===0)break e;case"keydown":case"keyup":nt=ai;break;case"focusin":dt="focus",nt=An;break;case"focusout":dt="blur",nt=An;break;case"beforeblur":case"afterblur":nt=An;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=$d;break;case I0:case M0:case O0:nt=Dr;break;case F0:nt=cm;break;case"scroll":nt=ze;break;case"wheel":nt=um;break;case"copy":case"cut":case"paste":nt=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Aa}var gt=(u&4)!==0,Qr=!gt&&l==="scroll",Pe=gt?Ge!==null?Ge+"Capture":null:Ge;gt=[];for(var Ae=Me,Ie;Ae!==null;){Ie=Ae;var Ke=Ie.stateNode;if(Ie.tag===5&&Ke!==null&&(Ie=Ke,Pe!==null&&(Ke=js(Ae,Pe),Ke!=null&&gt.push(Qd(Ae,Ke,Ie)))),Qr)break;Ae=Ae.return}0<gt.length&&(Ge=new nt(Ge,dt,null,f,Ye),Xe.push({event:Ge,listeners:gt}))}}if((u&7)===0){e:{if(Ge=l==="mouseover"||l==="pointerover",nt=l==="mouseout"||l==="pointerout",Ge&&f!==nn&&(dt=f.relatedTarget||f.fromElement)&&(nc(dt)||dt[Ii]))break e;if((nt||Ge)&&(Ge=Ye.window===Ye?Ye:(Ge=Ye.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,nt?(dt=f.relatedTarget||f.toElement,nt=Me,dt=dt?nc(dt):null,dt!==null&&(Qr=bi(dt),dt!==Qr||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(nt=null,dt=Me),nt!==dt)){if(gt=Ht,Ke="onMouseLeave",Pe="onMouseEnter",Ae="mouse",(l==="pointerout"||l==="pointerover")&&(gt=Aa,Ke="onPointerLeave",Pe="onPointerEnter",Ae="pointer"),Qr=nt==null?Ge:ou(nt),Ie=dt==null?Ge:ou(dt),Ge=new gt(Ke,Ae+"leave",nt,f,Ye),Ge.target=Qr,Ge.relatedTarget=Ie,Ke=null,nc(Ye)===Me&&(gt=new gt(Pe,Ae+"enter",dt,f,Ye),gt.target=Ie,gt.relatedTarget=Qr,Ke=gt),Qr=Ke,nt&&dt)t:{for(gt=nt,Pe=dt,Ae=0,Ie=gt;Ie;Ie=iu(Ie))Ae++;for(Ie=0,Ke=Pe;Ke;Ke=iu(Ke))Ie++;for(;0<Ae-Ie;)gt=iu(gt),Ae--;for(;0<Ie-Ae;)Pe=iu(Pe),Ie--;for(;Ae--;){if(gt===Pe||Pe!==null&&gt===Pe.alternate)break t;gt=iu(gt),Pe=iu(Pe)}gt=null}else gt=null;nt!==null&&F2(Xe,Ge,nt,gt,!1),dt!==null&&Qr!==null&&F2(Xe,Qr,dt,gt,!0)}}e:{if(Ge=Me?ou(Me):window,nt=Ge.nodeName&&Ge.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Ge.type==="file")var xt=bh;else if(hr(Ge))if(Zc)xt=wr;else{xt=$n;var Mt=Ca}else(nt=Ge.nodeName)&&nt.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(xt=Hn);if(xt&&(xt=xt(l,Me))){hm(Xe,xt,f,Ye);break e}Mt&&Mt(l,Ge,Me),l==="focusout"&&(Mt=Ge._wrapperState)&&Mt.controlled&&Ge.type==="number"&&We(Ge,"number",Ge.value)}switch(Mt=Me?ou(Me):window,l){case"focusin":(hr(Mt)||Mt.contentEditable==="true")&&(eu=Mt,fm=Me,xh=null);break;case"focusout":xh=fm=eu=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,L0(Xe,f,Ye);break;case"selectionchange":if(M2)break;case"keydown":case"keyup":L0(Xe,f,Ye)}var Ot;if(hs)e:{switch(l){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Ji?Ki(l,f)&&(zt="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(ol&&f.locale!=="ko"&&(Ji||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ji&&(Ot=mh()):(uo=Ye,nl="value"in uo?uo.value:uo.textContent,Ji=!0)),Mt=ym(Me,zt),0<Mt.length&&(zt=new am(zt,l,null,f,Ye),Xe.push({event:zt,listeners:Mt}),Ot?zt.data=Ot:(Ot=Jl(f),Ot!==null&&(zt.data=Ot)))),(Ot=Hd?Ql(l,f):Vd(l,f))&&(Me=ym(Me,"onBeforeInput"),0<Me.length&&(Ye=new am("onBeforeInput","beforeinput",null,f,Ye),Xe.push({event:Ye,listeners:Me}),Ye.data=Ot))}Xd(Xe,u)})}function Qd(l,u,f){return{instance:l,listener:u,currentTarget:f}}function ym(l,u){for(var f=u+"Capture",b=[];l!==null;){var k=l,P=k.stateNode;k.tag===5&&P!==null&&(k=P,P=js(l,f),P!=null&&b.unshift(Qd(l,P,k)),P=js(l,u),P!=null&&b.push(Qd(l,P,k))),l=l.return}return b}function iu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function F2(l,u,f,b,k){for(var P=u._reactName,V=[];f!==null&&f!==b;){var he=f,we=he.alternate,Me=he.stateNode;if(we!==null&&we===b)break;he.tag===5&&Me!==null&&(he=Me,k?(we=js(f,P),we!=null&&V.unshift(Qd(f,we,he))):k||(we=js(f,P),we!=null&&V.push(Qd(f,we,he)))),f=f.return}V.length!==0&&l.push({event:u,listeners:V})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function D2(l){return(typeof l=="string"?l:""+l).replace(iw,`
`).replace(sw,"")}function vm(l,u,f){if(u=D2(u),D2(l)!==u&&f)throw Error(t(425))}function kh(){}var Zd=null,su=null;function B0(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var U0=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,B2=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof B2<"u"?function(l){return B2.resolve(null).then(l).catch(aw)}:U0;function aw(l){setTimeout(function(){throw l})}function z0(l,u){var f=u,b=0;do{var k=f.nextSibling;if(l.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(b===0){l.removeChild(k),xa(u);return}b--}else f!=="$"&&f!=="$?"&&f!=="$!"||b++;f=k}while(f);xa(u)}function Zi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function fo(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return l;u--}else f==="/$"&&u++}l=l.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Na="__reactFiber$"+ms,Ch="__reactProps$"+ms,Ii="__reactContainer$"+ms,gs="__reactEvents$"+ms,lw="__reactListeners$"+ms,cw="__reactHandles$"+ms;function nc(l){var u=l[Na];if(u)return u;for(var f=l.parentNode;f;){if(u=f[Ii]||f[Na]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(l=fo(l);l!==null;){if(f=l[Na])return f;l=fo(l)}return u}l=f,f=l.parentNode}return null}function Eh(l){return l=l[Na]||l[Ii],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ou(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function ef(l){return l[Ch]||null}var q0=[],cl=-1;function $o(l){return{current:l}}function En(l){0>cl||(l.current=q0[cl],q0[cl]=null,cl--)}function Pn(l,u){cl++,q0[cl]=l.current,l.current=u}var rc={},wi=$o(rc),ys=$o(!1),au=rc;function Th(l,u){var f=l.type.contextTypes;if(!f)return rc;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in f)k[P]=u[P];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=k),k}function vs(l){return l=l.childContextTypes,l!=null}function bm(){En(ys),En(wi)}function U2(l,u,f){if(wi.current!==rc)throw Error(t(168));Pn(wi,u),Pn(ys,f)}function $0(l,u,f){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return f;b=b.getChildContext();for(var k in b)if(!(k in u))throw Error(t(108,fe(l)||"Unknown",k));return be({},f,b)}function lu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||rc,au=wi.current,Pn(wi,l),Pn(ys,ys.current),!0}function z2(l,u,f){var b=l.stateNode;if(!b)throw Error(t(169));f?(l=$0(l,u,au),b.__reactInternalMemoizedMergedChildContext=l,En(ys),En(wi),Pn(wi,l)):En(ys),Pn(ys,f)}var ul=null,tf=!1,v=!1;function w(l){ul===null?ul=[l]:ul.push(l)}function T(l){tf=!0,w(l)}function L(){if(!v&&ul!==null){v=!0;var l=0,u=vn;try{var f=ul;for(vn=1;l<f.length;l++){var b=f[l];do b=b(!0);while(b!==null)}ul=null,tf=!1}catch(k){throw ul!==null&&(ul=ul.slice(l+1)),Uc(lh,L),k}finally{vn=u,v=!1}}return null}var q=[],G=0,X=null,Q=0,te=[],oe=0,_e=null,Ne=1,ae="";function Se(l,u){q[G++]=Q,q[G++]=X,X=l,Q=u}function Te(l,u,f){te[oe++]=Ne,te[oe++]=ae,te[oe++]=_e,_e=l;var b=Ne;l=ae;var k=32-Li(b)-1;b&=~(1<<k),f+=1;var P=32-Li(u)+k;if(30<P){var V=k-k%5;P=(b&(1<<V)-1).toString(32),b>>=V,k-=V,Ne=1<<32-Li(u)+k|f<<k|b,ae=P+l}else Ne=1<<P|f<<k|b,ae=l}function Be(l){l.return!==null&&(Se(l,1),Te(l,1,0))}function Re(l){for(;l===X;)X=q[--G],q[G]=null,Q=q[--G],q[G]=null;for(;l===_e;)_e=te[--oe],te[oe]=null,ae=te[--oe],te[oe]=null,Ne=te[--oe],te[oe]=null}var Oe=null,De=null,qe=!1,He=null;function _t(l,u){var f=Ma(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=l,u=l.deletions,u===null?(l.deletions=[f],l.flags|=16):u.push(f)}function st(l,u){switch(l.tag){case 5:var f=l.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Oe=l,De=Zi(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Oe=l,De=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=_e!==null?{id:Ne,overflow:ae}:null,l.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Ma(18,null,null,0),f.stateNode=u,f.return=l,l.child=f,Oe=l,De=null,!0):!1;default:return!1}}function Vt(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ht(l){if(qe){var u=De;if(u){var f=u;if(!st(l,u)){if(Vt(l))throw Error(t(418));u=Zi(f.nextSibling);var b=Oe;u&&st(l,u)?_t(b,f):(l.flags=l.flags&-4097|2,qe=!1,Oe=l)}}else{if(Vt(l))throw Error(t(418));l.flags=l.flags&-4097|2,qe=!1,Oe=l}}}function ln(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Oe=l}function dr(l){if(l!==Oe)return!1;if(!qe)return ln(l),qe=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!B0(l.type,l.memoizedProps)),u&&(u=De)){if(Vt(l))throw Gt(),Error(t(418));for(;u;)_t(l,u),u=Zi(u.nextSibling)}if(ln(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(u===0){De=Zi(l.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}l=l.nextSibling}De=null}}else De=Oe?Zi(l.stateNode.nextSibling):null;return!0}function Gt(){for(var l=De;l;)l=Zi(l.nextSibling)}function ot(){De=Oe=null,qe=!1}function Qe(l){He===null?He=[l]:He.push(l)}var Sr=R.ReactCurrentBatchConfig;function jt(l,u,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var b=f.stateNode}if(!b)throw Error(t(147,l));var k=b,P=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(V){var he=k.refs;V===null?delete he[P]:he[P]=V},u._stringRef=P,u)}if(typeof l!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,l))}return l}function rn(l,u){throw l=Object.prototype.toString.call(u),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Vn(l){var u=l._init;return u(l._payload)}function li(l){function u(Pe,Ae){if(l){var Ie=Pe.deletions;Ie===null?(Pe.deletions=[Ae],Pe.flags|=16):Ie.push(Ae)}}function f(Pe,Ae){if(!l)return null;for(;Ae!==null;)u(Pe,Ae),Ae=Ae.sibling;return null}function b(Pe,Ae){for(Pe=new Map;Ae!==null;)Ae.key!==null?Pe.set(Ae.key,Ae):Pe.set(Ae.index,Ae),Ae=Ae.sibling;return Pe}function k(Pe,Ae){return Pe=jh(Pe,Ae),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,Ae,Ie){return Pe.index=Ie,l?(Ie=Pe.alternate,Ie!==null?(Ie=Ie.index,Ie<Ae?(Pe.flags|=2,Ae):Ie):(Pe.flags|=2,Ae)):(Pe.flags|=1048576,Ae)}function V(Pe){return l&&Pe.alternate===null&&(Pe.flags|=2),Pe}function he(Pe,Ae,Ie,Ke){return Ae===null||Ae.tag!==6?(Ae=jw(Ie,Pe.mode,Ke),Ae.return=Pe,Ae):(Ae=k(Ae,Ie),Ae.return=Pe,Ae)}function we(Pe,Ae,Ie,Ke){var xt=Ie.type;return xt===B?Ye(Pe,Ae,Ie.props.children,Ke,Ie.key):Ae!==null&&(Ae.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ge&&Vn(xt)===Ae.type)?(Ke=k(Ae,Ie.props),Ke.ref=jt(Pe,Ae,Ie),Ke.return=Pe,Ke):(Ke=av(Ie.type,Ie.key,Ie.props,null,Pe.mode,Ke),Ke.ref=jt(Pe,Ae,Ie),Ke.return=Pe,Ke)}function Me(Pe,Ae,Ie,Ke){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Ie.containerInfo||Ae.stateNode.implementation!==Ie.implementation?(Ae=Bw(Ie,Pe.mode,Ke),Ae.return=Pe,Ae):(Ae=k(Ae,Ie.children||[]),Ae.return=Pe,Ae)}function Ye(Pe,Ae,Ie,Ke,xt){return Ae===null||Ae.tag!==7?(Ae=uf(Ie,Pe.mode,Ke,xt),Ae.return=Pe,Ae):(Ae=k(Ae,Ie),Ae.return=Pe,Ae)}function Xe(Pe,Ae,Ie){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=jw(""+Ae,Pe.mode,Ie),Ae.return=Pe,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case O:return Ie=av(Ae.type,Ae.key,Ae.props,null,Pe.mode,Ie),Ie.ref=jt(Pe,null,Ae),Ie.return=Pe,Ie;case U:return Ae=Bw(Ae,Pe.mode,Ie),Ae.return=Pe,Ae;case ge:var Ke=Ae._init;return Xe(Pe,Ke(Ae._payload),Ie)}if(rt(Ae)||ye(Ae))return Ae=uf(Ae,Pe.mode,Ie,null),Ae.return=Pe,Ae;rn(Pe,Ae)}return null}function Ge(Pe,Ae,Ie,Ke){var xt=Ae!==null?Ae.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return xt!==null?null:he(Pe,Ae,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:return Ie.key===xt?we(Pe,Ae,Ie,Ke):null;case U:return Ie.key===xt?Me(Pe,Ae,Ie,Ke):null;case ge:return xt=Ie._init,Ge(Pe,Ae,xt(Ie._payload),Ke)}if(rt(Ie)||ye(Ie))return xt!==null?null:Ye(Pe,Ae,Ie,Ke,null);rn(Pe,Ie)}return null}function nt(Pe,Ae,Ie,Ke,xt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Pe=Pe.get(Ie)||null,he(Ae,Pe,""+Ke,xt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case O:return Pe=Pe.get(Ke.key===null?Ie:Ke.key)||null,we(Ae,Pe,Ke,xt);case U:return Pe=Pe.get(Ke.key===null?Ie:Ke.key)||null,Me(Ae,Pe,Ke,xt);case ge:var Mt=Ke._init;return nt(Pe,Ae,Ie,Mt(Ke._payload),xt)}if(rt(Ke)||ye(Ke))return Pe=Pe.get(Ie)||null,Ye(Ae,Pe,Ke,xt,null);rn(Ae,Ke)}return null}function dt(Pe,Ae,Ie,Ke){for(var xt=null,Mt=null,Ot=Ae,zt=Ae=0,ji=null;Ot!==null&&zt<Ie.length;zt++){Ot.index>zt?(ji=Ot,Ot=null):ji=Ot.sibling;var kn=Ge(Pe,Ot,Ie[zt],Ke);if(kn===null){Ot===null&&(Ot=ji);break}l&&Ot&&kn.alternate===null&&u(Pe,Ot),Ae=P(kn,Ae,zt),Mt===null?xt=kn:Mt.sibling=kn,Mt=kn,Ot=ji}if(zt===Ie.length)return f(Pe,Ot),qe&&Se(Pe,zt),xt;if(Ot===null){for(;zt<Ie.length;zt++)Ot=Xe(Pe,Ie[zt],Ke),Ot!==null&&(Ae=P(Ot,Ae,zt),Mt===null?xt=Ot:Mt.sibling=Ot,Mt=Ot);return qe&&Se(Pe,zt),xt}for(Ot=b(Pe,Ot);zt<Ie.length;zt++)ji=nt(Ot,Pe,zt,Ie[zt],Ke),ji!==null&&(l&&ji.alternate!==null&&Ot.delete(ji.key===null?zt:ji.key),Ae=P(ji,Ae,zt),Mt===null?xt=ji:Mt.sibling=ji,Mt=ji);return l&&Ot.forEach(function(Bh){return u(Pe,Bh)}),qe&&Se(Pe,zt),xt}function gt(Pe,Ae,Ie,Ke){var xt=ye(Ie);if(typeof xt!="function")throw Error(t(150));if(Ie=xt.call(Ie),Ie==null)throw Error(t(151));for(var Mt=xt=null,Ot=Ae,zt=Ae=0,ji=null,kn=Ie.next();Ot!==null&&!kn.done;zt++,kn=Ie.next()){Ot.index>zt?(ji=Ot,Ot=null):ji=Ot.sibling;var Bh=Ge(Pe,Ot,kn.value,Ke);if(Bh===null){Ot===null&&(Ot=ji);break}l&&Ot&&Bh.alternate===null&&u(Pe,Ot),Ae=P(Bh,Ae,zt),Mt===null?xt=Bh:Mt.sibling=Bh,Mt=Bh,Ot=ji}if(kn.done)return f(Pe,Ot),qe&&Se(Pe,zt),xt;if(Ot===null){for(;!kn.done;zt++,kn=Ie.next())kn=Xe(Pe,kn.value,Ke),kn!==null&&(Ae=P(kn,Ae,zt),Mt===null?xt=kn:Mt.sibling=kn,Mt=kn);return qe&&Se(Pe,zt),xt}for(Ot=b(Pe,Ot);!kn.done;zt++,kn=Ie.next())kn=nt(Ot,Pe,zt,kn.value,Ke),kn!==null&&(l&&kn.alternate!==null&&Ot.delete(kn.key===null?zt:kn.key),Ae=P(kn,Ae,zt),Mt===null?xt=kn:Mt.sibling=kn,Mt=kn);return l&&Ot.forEach(function(MM){return u(Pe,MM)}),qe&&Se(Pe,zt),xt}function Qr(Pe,Ae,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===B&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:e:{for(var xt=Ie.key,Mt=Ae;Mt!==null;){if(Mt.key===xt){if(xt=Ie.type,xt===B){if(Mt.tag===7){f(Pe,Mt.sibling),Ae=k(Mt,Ie.props.children),Ae.return=Pe,Pe=Ae;break e}}else if(Mt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===ge&&Vn(xt)===Mt.type){f(Pe,Mt.sibling),Ae=k(Mt,Ie.props),Ae.ref=jt(Pe,Mt,Ie),Ae.return=Pe,Pe=Ae;break e}f(Pe,Mt);break}else u(Pe,Mt);Mt=Mt.sibling}Ie.type===B?(Ae=uf(Ie.props.children,Pe.mode,Ke,Ie.key),Ae.return=Pe,Pe=Ae):(Ke=av(Ie.type,Ie.key,Ie.props,null,Pe.mode,Ke),Ke.ref=jt(Pe,Ae,Ie),Ke.return=Pe,Pe=Ke)}return V(Pe);case U:e:{for(Mt=Ie.key;Ae!==null;){if(Ae.key===Mt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Ie.containerInfo&&Ae.stateNode.implementation===Ie.implementation){f(Pe,Ae.sibling),Ae=k(Ae,Ie.children||[]),Ae.return=Pe,Pe=Ae;break e}else{f(Pe,Ae);break}else u(Pe,Ae);Ae=Ae.sibling}Ae=Bw(Ie,Pe.mode,Ke),Ae.return=Pe,Pe=Ae}return V(Pe);case ge:return Mt=Ie._init,Qr(Pe,Ae,Mt(Ie._payload),Ke)}if(rt(Ie))return dt(Pe,Ae,Ie,Ke);if(ye(Ie))return gt(Pe,Ae,Ie,Ke);rn(Pe,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,Ae!==null&&Ae.tag===6?(f(Pe,Ae.sibling),Ae=k(Ae,Ie),Ae.return=Pe,Pe=Ae):(f(Pe,Ae),Ae=jw(Ie,Pe.mode,Ke),Ae.return=Pe,Pe=Ae),V(Pe)):f(Pe,Ae)}return Qr}var jr=li(!0),ar=li(!1),Kr=$o(null),ci=null,tr=null,hn=null;function wn(){hn=tr=ci=null}function nr(l){var u=Kr.current;En(Kr),l._currentValue=u}function xn(l,u,f){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===f)break;l=l.return}}function fr(l,u){ci=l,hn=tr=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(mo=!0),l.firstContext=null)}function pr(l){var u=l._currentValue;if(hn!==l)if(l={context:l,memoizedValue:u,next:null},tr===null){if(ci===null)throw Error(t(308));tr=l,ci.dependencies={lanes:0,firstContext:l}}else tr=tr.next=l;return u}var Mn=null;function Mi(l){Mn===null?Mn=[l]:Mn.push(l)}function Ln(l,u,f,b){var k=u.interleaved;return k===null?(f.next=f,Mi(u)):(f.next=k.next,k.next=f),u.interleaved=f,On(l,b)}function On(l,u){l.lanes|=u;var f=l.alternate;for(f!==null&&(f.lanes|=u),f=l,l=l.return;l!==null;)l.childLanes|=u,f=l.alternate,f!==null&&(f.childLanes|=u),f=l,l=l.return;return f.tag===3?f.stateNode:null}var Br=!1;function xi(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bs(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ar(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function kr(l,u,f){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Sn&2)!==0){var k=b.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),b.pending=u,On(l,f)}return k=b.interleaved,k===null?(u.next=u,Mi(b)):(u.next=k.next,k.next=u),b.interleaved=u,On(l,f)}function Oi(l,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,uh(l,f)}}function Fn(l,u){var f=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var k=null,P=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};P===null?k=P=V:P=P.next=V,f=f.next}while(f!==null);P===null?k=P=u:P=P.next=u}else k=P=u;f={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:b.shared,effects:b.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}function Fi(l,u,f,b){var k=l.updateQueue;Br=!1;var P=k.firstBaseUpdate,V=k.lastBaseUpdate,he=k.shared.pending;if(he!==null){k.shared.pending=null;var we=he,Me=we.next;we.next=null,V===null?P=Me:V.next=Me,V=we;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,he=Ye.lastBaseUpdate,he!==V&&(he===null?Ye.firstBaseUpdate=Me:he.next=Me,Ye.lastBaseUpdate=we))}if(P!==null){var Xe=k.baseState;V=0,Ye=Me=we=null,he=P;do{var Ge=he.lane,nt=he.eventTime;if((b&Ge)===Ge){Ye!==null&&(Ye=Ye.next={eventTime:nt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var dt=l,gt=he;switch(Ge=u,nt=f,gt.tag){case 1:if(dt=gt.payload,typeof dt=="function"){Xe=dt.call(nt,Xe,Ge);break e}Xe=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=gt.payload,Ge=typeof dt=="function"?dt.call(nt,Xe,Ge):dt,Ge==null)break e;Xe=be({},Xe,Ge);break e;case 2:Br=!0}}he.callback!==null&&he.lane!==0&&(l.flags|=64,Ge=k.effects,Ge===null?k.effects=[he]:Ge.push(he))}else nt={eventTime:nt,lane:Ge,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Ye===null?(Me=Ye=nt,we=Xe):Ye=Ye.next=nt,V|=Ge;if(he=he.next,he===null){if(he=k.shared.pending,he===null)break;Ge=he,he=Ge.next,Ge.next=null,k.lastBaseUpdate=Ge,k.shared.pending=null}}while(!0);if(Ye===null&&(we=Xe),k.baseState=we,k.firstBaseUpdate=Me,k.lastBaseUpdate=Ye,u=k.shared.interleaved,u!==null){k=u;do V|=k.lane,k=k.next;while(k!==u)}else P===null&&(k.shared.lanes=0);of|=V,l.lanes=V,l.memoizedState=Xe}}function po(l,u,f){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],k=b.callback;if(k!==null){if(b.callback=null,b=f,typeof k!="function")throw Error(t(191,k));k.call(b)}}}var Ho={},ui=$o(Ho),Cr=$o(Ho),ic=$o(Ho);function hl(l){if(l===Ho)throw Error(t(174));return l}function Nh(l,u){switch(Pn(ic,u),Pn(Cr,l),Pn(ui,Ho),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:tn(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=tn(u,l)}En(ui),Pn(ui,u)}function Pa(){En(ui),En(Cr),En(ic)}function q2(l){hl(ic.current);var u=hl(ui.current),f=tn(u,l.type);u!==f&&(Pn(Cr,l),Pn(ui,f))}function H0(l){Cr.current===l&&(En(ui),En(Cr))}var Xn=$o(0);function Vo(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var V0=[];function W0(){for(var l=0;l<V0.length;l++)V0[l]._workInProgressVersionPrimary=null;V0.length=0}var _m=R.ReactCurrentDispatcher,wm=R.ReactCurrentBatchConfig,La=0,rr=null,Ur=null,Er=null,Ph=!1,dl=!1,Lh=0,uw=0;function Jr(){throw Error(t(321))}function xm(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!Xr(l[f],u[f]))return!1;return!0}function nf(l,u,f,b,k,P){if(La=P,rr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,_m.current=l===null||l.memoizedState===null?oM:aM,l=f(b,k),dl){P=0;do{if(dl=!1,Lh=0,25<=P)throw Error(t(301));P+=1,Er=Ur=null,u.updateQueue=null,_m.current=lM,l=f(b,k)}while(dl)}if(_m.current=G2,u=Ur!==null&&Ur.next!==null,La=0,Er=Ur=rr=null,Ph=!1,u)throw Error(t(300));return l}function Ra(){var l=Lh!==0;return Lh=0,l}function Wo(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?rr.memoizedState=Er=l:Er=Er.next=l,Er}function Hs(){if(Ur===null){var l=rr.alternate;l=l!==null?l.memoizedState:null}else l=Ur.next;var u=Er===null?rr.memoizedState:Er.next;if(u!==null)Er=u,Ur=l;else{if(l===null)throw Error(t(310));Ur=l,l={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Er===null?rr.memoizedState=Er=l:Er=Er.next=l}return Er}function rf(l,u){return typeof u=="function"?u(l):u}function Sm(l){var u=Hs(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=l;var b=Ur,k=b.baseQueue,P=f.pending;if(P!==null){if(k!==null){var V=k.next;k.next=P.next,P.next=V}b.baseQueue=k=P,f.pending=null}if(k!==null){P=k.next,b=b.baseState;var he=V=null,we=null,Me=P;do{var Ye=Me.lane;if((La&Ye)===Ye)we!==null&&(we=we.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),b=Me.hasEagerState?Me.eagerState:l(b,Me.action);else{var Xe={lane:Ye,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};we===null?(he=we=Xe,V=b):we=we.next=Xe,rr.lanes|=Ye,of|=Ye}Me=Me.next}while(Me!==null&&Me!==P);we===null?V=b:we.next=he,Xr(b,u.memoizedState)||(mo=!0),u.memoizedState=b,u.baseState=V,u.baseQueue=we,f.lastRenderedState=b}if(l=f.interleaved,l!==null){k=l;do P=k.lane,rr.lanes|=P,of|=P,k=k.next;while(k!==l)}else k===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function sc(l){var u=Hs(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=l;var b=f.dispatch,k=f.pending,P=u.memoizedState;if(k!==null){f.pending=null;var V=k=k.next;do P=l(P,V.action),V=V.next;while(V!==k);Xr(P,u.memoizedState)||(mo=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),f.lastRenderedState=P}return[P,b]}function $2(){}function G0(l,u){var f=rr,b=Hs(),k=u(),P=!Xr(b.memoizedState,k);if(P&&(b.memoizedState=k,mo=!0),b=b.queue,Cm(V2.bind(null,f,b,l),[l]),b.getSnapshot!==u||P||Er!==null&&Er.memoizedState.tag&1){if(f.flags|=2048,Vs(9,Y0.bind(null,f,b,k,u),void 0,null),Di===null)throw Error(t(349));(La&30)!==0||H2(f,u,k)}return k}function H2(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},u=rr.updateQueue,u===null?(u={lastEffect:null,stores:null},rr.updateQueue=u,u.stores=[l]):(f=u.stores,f===null?u.stores=[l]:f.push(l))}function Y0(l,u,f,b){u.value=f,u.getSnapshot=b,Rh(u)&&Am(l)}function V2(l,u,f){return f(function(){Rh(u)&&Am(l)})}function Rh(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!Xr(l,f)}catch{return!0}}function Am(l){var u=On(l,1);u!==null&&yl(u,l,1,-1)}function sf(l){var u=Wo();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:l},u.queue=l,l=l.dispatch=sM.bind(null,rr,l),[u.memoizedState,l]}function Vs(l,u,f,b){return l={tag:l,create:u,destroy:f,deps:b,next:null},u=rr.updateQueue,u===null?(u={lastEffect:null,stores:null},rr.updateQueue=u,u.lastEffect=l.next=l):(f=u.lastEffect,f===null?u.lastEffect=l.next=l:(b=f.next,f.next=l,l.next=b,u.lastEffect=l)),l}function fl(){return Hs().memoizedState}function Go(l,u,f,b){var k=Wo();rr.flags|=l,k.memoizedState=Vs(1|u,f,void 0,b===void 0?null:b)}function cu(l,u,f,b){var k=Hs();b=b===void 0?null:b;var P=void 0;if(Ur!==null){var V=Ur.memoizedState;if(P=V.destroy,b!==null&&xm(b,V.deps)){k.memoizedState=Vs(u,f,P,b);return}}rr.flags|=l,k.memoizedState=Vs(1|u,f,P,b)}function km(l,u){return Go(8390656,8,l,u)}function Cm(l,u){return cu(2048,8,l,u)}function W2(l,u){return cu(4,2,l,u)}function Em(l,u){return cu(4,4,l,u)}function Tm(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function kk(l,u,f){return f=f!=null?f.concat([l]):null,cu(4,4,Tm.bind(null,u,l),f)}function hw(){}function Ck(l,u){var f=Hs();u=u===void 0?null:u;var b=f.memoizedState;return b!==null&&u!==null&&xm(u,b[1])?b[0]:(f.memoizedState=[l,u],l)}function Ek(l,u){var f=Hs();u=u===void 0?null:u;var b=f.memoizedState;return b!==null&&u!==null&&xm(u,b[1])?b[0]:(l=l(),f.memoizedState=[l,u],l)}function Tk(l,u,f){return(La&21)===0?(l.baseState&&(l.baseState=!1,mo=!0),l.memoizedState=f):(Xr(f,u)||(f=nm(),rr.lanes|=f,of|=f,l.baseState=!0),u)}function rM(l,u){var f=vn;vn=f!==0&&4>f?f:4,l(!0);var b=wm.transition;wm.transition={};try{l(!1),u()}finally{vn=f,wm.transition=b}}function Nk(){return Hs().memoizedState}function iM(l,u,f){var b=Fh(l);if(f={lane:b,action:f,hasEagerState:!1,eagerState:null,next:null},Pk(l))Lk(u,f);else if(f=Ln(l,u,f,b),f!==null){var k=Gs();yl(f,l,b,k),Rk(f,u,b)}}function sM(l,u,f){var b=Fh(l),k={lane:b,action:f,hasEagerState:!1,eagerState:null,next:null};if(Pk(l))Lk(u,k);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var V=u.lastRenderedState,he=P(V,f);if(k.hasEagerState=!0,k.eagerState=he,Xr(he,V)){var we=u.interleaved;we===null?(k.next=k,Mi(u)):(k.next=we.next,we.next=k),u.interleaved=k;return}}catch{}finally{}f=Ln(l,u,k,b),f!==null&&(k=Gs(),yl(f,l,b,k),Rk(f,u,b))}}function Pk(l){var u=l.alternate;return l===rr||u!==null&&u===rr}function Lk(l,u){dl=Ph=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function Rk(l,u,f){if((f&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,f|=b,u.lanes=f,uh(l,f)}}var G2={readContext:pr,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},oM={readContext:pr,useCallback:function(l,u){return Wo().memoizedState=[l,u===void 0?null:u],l},useContext:pr,useEffect:km,useImperativeHandle:function(l,u,f){return f=f!=null?f.concat([l]):null,Go(4194308,4,Tm.bind(null,u,l),f)},useLayoutEffect:function(l,u){return Go(4194308,4,l,u)},useInsertionEffect:function(l,u){return Go(4,2,l,u)},useMemo:function(l,u){var f=Wo();return u=u===void 0?null:u,l=l(),f.memoizedState=[l,u],l},useReducer:function(l,u,f){var b=Wo();return u=f!==void 0?f(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=iM.bind(null,rr,l),[b.memoizedState,l]},useRef:function(l){var u=Wo();return l={current:l},u.memoizedState=l},useState:sf,useDebugValue:hw,useDeferredValue:function(l){return Wo().memoizedState=l},useTransition:function(){var l=sf(!1),u=l[0];return l=rM.bind(null,l[1]),Wo().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,f){var b=rr,k=Wo();if(qe){if(f===void 0)throw Error(t(407));f=f()}else{if(f=u(),Di===null)throw Error(t(349));(La&30)!==0||H2(b,u,f)}k.memoizedState=f;var P={value:f,getSnapshot:u};return k.queue=P,km(V2.bind(null,b,P,l),[l]),b.flags|=2048,Vs(9,Y0.bind(null,b,P,f,u),void 0,null),f},useId:function(){var l=Wo(),u=Di.identifierPrefix;if(qe){var f=ae,b=Ne;f=(b&~(1<<32-Li(b)-1)).toString(32)+f,u=":"+u+"R"+f,f=Lh++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=uw++,u=":"+u+"r"+f.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},aM={readContext:pr,useCallback:Ck,useContext:pr,useEffect:Cm,useImperativeHandle:kk,useInsertionEffect:W2,useLayoutEffect:Em,useMemo:Ek,useReducer:Sm,useRef:fl,useState:function(){return Sm(rf)},useDebugValue:hw,useDeferredValue:function(l){var u=Hs();return Tk(u,Ur.memoizedState,l)},useTransition:function(){var l=Sm(rf)[0],u=Hs().memoizedState;return[l,u]},useMutableSource:$2,useSyncExternalStore:G0,useId:Nk,unstable_isNewReconciler:!1},lM={readContext:pr,useCallback:Ck,useContext:pr,useEffect:Cm,useImperativeHandle:kk,useInsertionEffect:W2,useLayoutEffect:Em,useMemo:Ek,useReducer:sc,useRef:fl,useState:function(){return sc(rf)},useDebugValue:hw,useDeferredValue:function(l){var u=Hs();return Ur===null?u.memoizedState=l:Tk(u,Ur.memoizedState,l)},useTransition:function(){var l=sc(rf)[0],u=Hs().memoizedState;return[l,u]},useMutableSource:$2,useSyncExternalStore:G0,useId:Nk,unstable_isNewReconciler:!1};function pl(l,u){if(l&&l.defaultProps){u=be({},u),l=l.defaultProps;for(var f in l)u[f]===void 0&&(u[f]=l[f]);return u}return u}function dw(l,u,f,b){u=l.memoizedState,f=f(b,u),f=f==null?u:be({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Y2={isMounted:function(l){return(l=l._reactInternals)?bi(l)===l:!1},enqueueSetState:function(l,u,f){l=l._reactInternals;var b=Gs(),k=Fh(l),P=Ar(b,k);P.payload=u,f!=null&&(P.callback=f),u=kr(l,P,k),u!==null&&(yl(u,l,k,b),Oi(u,l,k))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var b=Gs(),k=Fh(l),P=Ar(b,k);P.tag=1,P.payload=u,f!=null&&(P.callback=f),u=kr(l,P,k),u!==null&&(yl(u,l,k,b),Oi(u,l,k))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=Gs(),b=Fh(l),k=Ar(f,b);k.tag=2,u!=null&&(k.callback=u),u=kr(l,k,b),u!==null&&(yl(u,l,b,f),Oi(u,l,b))}};function Ik(l,u,f,b,k,P,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,P,V):u.prototype&&u.prototype.isPureReactComponent?!Ea(f,b)||!Ea(k,P):!0}function Mk(l,u,f){var b=!1,k=rc,P=u.contextType;return typeof P=="object"&&P!==null?P=pr(P):(k=vs(u)?au:wi.current,b=u.contextTypes,P=(b=b!=null)?Th(l,k):rc),u=new u(f,P),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Y2,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=P),u}function Ok(l,u,f,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,b),u.state!==l&&Y2.enqueueReplaceState(u,u.state,null)}function fw(l,u,f,b){var k=l.stateNode;k.props=f,k.state=l.memoizedState,k.refs={},xi(l);var P=u.contextType;typeof P=="object"&&P!==null?k.context=pr(P):(P=vs(u)?au:wi.current,k.context=Th(l,P)),k.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(dw(l,u,P,f),k.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Y2.enqueueReplaceState(k,k.state,null),Fi(l,f,k,b),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function Nm(l,u){try{var f="",b=u;do f+=ue(b),b=b.return;while(b);var k=f}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:l,source:u,stack:k,digest:null}}function pw(l,u,f){return{value:l,source:null,stack:f??null,digest:u??null}}function mw(l,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var cM=typeof WeakMap=="function"?WeakMap:Map;function Fk(l,u,f){f=Ar(-1,f),f.tag=3,f.payload={element:null};var b=u.value;return f.callback=function(){tv||(tv=!0,Pw=b),mw(l,u)},f}function Dk(l,u,f){f=Ar(-1,f),f.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var k=u.value;f.payload=function(){return b(k)},f.callback=function(){mw(l,u)}}var P=l.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(f.callback=function(){mw(l,u),typeof b!="function"&&(Mh===null?Mh=new Set([this]):Mh.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),f}function jk(l,u,f){var b=l.pingCache;if(b===null){b=l.pingCache=new cM;var k=new Set;b.set(u,k)}else k=b.get(u),k===void 0&&(k=new Set,b.set(u,k));k.has(f)||(k.add(f),l=SM.bind(null,l,u,f),u.then(l,l))}function Bk(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function Uk(l,u,f,b,k){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Ar(-1,1),u.tag=2,kr(f,u,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var uM=R.ReactCurrentOwner,mo=!1;function Ws(l,u,f,b){u.child=l===null?ar(u,null,f,b):jr(u,l.child,f,b)}function zk(l,u,f,b,k){f=f.render;var P=u.ref;return fr(u,k),b=nf(l,u,f,b,P,k),f=Ra(),l!==null&&!mo?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,uu(l,u,k)):(qe&&f&&Be(u),u.flags|=1,Ws(l,u,b,k),u.child)}function qk(l,u,f,b,k){if(l===null){var P=f.type;return typeof P=="function"&&!Dw(P)&&P.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=P,$k(l,u,P,b,k)):(l=av(f.type,null,b,u,u.mode,k),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,(l.lanes&k)===0){var V=P.memoizedProps;if(f=f.compare,f=f!==null?f:Ea,f(V,b)&&l.ref===u.ref)return uu(l,u,k)}return u.flags|=1,l=jh(P,b),l.ref=u.ref,l.return=u,u.child=l}function $k(l,u,f,b,k){if(l!==null){var P=l.memoizedProps;if(Ea(P,b)&&l.ref===u.ref)if(mo=!1,u.pendingProps=b=P,(l.lanes&k)!==0)(l.flags&131072)!==0&&(mo=!0);else return u.lanes=l.lanes,uu(l,u,k)}return gw(l,u,f,b,k)}function Hk(l,u,f){var b=u.pendingProps,k=b.children,P=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(Lm,Yo),Yo|=f;else{if((f&1073741824)===0)return l=P!==null?P.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Pn(Lm,Yo),Yo|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=P!==null?P.baseLanes:f,Pn(Lm,Yo),Yo|=b}else P!==null?(b=P.baseLanes|f,u.memoizedState=null):b=f,Pn(Lm,Yo),Yo|=b;return Ws(l,u,k,f),u.child}function Vk(l,u){var f=u.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function gw(l,u,f,b,k){var P=vs(f)?au:wi.current;return P=Th(u,P),fr(u,k),f=nf(l,u,f,b,P,k),b=Ra(),l!==null&&!mo?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~k,uu(l,u,k)):(qe&&b&&Be(u),u.flags|=1,Ws(l,u,f,k),u.child)}function Wk(l,u,f,b,k){if(vs(f)){var P=!0;lu(u)}else P=!1;if(fr(u,k),u.stateNode===null)K2(l,u),Mk(u,f,b),fw(u,f,b,k),b=!0;else if(l===null){var V=u.stateNode,he=u.memoizedProps;V.props=he;var we=V.context,Me=f.contextType;typeof Me=="object"&&Me!==null?Me=pr(Me):(Me=vs(f)?au:wi.current,Me=Th(u,Me));var Ye=f.getDerivedStateFromProps,Xe=typeof Ye=="function"||typeof V.getSnapshotBeforeUpdate=="function";Xe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(he!==b||we!==Me)&&Ok(u,V,b,Me),Br=!1;var Ge=u.memoizedState;V.state=Ge,Fi(u,b,V,k),we=u.memoizedState,he!==b||Ge!==we||ys.current||Br?(typeof Ye=="function"&&(dw(u,f,Ye,b),we=u.memoizedState),(he=Br||Ik(u,f,he,b,Ge,we,Me))?(Xe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=we),V.props=b,V.state=we,V.context=Me,b=he):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{V=u.stateNode,bs(l,u),he=u.memoizedProps,Me=u.type===u.elementType?he:pl(u.type,he),V.props=Me,Xe=u.pendingProps,Ge=V.context,we=f.contextType,typeof we=="object"&&we!==null?we=pr(we):(we=vs(f)?au:wi.current,we=Th(u,we));var nt=f.getDerivedStateFromProps;(Ye=typeof nt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(he!==Xe||Ge!==we)&&Ok(u,V,b,we),Br=!1,Ge=u.memoizedState,V.state=Ge,Fi(u,b,V,k);var dt=u.memoizedState;he!==Xe||Ge!==dt||ys.current||Br?(typeof nt=="function"&&(dw(u,f,nt,b),dt=u.memoizedState),(Me=Br||Ik(u,f,Me,b,Ge,dt,we)||!1)?(Ye||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(b,dt,we),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(b,dt,we)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||he===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=dt),V.props=b,V.state=dt,V.context=we,b=Me):(typeof V.componentDidUpdate!="function"||he===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===l.memoizedProps&&Ge===l.memoizedState||(u.flags|=1024),b=!1)}return yw(l,u,f,b,P,k)}function yw(l,u,f,b,k,P){Vk(l,u);var V=(u.flags&128)!==0;if(!b&&!V)return k&&z2(u,f,!1),uu(l,u,P);b=u.stateNode,uM.current=u;var he=V&&typeof f.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&V?(u.child=jr(u,l.child,null,P),u.child=jr(u,null,he,P)):Ws(l,u,he,P),u.memoizedState=b.state,k&&z2(u,f,!0),u.child}function Gk(l){var u=l.stateNode;u.pendingContext?U2(l,u.pendingContext,u.pendingContext!==u.context):u.context&&U2(l,u.context,!1),Nh(l,u.containerInfo)}function Yk(l,u,f,b,k){return ot(),Qe(k),u.flags|=256,Ws(l,u,f,b),u.child}var vw={dehydrated:null,treeContext:null,retryLane:0};function bw(l){return{baseLanes:l,cachePool:null,transitions:null}}function Xk(l,u,f){var b=u.pendingProps,k=Xn.current,P=!1,V=(u.flags&128)!==0,he;if((he=V)||(he=l!==null&&l.memoizedState===null?!1:(k&2)!==0),he?(P=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),Pn(Xn,k&1),l===null)return ht(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=b.children,l=b.fallback,P?(b=u.mode,P=u.child,V={mode:"hidden",children:V},(b&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=V):P=lv(V,b,0,null),l=uf(l,b,f,null),P.return=u,l.return=u,P.sibling=l,u.child=P,u.child.memoizedState=bw(f),u.memoizedState=vw,l):_w(u,V));if(k=l.memoizedState,k!==null&&(he=k.dehydrated,he!==null))return hM(l,u,V,b,he,k,f);if(P){P=b.fallback,V=u.mode,k=l.child,he=k.sibling;var we={mode:"hidden",children:b.children};return(V&1)===0&&u.child!==k?(b=u.child,b.childLanes=0,b.pendingProps=we,u.deletions=null):(b=jh(k,we),b.subtreeFlags=k.subtreeFlags&14680064),he!==null?P=jh(he,P):(P=uf(P,V,f,null),P.flags|=2),P.return=u,b.return=u,b.sibling=P,u.child=b,b=P,P=u.child,V=l.child.memoizedState,V=V===null?bw(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},P.memoizedState=V,P.childLanes=l.childLanes&~f,u.memoizedState=vw,b}return P=l.child,l=P.sibling,b=jh(P,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=f),b.return=u,b.sibling=null,l!==null&&(f=u.deletions,f===null?(u.deletions=[l],u.flags|=16):f.push(l)),u.child=b,u.memoizedState=null,b}function _w(l,u){return u=lv({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function X2(l,u,f,b){return b!==null&&Qe(b),jr(u,l.child,null,f),l=_w(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function hM(l,u,f,b,k,P,V){if(f)return u.flags&256?(u.flags&=-257,b=pw(Error(t(422))),X2(l,u,V,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(P=b.fallback,k=u.mode,b=lv({mode:"visible",children:b.children},k,0,null),P=uf(P,k,V,null),P.flags|=2,b.return=u,P.return=u,b.sibling=P,u.child=b,(u.mode&1)!==0&&jr(u,l.child,null,V),u.child.memoizedState=bw(V),u.memoizedState=vw,P);if((u.mode&1)===0)return X2(l,u,V,null);if(k.data==="$!"){if(b=k.nextSibling&&k.nextSibling.dataset,b)var he=b.dgst;return b=he,P=Error(t(419)),b=pw(P,b,void 0),X2(l,u,V,b)}if(he=(V&l.childLanes)!==0,mo||he){if(b=Di,b!==null){switch(V&-V){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(b.suspendedLanes|V))!==0?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,On(l,k),yl(b,l,k,-1))}return Fw(),b=pw(Error(t(421))),X2(l,u,V,b)}return k.data==="$?"?(u.flags|=128,u.child=l.child,u=AM.bind(null,l),k._reactRetry=u,null):(l=P.treeContext,De=Zi(k.nextSibling),Oe=u,qe=!0,He=null,l!==null&&(te[oe++]=Ne,te[oe++]=ae,te[oe++]=_e,Ne=l.id,ae=l.overflow,_e=u),u=_w(u,b.children),u.flags|=4096,u)}function Kk(l,u,f){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),xn(l.return,u,f)}function ww(l,u,f,b,k){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:k}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=b,P.tail=f,P.tailMode=k)}function Jk(l,u,f){var b=u.pendingProps,k=b.revealOrder,P=b.tail;if(Ws(l,u,b.children,f),b=Xn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Kk(l,f,u);else if(l.tag===19)Kk(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(Pn(Xn,b),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(f=u.child,k=null;f!==null;)l=f.alternate,l!==null&&Vo(l)===null&&(k=f),f=f.sibling;f=k,f===null?(k=u.child,u.child=null):(k=f.sibling,f.sibling=null),ww(u,!1,k,f,P);break;case"backwards":for(f=null,k=u.child,u.child=null;k!==null;){if(l=k.alternate,l!==null&&Vo(l)===null){u.child=k;break}l=k.sibling,k.sibling=f,f=k,k=l}ww(u,!0,f,null,P);break;case"together":ww(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function K2(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function uu(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),of|=u.lanes,(f&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(t(153));if(u.child!==null){for(l=u.child,f=jh(l,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,f=f.sibling=jh(l,l.pendingProps),f.return=u;f.sibling=null}return u.child}function dM(l,u,f){switch(u.tag){case 3:Gk(u),ot();break;case 5:q2(u);break;case 1:vs(u.type)&&lu(u);break;case 4:Nh(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,k=u.memoizedProps.value;Pn(Kr,b._currentValue),b._currentValue=k;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(Pn(Xn,Xn.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?Xk(l,u,f):(Pn(Xn,Xn.current&1),l=uu(l,u,f),l!==null?l.sibling:null);Pn(Xn,Xn.current&1);break;case 19:if(b=(f&u.childLanes)!==0,(l.flags&128)!==0){if(b)return Jk(l,u,f);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Pn(Xn,Xn.current),b)break;return null;case 22:case 23:return u.lanes=0,Hk(l,u,f)}return uu(l,u,f)}var Qk,xw,Zk,eC;Qk=function(l,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},xw=function(){},Zk=function(l,u,f,b){var k=l.memoizedProps;if(k!==b){l=u.stateNode,hl(ui.current);var P=null;switch(f){case"input":k=Le(l,k),b=Le(l,b),P=[];break;case"select":k=be({},k,{value:void 0}),b=be({},b,{value:void 0}),P=[];break;case"textarea":k=Dt(l,k),b=Dt(l,b),P=[];break;default:typeof k.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=kh)}Cn(f,b);var V;f=null;for(Me in k)if(!b.hasOwnProperty(Me)&&k.hasOwnProperty(Me)&&k[Me]!=null)if(Me==="style"){var he=k[Me];for(V in he)he.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?P||(P=[]):(P=P||[]).push(Me,null));for(Me in b){var we=b[Me];if(he=k!=null?k[Me]:void 0,b.hasOwnProperty(Me)&&we!==he&&(we!=null||he!=null))if(Me==="style")if(he){for(V in he)!he.hasOwnProperty(V)||we&&we.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in we)we.hasOwnProperty(V)&&he[V]!==we[V]&&(f||(f={}),f[V]=we[V])}else f||(P||(P=[]),P.push(Me,f)),f=we;else Me==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,he=he?he.__html:void 0,we!=null&&he!==we&&(P=P||[]).push(Me,we)):Me==="children"?typeof we!="string"&&typeof we!="number"||(P=P||[]).push(Me,""+we):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(we!=null&&Me==="onScroll"&&In("scroll",l),P||he===we||(P=[])):(P=P||[]).push(Me,we))}f&&(P=P||[]).push("style",f);var Me=P;(u.updateQueue=Me)&&(u.flags|=4)}},eC=function(l,u,f,b){f!==b&&(u.flags|=4)};function X0(l,u){if(!qe)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function _s(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,b=0;if(u)for(var k=l.child;k!==null;)f|=k.lanes|k.childLanes,b|=k.subtreeFlags&14680064,b|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)f|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=b,l.childLanes=f,u}function fM(l,u,f){var b=u.pendingProps;switch(Re(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _s(u),null;case 1:return vs(u.type)&&bm(),_s(u),null;case 3:return b=u.stateNode,Pa(),En(ys),En(wi),W0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(dr(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,He!==null&&(Iw(He),He=null))),xw(l,u),_s(u),null;case 5:H0(u);var k=hl(ic.current);if(f=u.type,l!==null&&u.stateNode!=null)Zk(l,u,f,b,k),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(t(166));return _s(u),null}if(l=hl(ui.current),dr(u)){b=u.stateNode,f=u.type;var P=u.memoizedProps;switch(b[Na]=u,b[Ch]=P,l=(u.mode&1)!==0,f){case"dialog":In("cancel",b),In("close",b);break;case"iframe":case"object":case"embed":In("load",b);break;case"video":case"audio":for(k=0;k<tc.length;k++)In(tc[k],b);break;case"source":In("error",b);break;case"img":case"image":case"link":In("error",b),In("load",b);break;case"details":In("toggle",b);break;case"input":ce(b,P),In("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!P.multiple},In("invalid",b);break;case"textarea":wt(b,P),In("invalid",b)}Cn(f,P),k=null;for(var V in P)if(P.hasOwnProperty(V)){var he=P[V];V==="children"?typeof he=="string"?b.textContent!==he&&(P.suppressHydrationWarning!==!0&&vm(b.textContent,he,l),k=["children",he]):typeof he=="number"&&b.textContent!==""+he&&(P.suppressHydrationWarning!==!0&&vm(b.textContent,he,l),k=["children",""+he]):i.hasOwnProperty(V)&&he!=null&&V==="onScroll"&&In("scroll",b)}switch(f){case"input":Ue(b),lt(b,P,!0);break;case"textarea":Ue(b),Nt(b);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(b.onclick=kh)}b=k,u.updateQueue=b,b!==null&&(u.flags|=4)}else{V=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Pt(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=V.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=V.createElement(f,{is:b.is}):(l=V.createElement(f),f==="select"&&(V=l,b.multiple?V.multiple=!0:b.size&&(V.size=b.size))):l=V.createElementNS(l,f),l[Na]=u,l[Ch]=b,Qk(l,u,!1,!1),u.stateNode=l;e:{switch(V=Et(f,b),f){case"dialog":In("cancel",l),In("close",l),k=b;break;case"iframe":case"object":case"embed":In("load",l),k=b;break;case"video":case"audio":for(k=0;k<tc.length;k++)In(tc[k],l);k=b;break;case"source":In("error",l),k=b;break;case"img":case"image":case"link":In("error",l),In("load",l),k=b;break;case"details":In("toggle",l),k=b;break;case"input":ce(l,b),k=Le(l,b),In("invalid",l);break;case"option":k=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},k=be({},b,{value:void 0}),In("invalid",l);break;case"textarea":wt(l,b),k=Dt(l,b),In("invalid",l);break;default:k=b}Cn(f,k),he=k;for(P in he)if(he.hasOwnProperty(P)){var we=he[P];P==="style"?bt(l,we):P==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&pt(l,we)):P==="children"?typeof we=="string"?(f!=="textarea"||we!=="")&&Ct(l,we):typeof we=="number"&&Ct(l,""+we):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?we!=null&&P==="onScroll"&&In("scroll",l):we!=null&&I(l,P,we,V))}switch(f){case"input":Ue(l),lt(l,b,!1);break;case"textarea":Ue(l),Nt(l);break;case"option":b.value!=null&&l.setAttribute("value",""+Ce(b.value));break;case"select":l.multiple=!!b.multiple,P=b.value,P!=null?Je(l,!!b.multiple,P,!1):b.defaultValue!=null&&Je(l,!!b.multiple,b.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=kh)}switch(f){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return _s(u),null;case 6:if(l&&u.stateNode!=null)eC(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(t(166));if(f=hl(ic.current),hl(ui.current),dr(u)){if(b=u.stateNode,f=u.memoizedProps,b[Na]=u,(P=b.nodeValue!==f)&&(l=Oe,l!==null))switch(l.tag){case 3:vm(b.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&vm(b.nodeValue,f,(l.mode&1)!==0)}P&&(u.flags|=4)}else b=(f.nodeType===9?f:f.ownerDocument).createTextNode(b),b[Na]=u,u.stateNode=b}return _s(u),null;case 13:if(En(Xn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(qe&&De!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Gt(),ot(),u.flags|=98560,P=!1;else if(P=dr(u),b!==null&&b.dehydrated!==null){if(l===null){if(!P)throw Error(t(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(t(317));P[Na]=u}else ot(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;_s(u),P=!1}else He!==null&&(Iw(He),He=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Xn.current&1)!==0?Si===0&&(Si=3):Fw())),u.updateQueue!==null&&(u.flags|=4),_s(u),null);case 4:return Pa(),xw(l,u),l===null&&ru(u.stateNode.containerInfo),_s(u),null;case 10:return nr(u.type._context),_s(u),null;case 17:return vs(u.type)&&bm(),_s(u),null;case 19:if(En(Xn),P=u.memoizedState,P===null)return _s(u),null;if(b=(u.flags&128)!==0,V=P.rendering,V===null)if(b)X0(P,!1);else{if(Si!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(V=Vo(l),V!==null){for(u.flags|=128,X0(P,!1),b=V.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=f,f=u.child;f!==null;)P=f,l=b,P.flags&=14680066,V=P.alternate,V===null?(P.childLanes=0,P.lanes=l,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=V.childLanes,P.lanes=V.lanes,P.child=V.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=V.memoizedProps,P.memoizedState=V.memoizedState,P.updateQueue=V.updateQueue,P.type=V.type,l=V.dependencies,P.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return Pn(Xn,Xn.current&1|2),u.child}l=l.sibling}P.tail!==null&&Yn()>Rm&&(u.flags|=128,b=!0,X0(P,!1),u.lanes=4194304)}else{if(!b)if(l=Vo(V),l!==null){if(u.flags|=128,b=!0,f=l.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),X0(P,!0),P.tail===null&&P.tailMode==="hidden"&&!V.alternate&&!qe)return _s(u),null}else 2*Yn()-P.renderingStartTime>Rm&&f!==1073741824&&(u.flags|=128,b=!0,X0(P,!1),u.lanes=4194304);P.isBackwards?(V.sibling=u.child,u.child=V):(f=P.last,f!==null?f.sibling=V:u.child=V,P.last=V)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=Yn(),u.sibling=null,f=Xn.current,Pn(Xn,b?f&1|2:f&1),u):(_s(u),null);case 22:case 23:return Ow(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Yo&1073741824)!==0&&(_s(u),u.subtreeFlags&6&&(u.flags|=8192)):_s(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function pM(l,u){switch(Re(u),u.tag){case 1:return vs(u.type)&&bm(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Pa(),En(ys),En(wi),W0(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return H0(u),null;case 13:if(En(Xn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(t(340));ot()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return En(Xn),null;case 4:return Pa(),null;case 10:return nr(u.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var J2=!1,ws=!1,mM=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Pm(l,u){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(b){zr(l,u,b)}else f.current=null}function Sw(l,u,f){try{f()}catch(b){zr(l,u,b)}}var tC=!1;function gM(l,u){if(Zd=ph,l=P0(),dm(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var k=b.anchorOffset,P=b.focusNode;b=b.focusOffset;try{f.nodeType,P.nodeType}catch{f=null;break e}var V=0,he=-1,we=-1,Me=0,Ye=0,Xe=l,Ge=null;t:for(;;){for(var nt;Xe!==f||k!==0&&Xe.nodeType!==3||(he=V+k),Xe!==P||b!==0&&Xe.nodeType!==3||(we=V+b),Xe.nodeType===3&&(V+=Xe.nodeValue.length),(nt=Xe.firstChild)!==null;)Ge=Xe,Xe=nt;for(;;){if(Xe===l)break t;if(Ge===f&&++Me===k&&(he=V),Ge===P&&++Ye===b&&(we=V),(nt=Xe.nextSibling)!==null)break;Xe=Ge,Ge=Xe.parentNode}Xe=nt}f=he===-1||we===-1?null:{start:he,end:we}}else f=null}f=f||{start:0,end:0}}else f=null;for(su={focusedElem:l,selectionRange:f},ph=!1,ct=u;ct!==null;)if(u=ct,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,ct=l;else for(;ct!==null;){u=ct;try{var dt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var gt=dt.memoizedProps,Qr=dt.memoizedState,Pe=u.stateNode,Ae=Pe.getSnapshotBeforeUpdate(u.elementType===u.type?gt:pl(u.type,gt),Qr);Pe.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var Ie=u.stateNode.containerInfo;Ie.nodeType===1?Ie.textContent="":Ie.nodeType===9&&Ie.documentElement&&Ie.removeChild(Ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ke){zr(u,u.return,Ke)}if(l=u.sibling,l!==null){l.return=u.return,ct=l;break}ct=u.return}return dt=tC,tC=!1,dt}function K0(l,u,f){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var k=b=b.next;do{if((k.tag&l)===l){var P=k.destroy;k.destroy=void 0,P!==void 0&&Sw(u,f,P)}k=k.next}while(k!==b)}}function Q2(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&l)===l){var b=f.create;f.destroy=b()}f=f.next}while(f!==u)}}function Aw(l){var u=l.ref;if(u!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof u=="function"?u(l):u.current=l}}function nC(l){var u=l.alternate;u!==null&&(l.alternate=null,nC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Na],delete u[Ch],delete u[gs],delete u[lw],delete u[cw])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function rC(l){return l.tag===5||l.tag===3||l.tag===4}function iC(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||rC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function kw(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(l,u):f.insertBefore(l,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(l,f)):(u=f,u.appendChild(l)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=kh));else if(b!==4&&(l=l.child,l!==null))for(kw(l,u,f),l=l.sibling;l!==null;)kw(l,u,f),l=l.sibling}function Cw(l,u,f){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?f.insertBefore(l,u):f.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Cw(l,u,f),l=l.sibling;l!==null;)Cw(l,u,f),l=l.sibling}var es=null,ml=!1;function Ih(l,u,f){for(f=f.child;f!==null;)sC(l,u,f),f=f.sibling}function sC(l,u,f){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(qc,f)}catch{}switch(f.tag){case 5:ws||Pm(f,u);case 6:var b=es,k=ml;es=null,Ih(l,u,f),es=b,ml=k,es!==null&&(ml?(l=es,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):es.removeChild(f.stateNode));break;case 18:es!==null&&(ml?(l=es,f=f.stateNode,l.nodeType===8?z0(l.parentNode,f):l.nodeType===1&&z0(l,f),xa(l)):z0(es,f.stateNode));break;case 4:b=es,k=ml,es=f.stateNode.containerInfo,ml=!0,Ih(l,u,f),es=b,ml=k;break;case 0:case 11:case 14:case 15:if(!ws&&(b=f.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){k=b=b.next;do{var P=k,V=P.destroy;P=P.tag,V!==void 0&&((P&2)!==0||(P&4)!==0)&&Sw(f,u,V),k=k.next}while(k!==b)}Ih(l,u,f);break;case 1:if(!ws&&(Pm(f,u),b=f.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=f.memoizedProps,b.state=f.memoizedState,b.componentWillUnmount()}catch(he){zr(f,u,he)}Ih(l,u,f);break;case 21:Ih(l,u,f);break;case 22:f.mode&1?(ws=(b=ws)||f.memoizedState!==null,Ih(l,u,f),ws=b):Ih(l,u,f);break;default:Ih(l,u,f)}}function oC(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new mM),u.forEach(function(b){var k=kM.bind(null,l,b);f.has(b)||(f.add(b),b.then(k,k))})}}function gl(l,u){var f=u.deletions;if(f!==null)for(var b=0;b<f.length;b++){var k=f[b];try{var P=l,V=u,he=V;e:for(;he!==null;){switch(he.tag){case 5:es=he.stateNode,ml=!1;break e;case 3:es=he.stateNode.containerInfo,ml=!0;break e;case 4:es=he.stateNode.containerInfo,ml=!0;break e}he=he.return}if(es===null)throw Error(t(160));sC(P,V,k),es=null,ml=!1;var we=k.alternate;we!==null&&(we.return=null),k.return=null}catch(Me){zr(k,u,Me)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)aC(u,l),u=u.sibling}function aC(l,u){var f=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(gl(u,l),oc(l),b&4){try{K0(3,l,l.return),Q2(3,l)}catch(gt){zr(l,l.return,gt)}try{K0(5,l,l.return)}catch(gt){zr(l,l.return,gt)}}break;case 1:gl(u,l),oc(l),b&512&&f!==null&&Pm(f,f.return);break;case 5:if(gl(u,l),oc(l),b&512&&f!==null&&Pm(f,f.return),l.flags&32){var k=l.stateNode;try{Ct(k,"")}catch(gt){zr(l,l.return,gt)}}if(b&4&&(k=l.stateNode,k!=null)){var P=l.memoizedProps,V=f!==null?f.memoizedProps:P,he=l.type,we=l.updateQueue;if(l.updateQueue=null,we!==null)try{he==="input"&&P.type==="radio"&&P.name!=null&&yt(k,P),Et(he,V);var Me=Et(he,P);for(V=0;V<we.length;V+=2){var Ye=we[V],Xe=we[V+1];Ye==="style"?bt(k,Xe):Ye==="dangerouslySetInnerHTML"?pt(k,Xe):Ye==="children"?Ct(k,Xe):I(k,Ye,Xe,Me)}switch(he){case"input":St(k,P);break;case"textarea":an(k,P);break;case"select":var Ge=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!P.multiple;var nt=P.value;nt!=null?Je(k,!!P.multiple,nt,!1):Ge!==!!P.multiple&&(P.defaultValue!=null?Je(k,!!P.multiple,P.defaultValue,!0):Je(k,!!P.multiple,P.multiple?[]:"",!1))}k[Ch]=P}catch(gt){zr(l,l.return,gt)}}break;case 6:if(gl(u,l),oc(l),b&4){if(l.stateNode===null)throw Error(t(162));k=l.stateNode,P=l.memoizedProps;try{k.nodeValue=P}catch(gt){zr(l,l.return,gt)}}break;case 3:if(gl(u,l),oc(l),b&4&&f!==null&&f.memoizedState.isDehydrated)try{xa(u.containerInfo)}catch(gt){zr(l,l.return,gt)}break;case 4:gl(u,l),oc(l);break;case 13:gl(u,l),oc(l),k=l.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(Nw=Yn())),b&4&&oC(l);break;case 22:if(Ye=f!==null&&f.memoizedState!==null,l.mode&1?(ws=(Me=ws)||Ye,gl(u,l),ws=Me):gl(u,l),oc(l),b&8192){if(Me=l.memoizedState!==null,(l.stateNode.isHidden=Me)&&!Ye&&(l.mode&1)!==0)for(ct=l,Ye=l.child;Ye!==null;){for(Xe=ct=Ye;ct!==null;){switch(Ge=ct,nt=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:K0(4,Ge,Ge.return);break;case 1:Pm(Ge,Ge.return);var dt=Ge.stateNode;if(typeof dt.componentWillUnmount=="function"){b=Ge,f=Ge.return;try{u=b,dt.props=u.memoizedProps,dt.state=u.memoizedState,dt.componentWillUnmount()}catch(gt){zr(b,f,gt)}}break;case 5:Pm(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){uC(Xe);continue}}nt!==null?(nt.return=Ge,ct=nt):uC(Xe)}Ye=Ye.sibling}e:for(Ye=null,Xe=l;;){if(Xe.tag===5){if(Ye===null){Ye=Xe;try{k=Xe.stateNode,Me?(P=k.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(he=Xe.stateNode,we=Xe.memoizedProps.style,V=we!=null&&we.hasOwnProperty("display")?we.display:null,he.style.display=gn("display",V))}catch(gt){zr(l,l.return,gt)}}}else if(Xe.tag===6){if(Ye===null)try{Xe.stateNode.nodeValue=Me?"":Xe.memoizedProps}catch(gt){zr(l,l.return,gt)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===l)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===l)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===l)break e;Ye===Xe&&(Ye=null),Xe=Xe.return}Ye===Xe&&(Ye=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:gl(u,l),oc(l),b&4&&oC(l);break;case 21:break;default:gl(u,l),oc(l)}}function oc(l){var u=l.flags;if(u&2){try{e:{for(var f=l.return;f!==null;){if(rC(f)){var b=f;break e}f=f.return}throw Error(t(160))}switch(b.tag){case 5:var k=b.stateNode;b.flags&32&&(Ct(k,""),b.flags&=-33);var P=iC(l);Cw(l,P,k);break;case 3:case 4:var V=b.stateNode.containerInfo,he=iC(l);kw(l,he,V);break;default:throw Error(t(161))}}catch(we){zr(l,l.return,we)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function yM(l,u,f){ct=l,lC(l)}function lC(l,u,f){for(var b=(l.mode&1)!==0;ct!==null;){var k=ct,P=k.child;if(k.tag===22&&b){var V=k.memoizedState!==null||J2;if(!V){var he=k.alternate,we=he!==null&&he.memoizedState!==null||ws;he=J2;var Me=ws;if(J2=V,(ws=we)&&!Me)for(ct=k;ct!==null;)V=ct,we=V.child,V.tag===22&&V.memoizedState!==null?hC(k):we!==null?(we.return=V,ct=we):hC(k);for(;P!==null;)ct=P,lC(P),P=P.sibling;ct=k,J2=he,ws=Me}cC(l)}else(k.subtreeFlags&8772)!==0&&P!==null?(P.return=k,ct=P):cC(l)}}function cC(l){for(;ct!==null;){var u=ct;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ws||Q2(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!ws)if(f===null)b.componentDidMount();else{var k=u.elementType===u.type?f.memoizedProps:pl(u.type,f.memoizedProps);b.componentDidUpdate(k,f.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&po(u,P,b);break;case 3:var V=u.updateQueue;if(V!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}po(u,V,f)}break;case 5:var he=u.stateNode;if(f===null&&u.flags&4){f=he;var we=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&f.focus();break;case"img":we.src&&(f.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Me=u.alternate;if(Me!==null){var Ye=Me.memoizedState;if(Ye!==null){var Xe=Ye.dehydrated;Xe!==null&&xa(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ws||u.flags&512&&Aw(u)}catch(Ge){zr(u,u.return,Ge)}}if(u===l){ct=null;break}if(f=u.sibling,f!==null){f.return=u.return,ct=f;break}ct=u.return}}function uC(l){for(;ct!==null;){var u=ct;if(u===l){ct=null;break}var f=u.sibling;if(f!==null){f.return=u.return,ct=f;break}ct=u.return}}function hC(l){for(;ct!==null;){var u=ct;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Q2(4,u)}catch(we){zr(u,f,we)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var k=u.return;try{b.componentDidMount()}catch(we){zr(u,k,we)}}var P=u.return;try{Aw(u)}catch(we){zr(u,P,we)}break;case 5:var V=u.return;try{Aw(u)}catch(we){zr(u,V,we)}}}catch(we){zr(u,u.return,we)}if(u===l){ct=null;break}var he=u.sibling;if(he!==null){he.return=u.return,ct=he;break}ct=u.return}}var vM=Math.ceil,Z2=R.ReactCurrentDispatcher,Ew=R.ReactCurrentOwner,Ia=R.ReactCurrentBatchConfig,Sn=0,Di=null,hi=null,ts=0,Yo=0,Lm=$o(0),Si=0,J0=null,of=0,ev=0,Tw=0,Q0=null,go=null,Nw=0,Rm=1/0,hu=null,tv=!1,Pw=null,Mh=null,nv=!1,Oh=null,rv=0,Z0=0,Lw=null,iv=-1,sv=0;function Gs(){return(Sn&6)!==0?Yn():iv!==-1?iv:iv=Yn()}function Fh(l){return(l.mode&1)===0?1:(Sn&2)!==0&&ts!==0?ts&-ts:Sr.transition!==null?(sv===0&&(sv=nm()),sv):(l=vn,l!==0||(l=window.event,l=l===void 0?16:Kc(l.type)),l)}function yl(l,u,f,b){if(50<Z0)throw Z0=0,Lw=null,Error(t(185));Wc(l,f,b),((Sn&2)===0||l!==Di)&&(l===Di&&((Sn&2)===0&&(ev|=f),Si===4&&Dh(l,ts)),yo(l,b),f===1&&Sn===0&&(u.mode&1)===0&&(Rm=Yn()+500,tf&&L()))}function yo(l,u){var f=l.callbackNode;_r(l,u);var b=cs(l,l===Di?ts:0);if(b===0)f!==null&&zc(f),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(f!=null&&zc(f),u===1)l.tag===0?T(fC.bind(null,l)):w(fC.bind(null,l)),ow(function(){(Sn&6)===0&&L()}),f=null;else{switch(Qa(b)){case 1:f=lh;break;case 4:f=Us;break;case 16:f=Wl;break;case 536870912:f=ch;break;default:f=Wl}f=wC(f,dC.bind(null,l))}l.callbackPriority=u,l.callbackNode=f}}function dC(l,u){if(iv=-1,sv=0,(Sn&6)!==0)throw Error(t(327));var f=l.callbackNode;if(Im()&&l.callbackNode!==f)return null;var b=cs(l,l===Di?ts:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=ov(l,b);else{u=b;var k=Sn;Sn|=2;var P=mC();(Di!==l||ts!==u)&&(hu=null,Rm=Yn()+500,lf(l,u));do try{wM();break}catch(he){pC(l,he)}while(!0);wn(),Z2.current=P,Sn=k,hi!==null?u=0:(Di=null,ts=0,u=Si)}if(u!==0){if(u===2&&(k=Vc(l),k!==0&&(b=k,u=Rw(l,k))),u===1)throw f=J0,lf(l,0),Dh(l,b),yo(l,Yn()),f;if(u===6)Dh(l,b);else{if(k=l.current.alternate,(b&30)===0&&!bM(k)&&(u=ov(l,b),u===2&&(P=Vc(l),P!==0&&(b=P,u=Rw(l,P))),u===1))throw f=J0,lf(l,0),Dh(l,b),yo(l,Yn()),f;switch(l.finishedWork=k,l.finishedLanes=b,u){case 0:case 1:throw Error(t(345));case 2:cf(l,go,hu);break;case 3:if(Dh(l,b),(b&130023424)===b&&(u=Nw+500-Yn(),10<u)){if(cs(l,0)!==0)break;if(k=l.suspendedLanes,(k&b)!==b){Gs(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=U0(cf.bind(null,l,go,hu),u);break}cf(l,go,hu);break;case 4:if(Dh(l,b),(b&4194240)===b)break;for(u=l.eventTimes,k=-1;0<b;){var V=31-Li(b);P=1<<V,V=u[V],V>k&&(k=V),b&=~P}if(b=k,b=Yn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*vM(b/1960))-b,10<b){l.timeoutHandle=U0(cf.bind(null,l,go,hu),b);break}cf(l,go,hu);break;case 5:cf(l,go,hu);break;default:throw Error(t(329))}}}return yo(l,Yn()),l.callbackNode===f?dC.bind(null,l):null}function Rw(l,u){var f=Q0;return l.current.memoizedState.isDehydrated&&(lf(l,u).flags|=256),l=ov(l,u),l!==2&&(u=go,go=f,u!==null&&Iw(u)),l}function Iw(l){go===null?go=l:go.push.apply(go,l)}function bM(l){for(var u=l;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var b=0;b<f.length;b++){var k=f[b],P=k.getSnapshot;k=k.value;try{if(!Xr(P(),k))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dh(l,u){for(u&=~Tw,u&=~ev,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var f=31-Li(u),b=1<<f;l[f]=-1,u&=~b}}function fC(l){if((Sn&6)!==0)throw Error(t(327));Im();var u=cs(l,0);if((u&1)===0)return yo(l,Yn()),null;var f=ov(l,u);if(l.tag!==0&&f===2){var b=Vc(l);b!==0&&(u=b,f=Rw(l,b))}if(f===1)throw f=J0,lf(l,0),Dh(l,u),yo(l,Yn()),f;if(f===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,cf(l,go,hu),yo(l,Yn()),null}function Mw(l,u){var f=Sn;Sn|=1;try{return l(u)}finally{Sn=f,Sn===0&&(Rm=Yn()+500,tf&&L())}}function af(l){Oh!==null&&Oh.tag===0&&(Sn&6)===0&&Im();var u=Sn;Sn|=1;var f=Ia.transition,b=vn;try{if(Ia.transition=null,vn=1,l)return l()}finally{vn=b,Ia.transition=f,Sn=u,(Sn&6)===0&&L()}}function Ow(){Yo=Lm.current,En(Lm)}function lf(l,u){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,j2(f)),hi!==null)for(f=hi.return;f!==null;){var b=f;switch(Re(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&bm();break;case 3:Pa(),En(ys),En(wi),W0();break;case 5:H0(b);break;case 4:Pa();break;case 13:En(Xn);break;case 19:En(Xn);break;case 10:nr(b.type._context);break;case 22:case 23:Ow()}f=f.return}if(Di=l,hi=l=jh(l.current,null),ts=Yo=u,Si=0,J0=null,Tw=ev=of=0,go=Q0=null,Mn!==null){for(u=0;u<Mn.length;u++)if(f=Mn[u],b=f.interleaved,b!==null){f.interleaved=null;var k=b.next,P=f.pending;if(P!==null){var V=P.next;P.next=k,b.next=V}f.pending=b}Mn=null}return l}function pC(l,u){do{var f=hi;try{if(wn(),_m.current=G2,Ph){for(var b=rr.memoizedState;b!==null;){var k=b.queue;k!==null&&(k.pending=null),b=b.next}Ph=!1}if(La=0,Er=Ur=rr=null,dl=!1,Lh=0,Ew.current=null,f===null||f.return===null){Si=1,J0=u,hi=null;break}e:{var P=l,V=f.return,he=f,we=u;if(u=ts,he.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Me=we,Ye=he,Xe=Ye.tag;if((Ye.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var Ge=Ye.alternate;Ge?(Ye.updateQueue=Ge.updateQueue,Ye.memoizedState=Ge.memoizedState,Ye.lanes=Ge.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var nt=Bk(V);if(nt!==null){nt.flags&=-257,Uk(nt,V,he,P,u),nt.mode&1&&jk(P,Me,u),u=nt,we=Me;var dt=u.updateQueue;if(dt===null){var gt=new Set;gt.add(we),u.updateQueue=gt}else dt.add(we);break e}else{if((u&1)===0){jk(P,Me,u),Fw();break e}we=Error(t(426))}}else if(qe&&he.mode&1){var Qr=Bk(V);if(Qr!==null){(Qr.flags&65536)===0&&(Qr.flags|=256),Uk(Qr,V,he,P,u),Qe(Nm(we,he));break e}}P=we=Nm(we,he),Si!==4&&(Si=2),Q0===null?Q0=[P]:Q0.push(P),P=V;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var Pe=Fk(P,we,u);Fn(P,Pe);break e;case 1:he=we;var Ae=P.type,Ie=P.stateNode;if((P.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(Mh===null||!Mh.has(Ie)))){P.flags|=65536,u&=-u,P.lanes|=u;var Ke=Dk(P,he,u);Fn(P,Ke);break e}}P=P.return}while(P!==null)}yC(f)}catch(xt){u=xt,hi===f&&f!==null&&(hi=f=f.return);continue}break}while(!0)}function mC(){var l=Z2.current;return Z2.current=G2,l===null?G2:l}function Fw(){(Si===0||Si===3||Si===2)&&(Si=4),Di===null||(of&268435455)===0&&(ev&268435455)===0||Dh(Di,ts)}function ov(l,u){var f=Sn;Sn|=2;var b=mC();(Di!==l||ts!==u)&&(hu=null,lf(l,u));do try{_M();break}catch(k){pC(l,k)}while(!0);if(wn(),Sn=f,Z2.current=b,hi!==null)throw Error(t(261));return Di=null,ts=0,Si}function _M(){for(;hi!==null;)gC(hi)}function wM(){for(;hi!==null&&!ah();)gC(hi)}function gC(l){var u=_C(l.alternate,l,Yo);l.memoizedProps=l.pendingProps,u===null?yC(l):hi=u,Ew.current=null}function yC(l){var u=l;do{var f=u.alternate;if(l=u.return,(u.flags&32768)===0){if(f=fM(f,u,Yo),f!==null){hi=f;return}}else{if(f=pM(f,u),f!==null){f.flags&=32767,hi=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Si=6,hi=null;return}}if(u=u.sibling,u!==null){hi=u;return}hi=u=l}while(u!==null);Si===0&&(Si=5)}function cf(l,u,f){var b=vn,k=Ia.transition;try{Ia.transition=null,vn=1,xM(l,u,f,b)}finally{Ia.transition=k,vn=b}return null}function xM(l,u,f,b){do Im();while(Oh!==null);if((Sn&6)!==0)throw Error(t(327));f=l.finishedWork;var k=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var P=f.lanes|f.childLanes;if(ba(l,P),l===Di&&(hi=Di=null,ts=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||nv||(nv=!0,wC(Wl,function(){return Im(),null})),P=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||P){P=Ia.transition,Ia.transition=null;var V=vn;vn=1;var he=Sn;Sn|=4,Ew.current=null,gM(l,f),aC(f,l),I2(su),ph=!!Zd,su=Zd=null,l.current=f,yM(f),C0(),Sn=he,vn=V,Ia.transition=P}else l.current=f;if(nv&&(nv=!1,Oh=l,rv=k),P=l.pendingLanes,P===0&&(Mh=null),em(f.stateNode),yo(l,Yn()),u!==null)for(b=l.onRecoverableError,f=0;f<u.length;f++)k=u[f],b(k.value,{componentStack:k.stack,digest:k.digest});if(tv)throw tv=!1,l=Pw,Pw=null,l;return(rv&1)!==0&&l.tag!==0&&Im(),P=l.pendingLanes,(P&1)!==0?l===Lw?Z0++:(Z0=0,Lw=l):Z0=0,L(),null}function Im(){if(Oh!==null){var l=Qa(rv),u=Ia.transition,f=vn;try{if(Ia.transition=null,vn=16>l?16:l,Oh===null)var b=!1;else{if(l=Oh,Oh=null,rv=0,(Sn&6)!==0)throw Error(t(331));var k=Sn;for(Sn|=4,ct=l.current;ct!==null;){var P=ct,V=P.child;if((ct.flags&16)!==0){var he=P.deletions;if(he!==null){for(var we=0;we<he.length;we++){var Me=he[we];for(ct=Me;ct!==null;){var Ye=ct;switch(Ye.tag){case 0:case 11:case 15:K0(8,Ye,P)}var Xe=Ye.child;if(Xe!==null)Xe.return=Ye,ct=Xe;else for(;ct!==null;){Ye=ct;var Ge=Ye.sibling,nt=Ye.return;if(nC(Ye),Ye===Me){ct=null;break}if(Ge!==null){Ge.return=nt,ct=Ge;break}ct=nt}}}var dt=P.alternate;if(dt!==null){var gt=dt.child;if(gt!==null){dt.child=null;do{var Qr=gt.sibling;gt.sibling=null,gt=Qr}while(gt!==null)}}ct=P}}if((P.subtreeFlags&2064)!==0&&V!==null)V.return=P,ct=V;else e:for(;ct!==null;){if(P=ct,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:K0(9,P,P.return)}var Pe=P.sibling;if(Pe!==null){Pe.return=P.return,ct=Pe;break e}ct=P.return}}var Ae=l.current;for(ct=Ae;ct!==null;){V=ct;var Ie=V.child;if((V.subtreeFlags&2064)!==0&&Ie!==null)Ie.return=V,ct=Ie;else e:for(V=Ae;ct!==null;){if(he=ct,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Q2(9,he)}}catch(xt){zr(he,he.return,xt)}if(he===V){ct=null;break e}var Ke=he.sibling;if(Ke!==null){Ke.return=he.return,ct=Ke;break e}ct=he.return}}if(Sn=k,L(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(qc,l)}catch{}b=!0}return b}finally{vn=f,Ia.transition=u}}return!1}function vC(l,u,f){u=Nm(f,u),u=Fk(l,u,1),l=kr(l,u,1),u=Gs(),l!==null&&(Wc(l,1,u),yo(l,u))}function zr(l,u,f){if(l.tag===3)vC(l,l,f);else for(;u!==null;){if(u.tag===3){vC(u,l,f);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Mh===null||!Mh.has(b))){l=Nm(f,l),l=Dk(u,l,1),u=kr(u,l,1),l=Gs(),u!==null&&(Wc(u,1,l),yo(u,l));break}}u=u.return}}function SM(l,u,f){var b=l.pingCache;b!==null&&b.delete(u),u=Gs(),l.pingedLanes|=l.suspendedLanes&f,Di===l&&(ts&f)===f&&(Si===4||Si===3&&(ts&130023424)===ts&&500>Yn()-Nw?lf(l,0):Tw|=f),yo(l,u)}function bC(l,u){u===0&&((l.mode&1)===0?u=1:(u=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var f=Gs();l=On(l,u),l!==null&&(Wc(l,u,f),yo(l,f))}function AM(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),bC(l,f)}function kM(l,u){var f=0;switch(l.tag){case 13:var b=l.stateNode,k=l.memoizedState;k!==null&&(f=k.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(t(314))}b!==null&&b.delete(u),bC(l,f)}var _C;_C=function(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps||ys.current)mo=!0;else{if((l.lanes&f)===0&&(u.flags&128)===0)return mo=!1,dM(l,u,f);mo=(l.flags&131072)!==0}else mo=!1,qe&&(u.flags&1048576)!==0&&Te(u,Q,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;K2(l,u),l=u.pendingProps;var k=Th(u,wi.current);fr(u,f),k=nf(null,u,b,l,k,f);var P=Ra();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vs(b)?(P=!0,lu(u)):P=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,xi(u),k.updater=Y2,u.stateNode=k,k._reactInternals=u,fw(u,b,l,f),u=yw(null,u,b,!0,P,f)):(u.tag=0,qe&&P&&Be(u),Ws(null,u,k,f),u=u.child),u;case 16:b=u.elementType;e:{switch(K2(l,u),l=u.pendingProps,k=b._init,b=k(b._payload),u.type=b,k=u.tag=EM(b),l=pl(b,l),k){case 0:u=gw(null,u,b,l,f);break e;case 1:u=Wk(null,u,b,l,f);break e;case 11:u=zk(null,u,b,l,f);break e;case 14:u=qk(null,u,b,pl(b.type,l),f);break e}throw Error(t(306,b,""))}return u;case 0:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:pl(b,k),gw(l,u,b,k,f);case 1:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:pl(b,k),Wk(l,u,b,k,f);case 3:e:{if(Gk(u),l===null)throw Error(t(387));b=u.pendingProps,P=u.memoizedState,k=P.element,bs(l,u),Fi(u,b,null,f);var V=u.memoizedState;if(b=V.element,P.isDehydrated)if(P={element:b,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){k=Nm(Error(t(423)),u),u=Yk(l,u,b,f,k);break e}else if(b!==k){k=Nm(Error(t(424)),u),u=Yk(l,u,b,f,k);break e}else for(De=Zi(u.stateNode.containerInfo.firstChild),Oe=u,qe=!0,He=null,f=ar(u,null,b,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ot(),b===k){u=uu(l,u,f);break e}Ws(l,u,b,f)}u=u.child}return u;case 5:return q2(u),l===null&&ht(u),b=u.type,k=u.pendingProps,P=l!==null?l.memoizedProps:null,V=k.children,B0(b,k)?V=null:P!==null&&B0(b,P)&&(u.flags|=32),Vk(l,u),Ws(l,u,V,f),u.child;case 6:return l===null&&ht(u),null;case 13:return Xk(l,u,f);case 4:return Nh(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=jr(u,null,b,f):Ws(l,u,b,f),u.child;case 11:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:pl(b,k),zk(l,u,b,k,f);case 7:return Ws(l,u,u.pendingProps,f),u.child;case 8:return Ws(l,u,u.pendingProps.children,f),u.child;case 12:return Ws(l,u,u.pendingProps.children,f),u.child;case 10:e:{if(b=u.type._context,k=u.pendingProps,P=u.memoizedProps,V=k.value,Pn(Kr,b._currentValue),b._currentValue=V,P!==null)if(Xr(P.value,V)){if(P.children===k.children&&!ys.current){u=uu(l,u,f);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var he=P.dependencies;if(he!==null){V=P.child;for(var we=he.firstContext;we!==null;){if(we.context===b){if(P.tag===1){we=Ar(-1,f&-f),we.tag=2;var Me=P.updateQueue;if(Me!==null){Me=Me.shared;var Ye=Me.pending;Ye===null?we.next=we:(we.next=Ye.next,Ye.next=we),Me.pending=we}}P.lanes|=f,we=P.alternate,we!==null&&(we.lanes|=f),xn(P.return,f,u),he.lanes|=f;break}we=we.next}}else if(P.tag===10)V=P.type===u.type?null:P.child;else if(P.tag===18){if(V=P.return,V===null)throw Error(t(341));V.lanes|=f,he=V.alternate,he!==null&&(he.lanes|=f),xn(V,f,u),V=P.sibling}else V=P.child;if(V!==null)V.return=P;else for(V=P;V!==null;){if(V===u){V=null;break}if(P=V.sibling,P!==null){P.return=V.return,V=P;break}V=V.return}P=V}Ws(l,u,k.children,f),u=u.child}return u;case 9:return k=u.type,b=u.pendingProps.children,fr(u,f),k=pr(k),b=b(k),u.flags|=1,Ws(l,u,b,f),u.child;case 14:return b=u.type,k=pl(b,u.pendingProps),k=pl(b.type,k),qk(l,u,b,k,f);case 15:return $k(l,u,u.type,u.pendingProps,f);case 17:return b=u.type,k=u.pendingProps,k=u.elementType===b?k:pl(b,k),K2(l,u),u.tag=1,vs(b)?(l=!0,lu(u)):l=!1,fr(u,f),Mk(u,b,k),fw(u,b,k,f),yw(null,u,b,!0,l,f);case 19:return Jk(l,u,f);case 22:return Hk(l,u,f)}throw Error(t(156,u.tag))};function wC(l,u){return Uc(l,u)}function CM(l,u,f,b){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(l,u,f,b){return new CM(l,u,f,b)}function Dw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function EM(l){if(typeof l=="function")return Dw(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===me)return 14}return 2}function jh(l,u){var f=l.alternate;return f===null?(f=Ma(l.tag,u,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function av(l,u,f,b,k,P){var V=2;if(b=l,typeof l=="function")Dw(l)&&(V=1);else if(typeof l=="string")V=5;else e:switch(l){case B:return uf(f.children,k,P,u);case j:V=8,k|=8;break;case D:return l=Ma(12,f,u,k|2),l.elementType=D,l.lanes=P,l;case ne:return l=Ma(13,f,u,k),l.elementType=ne,l.lanes=P,l;case ee:return l=Ma(19,f,u,k),l.elementType=ee,l.lanes=P,l;case de:return lv(f,k,P,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case se:V=10;break e;case F:V=9;break e;case H:V=11;break e;case me:V=14;break e;case ge:V=16,b=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return u=Ma(V,f,u,k),u.elementType=l,u.type=b,u.lanes=P,u}function uf(l,u,f,b){return l=Ma(7,l,b,u),l.lanes=f,l}function lv(l,u,f,b){return l=Ma(22,l,b,u),l.elementType=de,l.lanes=f,l.stateNode={isHidden:!1},l}function jw(l,u,f){return l=Ma(6,l,null,u),l.lanes=f,l}function Bw(l,u,f){return u=Ma(4,l.children!==null?l.children:[],l.key,u),u.lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function TM(l,u,f,b,k){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dd(0),this.expirationTimes=Dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dd(0),this.identifierPrefix=b,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Uw(l,u,f,b,k,P,V,he,we){return l=new TM(l,u,f,he,we),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Ma(3,null,null,u),l.current=P,P.stateNode=l,P.memoizedState={element:b,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},xi(P),l}function NM(l,u,f){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:b==null?null:""+b,children:l,containerInfo:u,implementation:f}}function xC(l){if(!l)return rc;l=l._reactInternals;e:{if(bi(l)!==l||l.tag!==1)throw Error(t(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vs(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(l.tag===1){var f=l.type;if(vs(f))return $0(l,f,u)}return u}function SC(l,u,f,b,k,P,V,he,we){return l=Uw(f,b,!0,l,k,P,V,he,we),l.context=xC(null),f=l.current,b=Gs(),k=Fh(f),P=Ar(b,k),P.callback=u??null,kr(f,P,k),l.current.lanes=k,Wc(l,k,b),yo(l,b),l}function cv(l,u,f,b){var k=u.current,P=Gs(),V=Fh(k);return f=xC(f),u.context===null?u.context=f:u.pendingContext=f,u=Ar(P,V),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=kr(k,u,V),l!==null&&(yl(l,k,V,P),Oi(l,k,V)),V}function uv(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function AC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function zw(l,u){AC(l,u),(l=l.alternate)&&AC(l,u)}function PM(){return null}var kC=typeof reportError=="function"?reportError:function(l){console.error(l)};function qw(l){this._internalRoot=l}hv.prototype.render=qw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(t(409));cv(l,u,null,null)},hv.prototype.unmount=qw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;af(function(){cv(null,l,null,null)}),u[Ii]=null}};function hv(l){this._internalRoot=l}hv.prototype.unstable_scheduleHydration=function(l){if(l){var u=im();l={blockedOn:null,target:l,priority:u};for(var f=0;f<wa.length&&u!==0&&u<wa[f].priority;f++);wa.splice(f,0,l),f===0&&om(l)}};function $w(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function dv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function CC(){}function LM(l,u,f,b,k){if(k){if(typeof b=="function"){var P=b;b=function(){var Me=uv(V);P.call(Me)}}var V=SC(u,b,l,0,null,!1,!1,"",CC);return l._reactRootContainer=V,l[Ii]=V.current,ru(l.nodeType===8?l.parentNode:l),af(),V}for(;k=l.lastChild;)l.removeChild(k);if(typeof b=="function"){var he=b;b=function(){var Me=uv(we);he.call(Me)}}var we=Uw(l,0,!1,null,null,!1,!1,"",CC);return l._reactRootContainer=we,l[Ii]=we.current,ru(l.nodeType===8?l.parentNode:l),af(function(){cv(u,we,f,b)}),we}function fv(l,u,f,b,k){var P=f._reactRootContainer;if(P){var V=P;if(typeof k=="function"){var he=k;k=function(){var we=uv(V);he.call(we)}}cv(u,V,l,k)}else V=LM(f,u,l,k,b);return uv(V)}hh=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var f=Do(u.pendingLanes);f!==0&&(uh(u,f|1),yo(u,Yn()),(Sn&6)===0&&(Rm=Yn()+500,L()))}break;case 13:af(function(){var b=On(l,1);if(b!==null){var k=Gs();yl(b,l,1,k)}}),zw(l,1)}},jd=function(l){if(l.tag===13){var u=On(l,134217728);if(u!==null){var f=Gs();yl(u,l,134217728,f)}zw(l,134217728)}},rm=function(l){if(l.tag===13){var u=Fh(l),f=On(l,u);if(f!==null){var b=Gs();yl(f,l,u,b)}zw(l,u)}},im=function(){return vn},dh=function(l,u){var f=vn;try{return vn=l,u()}finally{vn=f}},sr=function(l,u,f){switch(u){case"input":if(St(l,f),u=f.name,f.type==="radio"&&u!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var b=f[u];if(b!==l&&b.form===l.form){var k=ef(b);if(!k)throw Error(t(90));$e(b),St(b,k)}}}break;case"textarea":an(l,f);break;case"select":u=f.value,u!=null&&Je(l,!!f.multiple,u,!1)}},vi=Mw,ya=af;var RM={usingClientEntryPoint:!1,Events:[Eh,ou,ef,bn,$l,Mw]},e1={findFiberByHostInstance:nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IM={bundleType:e1.bundleType,version:e1.version,rendererPackageName:e1.rendererPackageName,rendererConfig:e1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Fo(l),l===null?null:l.stateNode},findFiberByHostInstance:e1.findFiberByHostInstance||PM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pv.isDisabled&&pv.supportsFiber)try{qc=pv.inject(IM),zs=pv}catch{}}return vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RM,vo.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(u))throw Error(t(200));return NM(l,u,null,f)},vo.createRoot=function(l,u){if(!$w(l))throw Error(t(299));var f=!1,b="",k=kC;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=Uw(l,1,!1,null,null,f,!1,b,k),l[Ii]=u.current,ru(l.nodeType===8?l.parentNode:l),new qw(u)},vo.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Fo(u),l=l===null?null:l.stateNode,l},vo.flushSync=function(l){return af(l)},vo.hydrate=function(l,u,f){if(!dv(u))throw Error(t(200));return fv(null,l,u,!0,f)},vo.hydrateRoot=function(l,u,f){if(!$w(l))throw Error(t(405));var b=f!=null&&f.hydratedSources||null,k=!1,P="",V=kC;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(P=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),u=SC(u,null,l,1,f??null,k,!1,P,V),l[Ii]=u.current,ru(l),b)for(l=0;l<b.length;l++)f=b[l],k=f._getVersion,k=k(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,k]:u.mutableSourceEagerHydrationData.push(f,k);return new hv(u)},vo.render=function(l,u,f){if(!dv(u))throw Error(t(200));return fv(null,l,u,!1,f)},vo.unmountComponentAtNode=function(l){if(!dv(l))throw Error(t(40));return l._reactRootContainer?(af(function(){fv(null,null,l,!1,function(){l._reactRootContainer=null,l[Ii]=null})}),!0):!1},vo.unstable_batchedUpdates=Mw,vo.unstable_renderSubtreeIntoContainer=function(l,u,f,b){if(!dv(f))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return fv(l,u,f,!1,b)},vo.version="18.3.1-next-f1338f8080-20240426",vo}var OC;function HM(){if(OC)return Gw.exports;OC=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gw.exports=$M(),Gw.exports}var FC;function VM(){if(FC)return mv;FC=1;var r=HM();return mv.createRoot=r.createRoot,mv.hydrateRoot=r.hydrateRoot,mv}var WM=VM(),Y=mA();const DC=b2(Y);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jC="popstate";function GM(r={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Xx("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:q1(i)}return XM(e,t,null,r)}function vr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YM(){return Math.random().toString(36).substring(2,10)}function BC(r,e){return{usr:r.state,key:r.key,idx:e}}function Xx(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?b0(e):e,state:t,key:e&&e.key||n||YM()}}function q1({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function b0(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function XM(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",c=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function p(){a="POP";let A=d(),S=A==null?null:A-h;h=A,c&&c({action:a,location:_.location,delta:S})}function y(A,S){a="PUSH";let N=Xx(_.location,A,S);h=d()+1;let I=BC(N,h),R=_.createHref(N);try{o.pushState(I,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&c&&c({action:a,location:_.location,delta:1})}function m(A,S){a="REPLACE";let N=Xx(_.location,A,S);h=d();let I=BC(N,h),R=_.createHref(N);o.replaceState(I,"",R),s&&c&&c({action:a,location:_.location,delta:0})}function x(A){return KM(A)}let _={get action(){return a},get location(){return r(i,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(jC,p),c=A,()=>{i.removeEventListener(jC,p),c=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let S=x(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:m,go(A){return o.go(A)}};return _}function KM(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vr(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:q1(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function zN(r,e,t="/"){return JM(r,e,t,!1)}function JM(r,e,t,n){let i=typeof e=="string"?b0(e):e,s=eh(i.pathname||"/",t);if(s==null)return null;let o=qN(r);QM(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let h=cO(s);a=aO(o[c],h,n)}return a}function qN(r,e=[],t=[],n=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(vr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let h=Ku([n,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(vr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),qN(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:sO(h,s.index),routesMeta:d})};return r.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of $N(s.path))i(s,o,c)}),e}function $N(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=$N(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>r.startsWith("/")&&c===""?"/":c)}function QM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:oO(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var ZM=/^:[\w-]+$/,eO=3,tO=2,nO=1,rO=10,iO=-2,UC=r=>r==="*";function sO(r,e){let t=r.split("/"),n=t.length;return t.some(UC)&&(n+=iO),e&&(n+=tO),t.filter(i=>!UC(i)).reduce((i,s)=>i+(ZM.test(s)?eO:s===""?nO:rO),n)}function oO(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function aO(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],h=a===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=qb({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),y=c.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=qb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ku([s,p.pathname]),pathnameBase:fO(Ku([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Ku([s,p.pathnameBase]))}return o}function qb(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=lO(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,{paramName:d,isOptional:p},y)=>{if(d==="*"){let x=a[y]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const m=a[y];return p&&!m?h[d]=void 0:h[d]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:r}}function lO(r,e=!1,t=!0){Fl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function eh(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function uO(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?b0(r):r;return{pathname:t?t.startsWith("/")?t:hO(t,e):e,search:pO(n),hash:mO(i)}}function hO(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Kw(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gA(r){let e=dO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function yA(r,e,t,n=!1){let i;typeof r=="string"?i=b0(r):(i={...r},vr(!i.pathname||!i.pathname.includes("?"),Kw("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),Kw("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),Kw("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let c=uO(i,a),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var Ku=r=>r.join("/").replace(/\/\/+/g,"/"),fO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HN=["POST","PUT","PATCH","DELETE"];new Set(HN);var yO=["GET",...HN];new Set(yO);var _0=Y.createContext(null);_0.displayName="DataRouter";var N_=Y.createContext(null);N_.displayName="DataRouterState";Y.createContext(!1);var VN=Y.createContext({isTransitioning:!1});VN.displayName="ViewTransition";var vO=Y.createContext(new Map);vO.displayName="Fetchers";var bO=Y.createContext(null);bO.displayName="Await";var jl=Y.createContext(null);jl.displayName="Navigation";var _2=Y.createContext(null);_2.displayName="Location";var Bl=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Bl.displayName="Route";var vA=Y.createContext(null);vA.displayName="RouteError";function _O(r,{relative:e}={}){vr(w0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Y.useContext(jl),{hash:i,pathname:s,search:o}=w2(r,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Ku([t,s])),n.createHref({pathname:a,search:o,hash:i})}function w0(){return Y.useContext(_2)!=null}function Id(){return vr(w0(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(_2).location}var WN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GN(r){Y.useContext(jl).static||Y.useLayoutEffect(r)}function oh(){let{isDataRoute:r}=Y.useContext(Bl);return r?OO():wO()}function wO(){vr(w0(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(_0),{basename:e,navigator:t}=Y.useContext(jl),{matches:n}=Y.useContext(Bl),{pathname:i}=Id(),s=JSON.stringify(gA(n)),o=Y.useRef(!1);return GN(()=>{o.current=!0}),Y.useCallback((c,h={})=>{if(Fl(o.current,WN),!o.current)return;if(typeof c=="number"){t.go(c);return}let d=yA(c,JSON.parse(s),i,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ku([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,s,i,r])}var xO=Y.createContext(null);function SO(r){let e=Y.useContext(Bl).outlet;return e&&Y.createElement(xO.Provider,{value:r},e)}function w2(r,{relative:e}={}){let{matches:t}=Y.useContext(Bl),{pathname:n}=Id(),i=JSON.stringify(gA(t));return Y.useMemo(()=>yA(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function AO(r,e){return YN(r,e)}function YN(r,e,t,n){var S;vr(w0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=Y.useContext(jl),{matches:s}=Y.useContext(Bl),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",d=o&&o.route;{let N=d&&d.path||"";XN(c,!d||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=Id(),y;if(e){let N=typeof e=="string"?b0(e):e;vr(h==="/"||((S=N.pathname)==null?void 0:S.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=p;let m=y.pathname||"/",x=m;if(h!=="/"){let N=h.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=zN(r,{pathname:x});Fl(d||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Fl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=NO(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:Ku([h,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ku([h,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,t,n);return e&&A?Y.createElement(_2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function kO(){let r=MO(),e=gO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:s},"ErrorBoundary")," or"," ",Y.createElement("code",{style:s},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:i},t):null,o)}var CO=Y.createElement(kO,null),EO=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(Bl.Provider,{value:this.props.routeContext},Y.createElement(vA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TO({routeContext:r,match:e,children:t}){let n=Y.useContext(_0);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Bl.Provider,{value:r},t)}function NO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);vr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=c),h.route.id){let{loaderData:d,errors:p}=t,y=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,h,d)=>{let p,y=!1,m=null,x=null;t&&(p=s&&h.route.id?s[h.route.id]:void 0,m=h.route.errorElement||CO,o&&(a<0&&d===0?(XN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):a===d&&(y=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,d+1)),A=()=>{let S;return p?S=m:y?S=x:h.route.Component?S=Y.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=c,Y.createElement(TO,{match:h,routeContext:{outlet:c,matches:_,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?Y.createElement(EO,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):A()},null)}function bA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PO(r){let e=Y.useContext(_0);return vr(e,bA(r)),e}function LO(r){let e=Y.useContext(N_);return vr(e,bA(r)),e}function RO(r){let e=Y.useContext(Bl);return vr(e,bA(r)),e}function _A(r){let e=RO(r),t=e.matches[e.matches.length-1];return vr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function IO(){return _A("useRouteId")}function MO(){var n;let r=Y.useContext(vA),e=LO("useRouteError"),t=_A("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function OO(){let{router:r}=PO("useNavigate"),e=_A("useNavigate"),t=Y.useRef(!1);return GN(()=>{t.current=!0}),Y.useCallback(async(i,s={})=>{Fl(t.current,WN),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var zC={};function XN(r,e,t){!e&&!zC[r]&&(zC[r]=!0,Fl(!1,t))}Y.memo(FO);function FO({routes:r,future:e,state:t}){return YN(r,void 0,t,e)}function Xs({to:r,replace:e,state:t,relative:n}){vr(w0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Y.useContext(jl);Fl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=Y.useContext(Bl),{pathname:o}=Id(),a=oh(),c=yA(r,gA(s),o,n==="path"),h=JSON.stringify(c);return Y.useEffect(()=>{a(JSON.parse(h),{replace:e,state:t,relative:n})},[a,h,n,e,t]),null}function DO(r){return SO(r.context)}function ns(r){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jO({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){vr(!w0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),a=Y.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=b0(t));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:y="default"}=t,m=Y.useMemo(()=>{let x=eh(c,o);return x==null?null:{location:{pathname:x,search:h,hash:d,state:p,key:y},navigationType:n}},[o,c,h,d,p,y,n]);return Fl(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:Y.createElement(jl.Provider,{value:a},Y.createElement(_2.Provider,{children:e,value:m}))}function BO({children:r,location:e}){return AO(Kx(r),e)}function Kx(r,e=[]){let t=[];return Y.Children.forEach(r,(n,i)=>{if(!Y.isValidElement(n))return;let s=[...e,i];if(n.type===Y.Fragment){t.push.apply(t,Kx(n.props.children,s));return}vr(n.type===ns,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kx(n.props.children,s)),t.push(o)}),t}var Dv="get",jv="application/x-www-form-urlencoded";function P_(r){return r!=null&&typeof r.tagName=="string"}function UO(r){return P_(r)&&r.tagName.toLowerCase()==="button"}function zO(r){return P_(r)&&r.tagName.toLowerCase()==="form"}function qO(r){return P_(r)&&r.tagName.toLowerCase()==="input"}function $O(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function HO(r,e){return r.button===0&&(!e||e==="_self")&&!$O(r)}var gv=null;function VO(){if(gv===null)try{new FormData(document.createElement("form"),0),gv=!1}catch{gv=!0}return gv}var WO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jw(r){return r!=null&&!WO.has(r)?(Fl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jv}"`),null):r}function GO(r,e){let t,n,i,s,o;if(zO(r)){let a=r.getAttribute("action");n=a?eh(a,e):null,t=r.getAttribute("method")||Dv,i=Jw(r.getAttribute("enctype"))||jv,s=new FormData(r)}else if(UO(r)||qO(r)&&(r.type==="submit"||r.type==="image")){let a=r.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||a.getAttribute("action");if(n=c?eh(c,e):null,t=r.getAttribute("formmethod")||a.getAttribute("method")||Dv,i=Jw(r.getAttribute("formenctype"))||Jw(a.getAttribute("enctype"))||jv,s=new FormData(a,r),!VO()){let{name:h,type:d,value:p}=r;if(d==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,p)}}else{if(P_(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dv,n=null,i=jv,o=r}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wA(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function YO(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&eh(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function XO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function JO(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await XO(s,t);return o.links?o.links():[]}return[]}));return t7(n.flat(1).filter(KO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qC(r,e,t,n,i,s){let o=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,a=(c,h)=>{var d;return t[h].pathname!==c.pathname||((d=t[h].route.path)==null?void 0:d.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>o(c,h)||a(c,h)):s==="data"?e.filter((c,h)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,h)||a(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function QO(r,e,{includeHydrateFallback:t}={}){return ZO(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ZO(r){return[...new Set(r)]}function e7(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function t7(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(e7(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function KN(){let r=Y.useContext(_0);return wA(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function n7(){let r=Y.useContext(N_);return wA(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xA=Y.createContext(void 0);xA.displayName="FrameworkContext";function JN(){let r=Y.useContext(xA);return wA(r,"You must render this element inside a <HydratedRouter> element"),r}function r7(r,e){let t=Y.useContext(xA),[n,i]=Y.useState(!1),[s,o]=Y.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,y=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let _=S=>{S.forEach(N=>{o(N.isIntersecting)})},A=new IntersectionObserver(_,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[r]),Y.useEffect(()=>{if(n){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[n]);let m=()=>{i(!0)},x=()=>{i(!1),o(!1)};return t?r!=="intent"?[s,y,{}]:[s,y,{onFocus:n1(a,m),onBlur:n1(c,x),onMouseEnter:n1(h,m),onMouseLeave:n1(d,x),onTouchStart:n1(p,m)}]:[!1,y,{}]}function n1(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function i7({page:r,...e}){let{router:t}=KN(),n=Y.useMemo(()=>zN(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Y.createElement(o7,{page:r,matches:n,...e}):null}function s7(r){let{manifest:e,routeModules:t}=JN(),[n,i]=Y.useState([]);return Y.useEffect(()=>{let s=!1;return JO(r,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[r,e,t]),n}function o7({page:r,matches:e,...t}){let n=Id(),{manifest:i,routeModules:s}=JN(),{basename:o}=KN(),{loaderData:a,matches:c}=n7(),h=Y.useMemo(()=>qC(r,e,c,i,n,"data"),[r,e,c,i,n]),d=Y.useMemo(()=>qC(r,e,c,i,n,"assets"),[r,e,c,i,n]),p=Y.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let x=new Set,_=!1;if(e.forEach(S=>{var I;let N=i.routes[S.route.id];!N||!N.hasLoader||(!h.some(R=>R.route.id===S.route.id)&&S.route.id in a&&((I=s[S.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?_=!0:x.add(S.route.id))}),x.size===0)return[];let A=YO(r,o,"data");return _&&x.size>0&&A.searchParams.set("_routes",e.filter(S=>x.has(S.route.id)).map(S=>S.route.id).join(",")),[A.pathname+A.search]},[o,a,n,i,h,e,r,s]),y=Y.useMemo(()=>QO(d,i),[d,i]),m=s7(d);return Y.createElement(Y.Fragment,null,p.map(x=>Y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),y.map(x=>Y.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),m.map(({key:x,link:_})=>Y.createElement("link",{key:x,nonce:t.nonce,..._})))}function a7(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QN&&(window.__reactRouterVersion="7.8.0")}catch{}function l7({basename:r,children:e,window:t}){let n=Y.useRef();n.current==null&&(n.current=GM({window:t,v5Compat:!0}));let i=n.current,[s,o]=Y.useState({action:i.action,location:i.location}),a=Y.useCallback(c=>{Y.startTransition(()=>o(c))},[o]);return Y.useLayoutEffect(()=>i.listen(a),[i,a]),Y.createElement(jO,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:i})}var ZN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:h,preventScrollReset:d,viewTransition:p,...y},m){let{basename:x}=Y.useContext(jl),_=typeof h=="string"&&ZN.test(h),A,S=!1;if(typeof h=="string"&&_&&(A=h,QN))try{let D=new URL(window.location.href),se=h.startsWith("//")?new URL(D.protocol+h):new URL(h),F=eh(se.pathname,x);se.origin===D.origin&&F!=null?h=F+se.search+se.hash:S=!0}catch{Fl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=_O(h,{relative:i}),[I,R,O]=r7(n,y),U=d7(h,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:p});function B(D){e&&e(D),D.defaultPrevented||U(D)}let j=Y.createElement("a",{...y,...O,href:A||N,onClick:S||s?e:B,ref:a7(m,R),target:c,"data-discover":!_&&t==="render"?"true":void 0});return I&&!_?Y.createElement(Y.Fragment,null,j,Y.createElement(i7,{page:N})):j});ha.displayName="Link";var c7=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...h},d){let p=w2(o,{relative:h.relative}),y=Id(),m=Y.useContext(N_),{navigator:x,basename:_}=Y.useContext(jl),A=m!=null&&y7(p)&&a===!0,S=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,N=y.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(N=N.toLowerCase(),I=I?I.toLowerCase():null,S=S.toLowerCase()),I&&_&&(I=eh(I,_)||I);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=N===S||!i&&N.startsWith(S)&&N.charAt(R)==="/",U=I!=null&&(I===S||!i&&I.startsWith(S)&&I.charAt(S.length)==="/"),B={isActive:O,isPending:U,isTransitioning:A},j=O?e:void 0,D;typeof n=="function"?D=n(B):D=[n,O?"active":null,U?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let se=typeof s=="function"?s(B):s;return Y.createElement(ha,{...h,"aria-current":j,className:D,ref:d,style:se,to:o,viewTransition:a},typeof c=="function"?c(B):c)});c7.displayName="NavLink";var u7=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:o=Dv,action:a,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:p,...y},m)=>{let x=m7(),_=g7(a,{relative:h}),A=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&ZN.test(a),N=I=>{if(c&&c(I),I.defaultPrevented)return;I.preventDefault();let R=I.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||o;x(R||I.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:i,state:s,relative:h,preventScrollReset:d,viewTransition:p})};return Y.createElement("form",{ref:m,method:A,action:_,onSubmit:n?c:N,...y,"data-discover":!S&&r==="render"?"true":void 0})});u7.displayName="Form";function h7(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eP(r){let e=Y.useContext(_0);return vr(e,h7(r)),e}function d7(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=oh(),c=Id(),h=w2(r,{relative:s});return Y.useCallback(d=>{if(HO(d,e)){d.preventDefault();let p=t!==void 0?t:q1(c)===q1(h);a(r,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,h,t,n,e,r,i,s,o])}var f7=0,p7=()=>`__${String(++f7)}__`;function m7(){let{router:r}=eP("useSubmit"),{basename:e}=Y.useContext(jl),t=IO();return Y.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:c,body:h}=GO(n,e);if(i.navigate===!1){let d=i.fetcherKey||p7();await r.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function g7(r,{relative:e}={}){let{basename:t}=Y.useContext(jl),n=Y.useContext(Bl);vr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...w2(r||".",{relative:e})},o=Id();if(r==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(d=>d==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let d=a.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ku([t,s.pathname])),q1(s)}function y7(r,{relative:e}={}){let t=Y.useContext(VN);vr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eP("useViewTransitionState"),i=w2(r,{relative:e});if(!t.isTransitioning)return!1;let s=eh(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=eh(t.nextLocation.pathname,n)||t.nextLocation.pathname;return qb(i.pathname,o)!=null||qb(i.pathname,s)!=null}/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tP=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Y.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},c)=>Y.createElement("svg",{ref:c,...b7,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:tP("lucide",i),...a},[...o.map(([h,d])=>Y.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(r,e)=>{const t=Y.forwardRef(({className:n,...i},s)=>Y.createElement(_7,{ref:s,iconNode:e,className:tP(`lucide-${v7(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],x7=Kt("Book",w7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]],Lp=Kt("BotMessageSquare",S7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],$C=Kt("BrainCircuit",A7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nP=Kt("Camera",k7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E7=Kt("ChevronDown",C7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N7=Kt("ChevronRight",T7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L7=Kt("CircleAlert",P7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],I7=Kt("Download",R7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rP=Kt("EyeOff",M7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iP=Kt("Eye",O7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],D7=Kt("Fullscreen",F7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],B7=Kt("Globe",j7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],z7=Kt("History",U7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$7=Kt("Image",q7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sP=Kt("LoaderCircle",H7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],W7=Kt("Loader",V7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oP=Kt("Lock",G7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],X7=Kt("LogOut",Y7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],SA=Kt("Mail",K7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Q7=Kt("Maximize",J7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],eF=Kt("Menu",Z7);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],AA=Kt("MessageSquare",tF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],rF=Kt("MicOff",nF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qw=Kt("MonitorOff",iF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],oF=Kt("Monitor",sF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]],x2=Kt("MoveLeft",aF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],aP=Kt("PhoneOff",lF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],lP=Kt("Phone",cF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]],hF=Kt("PictureInPicture2",uF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M2 10h6V4",key:"zwrco"}],["path",{d:"m2 4 6 6",key:"ug085t"}],["path",{d:"M21 10V7a2 2 0 0 0-2-2h-7",key:"git5jr"}],["path",{d:"M3 14v2a2 2 0 0 0 2 2h3",key:"1f7fh3"}],["rect",{x:"12",y:"14",width:"10",height:"7",rx:"1",key:"1wjs3o"}]],fF=Kt("PictureInPicture",dF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]],mF=Kt("ScreenShare",pF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cP=Kt("Send",gF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vF=Kt("Settings",yF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_F=Kt("Sun",bF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]],xF=Kt("TvMinimalPlay",wF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kA=Kt("User",SF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],$1=Kt("Users",AF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],CF=Kt("Video",kF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]],TF=Kt("Voicemail",EF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PF=Kt("WifiOff",NF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],RF=Kt("Wifi",LF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],S2=Kt("X",IF);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],OF=Kt("Youtube",MF);function bu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uP(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var da={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},h0={duration:.5,overwrite:!1,delay:0},CA,as,yr,Va=1e8,Zn=1/Va,Jx=Math.PI*2,FF=Jx/4,DF=0,hP=Math.sqrt,jF=Math.cos,BF=Math.sin,Gi=function(e){return typeof e=="string"},Wr=function(e){return typeof e=="function"},th=function(e){return typeof e=="number"},EA=function(e){return typeof e>"u"},Fc=function(e){return typeof e=="object"},Eo=function(e){return e!==!1},TA=function(){return typeof window<"u"},yv=function(e){return Wr(e)||Gi(e)},dP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Fs=Array.isArray,Qx=/(?:-?\.?\d|\.)+/gi,fP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ym=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Zw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,pP=/[+-]=-?[.\d]+/,mP=/[^,'"\[\]\s]+/gi,UF=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Rr,hc,Zx,NA,ma={},$b={},gP,yP=function(e){return($b=d0(e,ma))&&Ro},PA=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},H1=function(e,t){return!t&&console.warn(e)},vP=function(e,t){return e&&(ma[e]=t)&&$b&&($b[e]=t)||ma},V1=function(){return 0},zF={suppressEvents:!0,isStart:!0,kill:!1},Bv={suppressEvents:!0,kill:!1},qF={suppressEvents:!0},LA={},Sd=[],e5={},bP,oa={},ex={},HC=30,Uv=[],RA="",IA=function(e){var t=e[0],n,i;if(Fc(t)||Wr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=Uv.length;i--&&!Uv[i].targetTest(t););n=Uv[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new $P(e[i],n)))||e.splice(i,1);return e},kp=function(e){return e._gsap||IA(Wa(e))[0]._gsap},_P=function(e,t,n){return(n=e[t])&&Wr(n)?e[t]():EA(n)&&e.getAttribute&&e.getAttribute(t)||n},To=function(e,t){return(e=e.split(",")).forEach(t)||e},ei=function(e){return Math.round(e*1e5)/1e5||0},mi=function(e){return Math.round(e*1e7)/1e7||0},eg=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},$F=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},Hb=function(){var e=Sd.length,t=Sd.slice(0),n,i;for(e5={},Sd.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},wP=function(e,t,n,i){Sd.length&&!as&&Hb(),e.render(t,n,as&&t<0&&(e._initted||e._startAt)),Sd.length&&!as&&Hb()},xP=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(mP).length<2?t:Gi(e)?e.trim():e},SP=function(e){return e},ga=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},HF=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},d0=function(e,t){for(var n in t)e[n]=t[n];return e},VC=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Fc(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},Vb=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},L1=function(e){var t=e.parent||Rr,n=e.keyframes?HF(Fs(e.keyframes)):ga;if(Eo(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},VF=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},AP=function(e,t,n,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},L_=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Cd=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Cp=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},WF=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},t5=function(e,t,n,i){return e._startAt&&(as?e._startAt.revert(Bv):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},GF=function r(e){return!e||e._ts&&r(e.parent)},WC=function(e){return e._repeat?f0(e._tTime,e=e.duration()+e._rDelay)*e:0},f0=function(e,t){var n=Math.floor(e=mi(e/t));return e&&n===e?n-1:n},Wb=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},R_=function(e){return e._end=mi(e._start+(e._tDur/Math.abs(e._ts||e._rts||Zn)||0))},I_=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=mi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),R_(e),n._dirty||Cp(n,e)),e},kP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Wb(e.rawTime(),t),(!t._dur||A2(0,t.totalDuration(),n)-t._tTime>Zn)&&t.render(n,!0)),Cp(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Zn}},Pc=function(e,t,n,i){return t.parent&&Cd(t),t._start=mi((th(n)?n:n||e!==Rr?Fa(e,n,t):e._time)+t._delay),t._end=mi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),AP(e,t,"_first","_last",e._sort?"_start":0),n5(t)||(e._recent=t),i||kP(e,t),e._ts<0&&I_(e,e._tTime),e},CP=function(e,t){return(ma.ScrollTrigger||PA("scrollTrigger",t))&&ma.ScrollTrigger.create(t,e)},EP=function(e,t,n,i,s){if(OA(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!as&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&bP!==la.frame)return Sd.push(e),e._lazy=[s,i],1},YF=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},n5=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},XF=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&YF(e)&&!(!e._initted&&n5(e))||(e._ts<0||e._dp._ts<0)&&!n5(e))?0:1,a=e._rDelay,c=0,h,d,p;if(a&&e._repeat&&(c=A2(0,e._tDur,t),d=f0(c,a),e._yoyo&&d&1&&(o=1-o),d!==f0(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||as||i||e._zTime===Zn||!t&&e._zTime){if(!e._initted&&EP(e,t,i,n,c))return;for(p=e._zTime,e._zTime=t||(n?Zn:0),n||(n=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&t5(e,t,n,!0),e._onUpdate&&!n&&ca(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&ca(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Cd(e,1),!n&&!as&&(ca(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},KF=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},p0=function(e,t,n,i){var s=e._repeat,o=mi(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:mi(o*(s+1)+e._rDelay*s):o,a>0&&!i&&I_(e,e._tTime=e._tDur*a),e.parent&&R_(e),n||Cp(e.parent,e),e},GC=function(e){return e instanceof eo?Cp(e):p0(e,e._dur)},JF={_start:0,endTime:V1,totalDuration:V1},Fa=function r(e,t,n){var i=e.labels,s=e._recent||JF,o=e.duration()>=Va?s.endTime(!1):e._dur,a,c,h;return Gi(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),h=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(a<0?s:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),h&&n&&(c=c/100*(Fs(n)?n[0]:n).totalDuration()),a>1?r(e,t.substr(0,a-1),n)+c:o+c)):t==null?o:+t},R1=function(e,t,n){var i=th(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,c;if(i&&(o.duration=t[1]),o.parent=n,e){for(a=o,c=n;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=Eo(c.vars.inherit)&&c.parent;o.immediateRender=Eo(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new pi(t[0],o,t[s+1])},Md=function(e,t){return e||e===0?t(e):t},A2=function(e,t,n){return n<e?e:n>t?t:n},Rs=function(e,t){return!Gi(e)||!(t=UF.exec(e))?"":t[1]},QF=function(e,t,n){return Md(n,function(i){return A2(e,t,i)})},r5=[].slice,TP=function(e,t){return e&&Fc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Fc(e[0]))&&!e.nodeType&&e!==hc},ZF=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Gi(i)&&!t||TP(i,1)?(s=n).push.apply(s,Wa(i)):n.push(i)})||n},Wa=function(e,t,n){return yr&&!t&&yr.selector?yr.selector(e):Gi(e)&&!n&&(Zx||!m0())?r5.call((t||NA).querySelectorAll(e),0):Fs(e)?ZF(e,n):TP(e)?r5.call(e,0):e?[e]:[]},i5=function(e){return e=Wa(e)[0]||H1("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Wa(t,n.querySelectorAll?n:n===e?H1("Invalid scope")||NA.createElement("div"):e)}},NP=function(e){return e.sort(function(){return .5-Math.random()})},PP=function(e){if(Wr(e))return e;var t=Fc(e)?e:{each:e},n=Ep(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,c=isNaN(i)||a,h=t.axis,d=i,p=i;return Gi(i)?d=p={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(d=i[0],p=i[1]),function(y,m,x){var _=(x||t).length,A=o[_],S,N,I,R,O,U,B,j,D;if(!A){if(D=t.grid==="auto"?0:(t.grid||[1,Va])[1],!D){for(B=-Va;B<(B=x[D++].getBoundingClientRect().left)&&D<_;);D<_&&D--}for(A=o[_]=[],S=c?Math.min(D,_)*d-.5:i%D,N=D===Va?0:c?_*p/D-.5:i/D|0,B=0,j=Va,U=0;U<_;U++)I=U%D-S,R=N-(U/D|0),A[U]=O=h?Math.abs(h==="y"?R:I):hP(I*I+R*R),O>B&&(B=O),O<j&&(j=O);i==="random"&&NP(A),A.max=B-j,A.min=j,A.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(D>_?_-1:h?h==="y"?_/D:D:Math.max(D,_/D))||0)*(i==="edges"?-1:1),A.b=_<0?s-_:s,A.u=Rs(t.amount||t.each)||0,n=n&&_<0?UP(n):n}return _=(A[y]-A.min)/A.max||0,mi(A.b+(n?n(_):_)*A.v)+A.u}},s5=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=mi(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(th(n)?0:Rs(n))}},LP=function(e,t){var n=Fs(e),i,s;return!n&&Fc(e)&&(i=n=e.radius||Va,e.values?(e=Wa(e.values),(s=!th(e[0]))&&(i*=i)):e=s5(e.increment)),Md(t,n?Wr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),h=Va,d=0,p=e.length,y,m;p--;)s?(y=e[p].x-a,m=e[p].y-c,y=y*y+m*m):y=Math.abs(e[p]-a),y<h&&(h=y,d=p);return d=!i||h<=i?e[d]:o,s||d===o||th(o)?d:d+Rs(o)}:s5(e))},RP=function(e,t,n,i){return Md(Fs(e)?!t:n===!0?!!(n=0):!i,function(){return Fs(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},eD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},tD=function(e,t){return function(n){return e(parseFloat(n))+(t||Rs(n))}},nD=function(e,t,n){return MP(e,t,0,1,n)},IP=function(e,t,n){return Md(n,function(i){return e[~~t(i)]})},rD=function r(e,t,n){var i=t-e;return Fs(e)?IP(e,r(0,e.length),t):Md(n,function(s){return(i+(s-e)%i)%i+e})},iD=function r(e,t,n){var i=t-e,s=i*2;return Fs(e)?IP(e,r(0,e.length-1),t):Md(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},W1=function(e){for(var t=0,n="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?mP:Qx),n+=e.substr(t,i-t)+RP(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},MP=function(e,t,n,i,s){var o=t-e,a=i-n;return Md(s,function(c){return n+((c-e)/o*a||0)})},sD=function r(e,t,n,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Gi(e),a={},c,h,d,p,y;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if(Fs(e)&&!Fs(t)){for(d=[],p=e.length,y=p-2,h=1;h<p;h++)d.push(r(e[h-1],e[h]));p--,s=function(x){x*=p;var _=Math.min(y,~~x);return d[_](x-_)},n=t}else i||(e=d0(Fs(e)?[]:{},e));if(!d){for(c in t)MA.call(a,e,c,"get",t[c]);s=function(x){return jA(x,a)||(o?e.p:e)}}}return Md(n,s)},YC=function(e,t,n){var i=e.labels,s=Va,o,a,c;for(o in i)a=i[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},ca=function(e,t,n){var i=e.vars,s=i[t],o=yr,a=e._ctx,c,h,d;if(s)return c=i[t+"Params"],h=i.callbackScope||e,n&&Sd.length&&Hb(),a&&(yr=a),d=c?s.apply(h,c):s.call(h),yr=o,d},d1=function(e){return Cd(e),e.scrollTrigger&&e.scrollTrigger.kill(!!as),e.progress()<1&&ca(e,"onInterrupt"),e},Xm,OP=[],FP=function(e){if(e)if(e=!e.name&&e.default||e,TA()||e.headless){var t=e.name,n=Wr(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:V1,render:jA,add:MA,kill:wD,modifier:_D,rawVars:0},o={targetTest:0,get:0,getSetter:DA,aliases:{},register:0};if(m0(),e!==i){if(oa[t])return;ga(i,ga(Vb(e,s),o)),d0(i.prototype,d0(s,Vb(e,o))),oa[i.prop=t]=i,e.targetTest&&(Uv.push(i),LA[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}vP(t,i),e.register&&e.register(Ro,i,No)}else OP.push(e)},Jn=255,f1={aqua:[0,Jn,Jn],lime:[0,Jn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Jn],navy:[0,0,128],white:[Jn,Jn,Jn],olive:[128,128,0],yellow:[Jn,Jn,0],orange:[Jn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Jn,0,0],pink:[Jn,192,203],cyan:[0,Jn,Jn],transparent:[Jn,Jn,Jn,0]},tx=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Jn+.5|0},DP=function(e,t,n){var i=e?th(e)?[e>>16,e>>8&Jn,e&Jn]:0:f1.black,s,o,a,c,h,d,p,y,m,x;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),f1[e])i=f1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Jn,i&Jn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Jn,e&Jn]}else if(e.substr(0,3)==="hsl"){if(i=x=e.match(Qx),!t)c=+i[0]%360/360,h=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(h+1):d+h-d*h,s=d*2-o,i.length>3&&(i[3]*=1),i[0]=tx(c+1/3,s,o),i[1]=tx(c,s,o),i[2]=tx(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(fP),n&&i.length<4&&(i[3]=1),i}else i=e.match(Qx)||f1.transparent;i=i.map(Number)}return t&&!x&&(s=i[0]/Jn,o=i[1]/Jn,a=i[2]/Jn,p=Math.max(s,o,a),y=Math.min(s,o,a),d=(p+y)/2,p===y?c=h=0:(m=p-y,h=d>.5?m/(2-p-y):m/(p+y),c=p===s?(o-a)/m+(o<a?6:0):p===o?(a-s)/m+2:(s-o)/m+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(d*100+.5)),n&&i.length<4&&(i[3]=1),i},jP=function(e){var t=[],n=[],i=-1;return e.split(Ad).forEach(function(s){var o=s.match(Ym)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},XC=function(e,t,n){var i="",s=(e+i).match(Ad),o=t?"hsla(":"rgba(",a=0,c,h,d,p;if(!s)return e;if(s=s.map(function(y){return(y=DP(y,t,1))&&o+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(d=jP(e),c=n.c,c.join(i)!==d.c.join(i)))for(h=e.replace(Ad,"1").split(Ym),p=h.length-1;a<p;a++)i+=h[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:n).shift());if(!h)for(h=e.split(Ad),p=h.length-1;a<p;a++)i+=h[a]+s[a];return i+h[p]},Ad=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in f1)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),oD=/hsl[a]?\(/,BP=function(e){var t=e.join(" "),n;if(Ad.lastIndex=0,Ad.test(t))return n=oD.test(t),e[1]=XC(e[1],n),e[0]=XC(e[0],n,jP(e[1])),!0},G1,la=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,a=[],c,h,d,p,y,m,x=function _(A){var S=r()-i,N=A===!0,I,R,O,U;if((S>e||S<0)&&(n+=S-t),i+=S,O=i-n,I=O-o,(I>0||N)&&(U=++p.frame,y=O-p.time*1e3,p.time=O=O/1e3,o+=I+(I>=s?4:s-I),R=1),N||(c=h(_)),R)for(m=0;m<a.length;m++)a[m](O,y,U,A)};return p={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(A){return y/(1e3/(A||60))},wake:function(){gP&&(!Zx&&TA()&&(hc=Zx=window,NA=hc.document||{},ma.gsap=Ro,(hc.gsapVersions||(hc.gsapVersions=[])).push(Ro.version),yP($b||hc.GreenSockGlobals||!hc.gsap&&hc||{}),OP.forEach(FP)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),h=d||function(A){return setTimeout(A,o-p.time*1e3+1|0)},G1=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),G1=0,h=V1},lagSmoothing:function(A,S){e=A||1/0,t=Math.min(S||33,e)},fps:function(A){s=1e3/(A||240),o=p.time*1e3+s},add:function(A,S,N){var I=S?function(R,O,U,B){A(R,O,U,B),p.remove(I)}:A;return p.remove(A),a[N?"unshift":"push"](I),m0(),I},remove:function(A,S){~(S=a.indexOf(A))&&a.splice(S,1)&&m>=S&&m--},_listeners:a},p}(),m0=function(){return!G1&&la.wake()},mn={},aD=/^[\d.\-M][\d.\-,\s]/,lD=/["']/g,cD=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,c,h;s<o;s++)c=n[s],a=s!==o-1?c.lastIndexOf(","):c.length,h=c.substr(0,a),t[i]=isNaN(h)?h.replace(lD,"").trim():+h,i=c.substr(a+1).trim();return t},uD=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},hD=function(e){var t=(e+"").split("("),n=mn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[cD(t[1])]:uD(e).split(",").map(xP)):mn._CE&&aD.test(e)?mn._CE("",e):n},UP=function(e){return function(t){return 1-e(1-t)}},zP=function r(e,t){for(var n=e._first,i;n;)n instanceof eo?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},Ep=function(e,t){return e&&(Wr(e)?e:mn[e]||hD(e))||t},qp=function(e,t,n,i){n===void 0&&(n=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return To(e,function(a){mn[a]=ma[a]=s,mn[o=a.toLowerCase()]=n;for(var c in s)mn[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=mn[a+"."+c]=s[c]}),s},qP=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},nx=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Jx*(Math.asin(1/i)||0),a=function(d){return d===1?1:i*Math.pow(2,-10*d)*BF((d-o)*s)+1},c=e==="out"?a:e==="in"?function(h){return 1-a(1-h)}:qP(a);return s=Jx/s,c.config=function(h,d){return r(e,h,d)},c},rx=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:qP(n);return i.config=function(s){return r(e,s)},i};To("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;qp(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});mn.Linear.easeNone=mn.none=mn.Linear.easeIn;qp("Elastic",nx("in"),nx("out"),nx());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(a){return a<t?r*a*a:a<n?r*Math.pow(a-1.5/e,2)+.75:a<i?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};qp("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);qp("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});qp("Circ",function(r){return-(hP(1-r*r)-1)});qp("Sine",function(r){return r===1?1:-jF(r*FF)+1});qp("Back",rx("in"),rx("out"),rx());mn.SteppedEase=mn.steps=ma.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-Zn;return function(a){return((i*A2(0,o,a)|0)+s)*n}}};h0.ease=mn["quad.out"];To("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return RA+=r+","+r+"Params,"});var $P=function(e,t){this.id=DF++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_P,this.set=t?t.getSetter:DA},Y1=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,p0(this,+t.duration,1,1),this.data=t.data,yr&&(this._ctx=yr,yr.data.push(this)),G1||la.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,p0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(m0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(I_(this,n),!s._dp||s.parent||kP(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Pc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Zn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),wP(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+WC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+WC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?f0(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Zn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?Wb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Zn?0:this._rts,this.totalTime(A2(-Math.abs(this._delay),this._tDur,s),i!==!1),R_(this),WF(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(m0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Zn&&(this._tTime-=Zn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Pc(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Eo(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Wb(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=qF);var i=as;return as=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),as=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,GC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,GC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Fa(this,n),Eo(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Eo(i)),this._dur||(this._zTime=-Zn),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Zn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Zn,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Zn)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=Wr(n)?n:SP,a=function(){var h=i.then;i.then=null,Wr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){d1(this)},r}();ga(Y1.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Zn,_prom:0,_ps:!1,_rts:1});var eo=function(r){uP(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Eo(n.sortChildren),Rr&&Pc(n.parent||Rr,bu(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&CP(bu(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return R1(0,arguments,this),this},t.from=function(i,s,o){return R1(1,arguments,this),this},t.fromTo=function(i,s,o,a){return R1(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,L1(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new pi(i,s,Fa(this,o),1),this},t.call=function(i,s,o){return Pc(this,pi.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,c,h,d){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=h,o.onCompleteParams=d,o.parent=this,new pi(i,o,Fa(this,c)),this},t.staggerFrom=function(i,s,o,a,c,h,d){return o.runBackwards=1,L1(o).immediateRender=Eo(o.immediateRender),this.staggerTo(i,s,o,a,c,h,d)},t.staggerFromTo=function(i,s,o,a,c,h,d,p){return a.startAt=o,L1(a).immediateRender=Eo(a.immediateRender),this.staggerTo(i,s,a,c,h,d,p)},t.render=function(i,s,o){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,d=i<=0?0:mi(i),p=this._zTime<0!=i<0&&(this._initted||!h),y,m,x,_,A,S,N,I,R,O,U,B;if(this!==Rr&&d>c&&i>=0&&(d=c),d!==this._tTime||o||p){if(a!==this._time&&h&&(d+=this._time-a,i+=this._time-a),y=d,R=this._start,I=this._ts,S=!I,p&&(h||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(U=this._yoyo,A=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(A*100+i,s,o);if(y=mi(d%A),d===c?(_=this._repeat,y=h):(O=mi(d/A),_=~~O,_&&_===O&&(y=h,_--),y>h&&(y=h)),O=f0(this._tTime,A),!a&&this._tTime&&O!==_&&this._tTime-O*A-this._dur<=0&&(O=_),U&&_&1&&(y=h-y,B=1),_!==O&&!this._lock){var j=U&&O&1,D=j===(U&&_&1);if(_<O&&(j=!j),a=j?0:d%h?h:d,this._lock=1,this.render(a||(B?0:mi(_*A)),s,!h)._lock=0,this._tTime=d,!s&&this.parent&&ca(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,D&&(this._lock=2,a=j?h:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;zP(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=KF(this,mi(a),mi(y)),N&&(d-=y-(y=N._start))),this._tTime=d,this._time=y,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&y&&!s&&!_&&(ca(this,"onStart"),this._tTime!==d))return this;if(y>=a&&i>=0)for(m=this._first;m;){if(x=m._next,(m._act||y>=m._start)&&m._ts&&N!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(y-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(y-m._start)*m._ts,s,o),y!==this._time||!this._ts&&!S){N=0,x&&(d+=this._zTime=-Zn);break}}m=x}else{m=this._last;for(var se=i<0?i:y;m;){if(x=m._prev,(m._act||se<=m._end)&&m._ts&&N!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(se-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(se-m._start)*m._ts,s,o||as&&(m._initted||m._startAt)),y!==this._time||!this._ts&&!S){N=0,x&&(d+=this._zTime=se?-Zn:Zn);break}}m=x}}if(N&&!s&&(this.pause(),N.render(y>=a?0:-Zn)._zTime=y>=a?1:-1,this._ts))return this._start=R,R_(this),this.render(i,s,o);this._onUpdate&&!s&&ca(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&a)&&(R===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Cd(this,1),!s&&!(i<0&&!a)&&(d||a||!c)&&(ca(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(th(s)||(s=Fa(this,s,i)),!(i instanceof Y1)){if(Fs(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Gi(i))return this.addLabel(i,s);if(Wr(i))i=pi.delayedCall(0,i);else return this}return this!==i?Pc(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Va);for(var c=[],h=this._first;h;)h._start>=a&&(h instanceof pi?s&&c.push(h):(o&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,s,o)))),h=h._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Gi(i)?this.removeLabel(i):Wr(i)?this.killTweensOf(i):(i.parent===this&&L_(this,i),i===this._recent&&(this._recent=this._last),Cp(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mi(la.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Fa(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=pi.delayedCall(0,s||V1,o);return a.data="isPause",this._hasPause=1,Pc(this,a,Fa(this,i))},t.removePause=function(i){var s=this._first;for(i=Fa(this,i);s;)s._start===i&&s.data==="isPause"&&Cd(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),c=a.length;c--;)bd!==a[c]&&a[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Wa(i),c=this._first,h=th(s),d;c;)c instanceof pi?$F(c._targets,a)&&(h?(!bd||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(d=c.getTweensOf(a,s)).length&&o.push.apply(o,d),c=c._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Fa(o,i),c=s,h=c.startAt,d=c.onStart,p=c.onStartParams,y=c.immediateRender,m,x=pi.to(o,ga({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale())||Zn,onStart:function(){if(o.pause(),!m){var A=s.duration||Math.abs((a-(h&&"time"in h?h.time:o._time))/o.timeScale());x._dur!==A&&p0(x,A,0,1).render(x._time,!0,!0),m=1}d&&d.apply(x,p||[])}},s));return y?x.render(0):x},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,ga({startAt:{time:Fa(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),YC(this,Fa(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),YC(this,Fa(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Zn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,c=this.labels,h;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(h in c)c[h]>=o&&(c[h]+=i);return Cp(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Cp(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,c=Va,h,d,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)h=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,Pc(o,a,d-a._delay,1)._lock=0):c=d,d<0&&a._ts&&(s-=d,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=h;p0(o,o===Rr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Rr._ts&&(wP(Rr,Wb(i,Rr)),bP=la.frame),la.frame>=HC){HC+=da.autoSleep||120;var s=Rr._first;if((!s||!s._ts)&&da.autoSleep&&la._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||la.sleep()}}},e}(Y1);ga(eo.prototype,{_lock:0,_hasPause:0,_forcing:0});var dD=function(e,t,n,i,s,o,a){var c=new No(this._pt,e,t,0,1,XP,null,s),h=0,d=0,p,y,m,x,_,A,S,N;for(c.b=n,c.e=i,n+="",i+="",(S=~i.indexOf("random("))&&(i=W1(i)),o&&(N=[n,i],o(N,e,t),n=N[0],i=N[1]),y=n.match(Zw)||[];p=Zw.exec(i);)x=p[0],_=i.substring(h,p.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),x!==y[d++]&&(A=parseFloat(y[d-1])||0,c._pt={_next:c._pt,p:_||d===1?_:",",s:A,c:x.charAt(1)==="="?eg(A,x)-A:parseFloat(x)-A,m:m&&m<4?Math.round:0},h=Zw.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=a,(pP.test(i)||S)&&(c.e=0),this._pt=c,c},MA=function(e,t,n,i,s,o,a,c,h,d){Wr(i)&&(i=i(s||0,e,o));var p=e[t],y=n!=="get"?n:Wr(p)?h?e[t.indexOf("set")||!Wr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():p,m=Wr(p)?h?yD:GP:FA,x;if(Gi(i)&&(~i.indexOf("random(")&&(i=W1(i)),i.charAt(1)==="="&&(x=eg(y,i)+(Rs(y)||0),(x||x===0)&&(i=x))),!d||y!==i||o5)return!isNaN(y*i)&&i!==""?(x=new No(this._pt,e,t,+y||0,i-(y||0),typeof p=="boolean"?bD:YP,0,m),h&&(x.fp=h),a&&x.modifier(a,this,e),this._pt=x):(!p&&!(t in e)&&PA(t,i),dD.call(this,e,t,y,i,m,c||da.stringFilter,h))},fD=function(e,t,n,i,s){if(Wr(e)&&(e=I1(e,s,t,n,i)),!Fc(e)||e.style&&e.nodeType||Fs(e)||dP(e))return Gi(e)?I1(e,s,t,n,i):e;var o={},a;for(a in e)o[a]=I1(e[a],s,t,n,i);return o},HP=function(e,t,n,i,s,o){var a,c,h,d;if(oa[e]&&(a=new oa[e]).init(s,a.rawVars?t[e]:fD(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=c=new No(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==Xm))for(h=n._ptLookup[n._targets.indexOf(s)],d=a._props.length;d--;)h[a._props[d]]=c;return a},bd,o5,OA=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,c=i.lazy,h=i.onUpdate,d=i.runBackwards,p=i.yoyoEase,y=i.keyframes,m=i.autoRevert,x=e._dur,_=e._startAt,A=e._targets,S=e.parent,N=S&&S.data==="nested"?S.vars.targets:A,I=e._overwrite==="auto"&&!CA,R=e.timeline,O,U,B,j,D,se,F,H,ne,ee,me,ge,de;if(R&&(!y||!s)&&(s="none"),e._ease=Ep(s,h0.ease),e._yEase=p?UP(Ep(p===!0?s:p,h0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!R&&!!i.runBackwards,!R||y&&!i.stagger){if(H=A[0]?kp(A[0]).harness:0,ge=H&&i[H.prop],O=Vb(i,LA),_&&(_._zTime<0&&_.progress(1),t<0&&d&&a&&!m?_.render(-1,!0):_.revert(d&&x?Bv:zF),_._lazy=0),o){if(Cd(e._startAt=pi.set(A,ga({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!_&&Eo(c),startAt:null,delay:0,onUpdate:h&&function(){return ca(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(as||!a&&!m)&&e._startAt.revert(Bv),a&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(d&&x&&!_){if(t&&(a=!1),B=ga({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Eo(c),immediateRender:a,stagger:0,parent:S},O),ge&&(B[H.prop]=ge),Cd(e._startAt=pi.set(A,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(as?e._startAt.revert(Bv):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,Zn,Zn);else if(!t)return}for(e._pt=e._ptCache=0,c=x&&Eo(c)||c&&!x,U=0;U<A.length;U++){if(D=A[U],F=D._gsap||IA(A)[U]._gsap,e._ptLookup[U]=ee={},e5[F.id]&&Sd.length&&Hb(),me=N===A?U:N.indexOf(D),H&&(ne=new H).init(D,ge||O,e,me,N)!==!1&&(e._pt=j=new No(e._pt,D,ne.name,0,1,ne.render,ne,0,ne.priority),ne._props.forEach(function(ie){ee[ie]=j}),ne.priority&&(se=1)),!H||ge)for(B in O)oa[B]&&(ne=HP(B,O,e,me,D,N))?ne.priority&&(se=1):ee[B]=j=MA.call(e,D,B,"get",O[B],me,N,0,i.stringFilter);e._op&&e._op[U]&&e.kill(D,e._op[U]),I&&e._pt&&(bd=e,Rr.killTweensOf(D,ee,e.globalTime(t)),de=!e.parent,bd=0),e._pt&&c&&(e5[F.id]=1)}se&&KP(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!de,y&&t<=0&&R.render(Va,!0,!0)},pD=function(e,t,n,i,s,o,a,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,p,y,m;if(!h)for(h=e._ptCache[t]=[],y=e._ptLookup,m=e._targets.length;m--;){if(d=y[m][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return o5=1,e.vars[t]="+=0",OA(e,a),o5=0,c?H1(t+" not eligible for reset"):1;h.push(d)}for(m=h.length;m--;)p=h[m],d=p._pt||p,d.s=(i||i===0)&&!s?i:d.s+(i||0)+o*d.c,d.c=n-d.s,p.e&&(p.e=ei(n)+Rs(p.e)),p.b&&(p.b=d.s+Rs(p.b))},mD=function(e,t){var n=e[0]?kp(e[0]).harness:0,i=n&&n.aliases,s,o,a,c;if(!i)return t;s=d0({},t);for(o in i)if(o in s)for(c=i[o].split(","),a=c.length;a--;)s[c[a]]=s[o];return s},gD=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,a;if(Fs(t))a=n[e]||(n[e]=[]),t.forEach(function(c,h){return a.push({t:h/(t.length-1)*100,v:c,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},I1=function(e,t,n,i,s){return Wr(e)?e.call(t,n,i,s):Gi(e)&&~e.indexOf("random(")?W1(e):e},VP=RA+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",WP={};To(VP+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return WP[r]=1});var pi=function(r){uP(e,r);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=r.call(this,o?i:L1(i))||this;var c=a.vars,h=c.duration,d=c.delay,p=c.immediateRender,y=c.stagger,m=c.overwrite,x=c.keyframes,_=c.defaults,A=c.scrollTrigger,S=c.yoyoEase,N=i.parent||Rr,I=(Fs(n)||dP(n)?th(n[0]):"length"in i)?[n]:Wa(n),R,O,U,B,j,D,se,F;if(a._targets=I.length?IA(I):H1("GSAP target "+n+" not found. https://gsap.com",!da.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,x||y||yv(h)||yv(d)){if(i=a.vars,R=a.timeline=new eo({data:"nested",defaults:_||{},targets:N&&N.data==="nested"?N.vars.targets:I}),R.kill(),R.parent=R._dp=bu(a),R._start=0,y||yv(h)||yv(d)){if(B=I.length,se=y&&PP(y),Fc(y))for(j in y)~VP.indexOf(j)&&(F||(F={}),F[j]=y[j]);for(O=0;O<B;O++)U=Vb(i,WP),U.stagger=0,S&&(U.yoyoEase=S),F&&d0(U,F),D=I[O],U.duration=+I1(h,bu(a),O,D,I),U.delay=(+I1(d,bu(a),O,D,I)||0)-a._delay,!y&&B===1&&U.delay&&(a._delay=d=U.delay,a._start+=d,U.delay=0),R.to(D,U,se?se(O,D,I):0),R._ease=mn.none;R.duration()?h=d=0:a.timeline=0}else if(x){L1(ga(R.vars.defaults,{ease:"none"})),R._ease=Ep(x.ease||i.ease||"none");var H=0,ne,ee,me;if(Fs(x))x.forEach(function(ge){return R.to(I,ge,">")}),R.duration();else{U={};for(j in x)j==="ease"||j==="easeEach"||gD(j,x[j],U,x.easeEach);for(j in U)for(ne=U[j].sort(function(ge,de){return ge.t-de.t}),H=0,O=0;O<ne.length;O++)ee=ne[O],me={ease:ee.e,duration:(ee.t-(O?ne[O-1].t:0))/100*h},me[j]=ee.v,R.to(I,me,H),H+=me.duration;R.duration()<h&&R.to({},{duration:h-R.duration()})}}h||a.duration(h=R.duration())}else a.timeline=0;return m===!0&&!CA&&(bd=bu(a),Rr.killTweensOf(I),bd=0),Pc(N,bu(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!h&&!x&&a._start===mi(N._time)&&Eo(p)&&GF(bu(a))&&N.data!=="nested")&&(a._tTime=-Zn,a.render(Math.max(0,-d)||0)),A&&CP(bu(a),A),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,c=this._tDur,h=this._dur,d=i<0,p=i>c-Zn&&!d?c:i<Zn?0:i,y,m,x,_,A,S,N,I,R;if(!h)XF(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(y=p,I=this.timeline,this._repeat){if(_=h+this._rDelay,this._repeat<-1&&d)return this.totalTime(_*100+i,s,o);if(y=mi(p%_),p===c?(x=this._repeat,y=h):(A=mi(p/_),x=~~A,x&&x===A?(y=h,x--):y>h&&(y=h)),S=this._yoyo&&x&1,S&&(R=this._yEase,y=h-y),A=f0(this._tTime,_),y===a&&!o&&this._initted&&x===A)return this._tTime=p,this;x!==A&&(I&&this._yEase&&zP(I,S),this.vars.repeatRefresh&&!S&&!this._lock&&y!==_&&this._initted&&(this._lock=o=1,this.render(mi(_*x),!0).invalidate()._lock=0))}if(!this._initted){if(EP(this,d?i:y,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&x!==A))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(R||this._ease)(y/h),this._from&&(this.ratio=N=1-N),y&&!a&&!s&&!x&&(ca(this,"onStart"),this._tTime!==p))return this;for(m=this._pt;m;)m.r(N,m.d),m=m._next;I&&I.render(i<0?i:I._dur*I._ease(y/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(d&&t5(this,i,s,o),ca(this,"onUpdate")),this._repeat&&x!==A&&this.vars.onRepeat&&!s&&this.parent&&ca(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&t5(this,i,!0,!0),(i||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Cd(this,1),!s&&!(d&&!a)&&(p||a||S)&&(ca(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,c){G1||la.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||OA(this,h),d=this._ease(h/this._dur),pD(this,i,s,o,a,d,h,c)?this.resetTo(i,s,o,a,1):(I_(this,0),this.parent||AP(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?d1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!as),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,bd&&bd.vars.overwrite!==!0)._first||d1(this),this.parent&&o!==this.timeline.totalDuration()&&p0(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,c=i?Wa(i):a,h=this._ptLookup,d=this._pt,p,y,m,x,_,A,S;if((!s||s==="all")&&VF(a,c))return s==="all"&&(this._pt=0),d1(this);for(p=this._op=this._op||[],s!=="all"&&(Gi(s)&&(_={},To(s,function(N){return _[N]=1}),s=_),s=mD(a,s)),S=a.length;S--;)if(~c.indexOf(a[S])){y=h[S],s==="all"?(p[S]=s,x=y,m={}):(m=p[S]=p[S]||{},x=s);for(_ in x)A=y&&y[_],A&&((!("kill"in A.d)||A.d.kill(_)===!0)&&L_(this,A,"_pt"),delete y[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&d&&d1(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return R1(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return R1(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Rr.killTweensOf(i,s,o)},e}(Y1);ga(pi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});To("staggerTo,staggerFrom,staggerFromTo",function(r){pi[r]=function(){var e=new eo,t=r5.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var FA=function(e,t,n){return e[t]=n},GP=function(e,t,n){return e[t](n)},yD=function(e,t,n,i){return e[t](i.fp,n)},vD=function(e,t,n){return e.setAttribute(t,n)},DA=function(e,t){return Wr(e[t])?GP:EA(e[t])&&e.setAttribute?vD:FA},YP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},bD=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},XP=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},jA=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},_D=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},wD=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?L_(this,t,"_pt"):t.dep||(n=1),t=i;return!n},xD=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},KP=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},No=function(){function r(t,n,i,s,o,a,c,h,d){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||YP,this.d=c||this,this.set=h||FA,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=xD,this.m=n,this.mt=s,this.tween=i},r}();To(RA+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return LA[r]=1});ma.TweenMax=ma.TweenLite=pi;ma.TimelineLite=ma.TimelineMax=eo;Rr=new eo({sortChildren:!1,defaults:h0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});da.stringFilter=BP;var Tp=[],zv={},SD=[],KC=0,AD=0,ix=function(e){return(zv[e]||SD).map(function(t){return t()})},a5=function(){var e=Date.now(),t=[];e-KC>2&&(ix("matchMediaInit"),Tp.forEach(function(n){var i=n.queries,s=n.conditions,o,a,c,h;for(a in i)o=hc.matchMedia(i[a]).matches,o&&(c=1),o!==s[a]&&(s[a]=o,h=1);h&&(n.revert(),c&&t.push(n))}),ix("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),KC=e,ix("matchMedia"))},JP=function(){function r(t,n){this.selector=n&&i5(n),this.data=[],this._r=[],this.isReverted=!1,this.id=AD++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){Wr(n)&&(s=i,i=n,n=Wr);var o=this,a=function(){var h=yr,d=o.selector,p;return h&&h!==o&&h.data.push(o),s&&(o.selector=i5(s)),yr=o,p=i.apply(o,arguments),Wr(p)&&o._r.push(p),yr=h,o.selector=d,o.isReverted=!1,p};return o.last=a,n===Wr?a(o,function(c){return o.add(null,c)}):n?o[n]=a:a},e.ignore=function(n){var i=yr;yr=null,n(this),yr=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof pi&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=s.data.length;c--;)h=s.data[c],h instanceof eo?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof pi)&&h.revert&&h.revert(n);s._r.forEach(function(d){return d(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Tp.length;o--;)Tp[o].id===this.id&&Tp.splice(o,1)},e.revert=function(n){this.kill(n||{})},r}(),kD=function(){function r(t){this.contexts=[],this.scope=t,yr&&yr.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){Fc(n)||(n={matches:n});var o=new JP(0,s||this.scope),a=o.conditions={},c,h,d;yr&&!o.selector&&(o.selector=yr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(h in n)h==="all"?d=1:(c=hc.matchMedia(n[h]),c&&(Tp.indexOf(o)<0&&Tp.push(o),(a[h]=c.matches)&&(d=1),c.addListener?c.addListener(a5):c.addEventListener("change",a5)));return d&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),Gb={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return FP(i)})},timeline:function(e){return new eo(e)},getTweensOf:function(e,t){return Rr.getTweensOf(e,t)},getProperty:function(e,t,n,i){Gi(e)&&(e=Wa(e)[0]);var s=kp(e||{}).get,o=n?SP:xP;return n==="native"&&(n=""),e&&(t?o((oa[t]&&oa[t].get||s)(e,t,n,i)):function(a,c,h){return o((oa[a]&&oa[a].get||s)(e,a,c,h))})},quickSetter:function(e,t,n){if(e=Wa(e),e.length>1){var i=e.map(function(d){return Ro.quickSetter(d,t,n)}),s=i.length;return function(d){for(var p=s;p--;)i[p](d)}}e=e[0]||{};var o=oa[t],a=kp(e),c=a.harness&&(a.harness.aliases||{})[t]||t,h=o?function(d){var p=new o;Xm._pt=0,p.init(e,n?d+n:d,Xm,0,[e]),p.render(1,p),Xm._pt&&jA(1,Xm)}:a.set(e,c);return o?h:function(d){return h(e,c,n?d+n:d,a,1)}},quickTo:function(e,t,n){var i,s=Ro.to(e,ga((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(c,h,d){return s.resetTo(t,c,h,d)};return o.tween=s,o},isTweening:function(e){return Rr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ep(e.ease,h0.ease)),VC(h0,e||{})},config:function(e){return VC(da,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!oa[a]&&!ma[a]&&H1(t+" effect requires "+a+" plugin.")}),ex[t]=function(a,c,h){return n(Wa(a),ga(c||{},s),h)},o&&(eo.prototype[t]=function(a,c,h){return this.add(ex[t](a,Fc(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){mn[e]=Ep(t)},parseEase:function(e,t){return arguments.length?Ep(e,t):mn},getById:function(e){return Rr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new eo(e),i,s;for(n.smoothChildTiming=Eo(e.smoothChildTiming),Rr.remove(n),n._dp=0,n._time=n._tTime=Rr._time,i=Rr._first;i;)s=i._next,(t||!(!i._dur&&i instanceof pi&&i.vars.onComplete===i._targets[0]))&&Pc(n,i,i._start-i._delay),i=s;return Pc(Rr,n,0),n},context:function(e,t){return e?new JP(e,t):yr},matchMedia:function(e){return new kD(e)},matchMediaRefresh:function(){return Tp.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||a5()},addEventListener:function(e,t){var n=zv[e]||(zv[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=zv[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:rD,wrapYoyo:iD,distribute:PP,random:RP,snap:LP,normalize:nD,getUnit:Rs,clamp:QF,splitColor:DP,toArray:Wa,selector:i5,mapRange:MP,pipe:eD,unitize:tD,interpolate:sD,shuffle:NP},install:yP,effects:ex,ticker:la,updateRoot:eo.updateRoot,plugins:oa,globalTimeline:Rr,core:{PropTween:No,globals:vP,Tween:pi,Timeline:eo,Animation:Y1,getCache:kp,_removeLinkedListItem:L_,reverting:function(){return as},context:function(e){return e&&yr&&(yr.data.push(e),e._ctx=yr),yr},suppressOverwrites:function(e){return CA=e}}};To("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Gb[r]=pi[r]});la.add(eo.updateRoot);Xm=Gb.to({},{duration:0});var CD=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},ED=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=CD(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},sx=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var c,h;if(Gi(s)&&(c={},To(s,function(d){return c[d]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}ED(a,s)}}}},Ro=Gb.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,a,c;this.tween=n;for(o in t)c=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(c||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=c,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)as?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},sx("roundProps",s5),sx("modifiers"),sx("snap",LP))||Gb;pi.version=eo.version=Ro.version="3.12.7";gP=1;TA()&&m0();mn.Power0;mn.Power1;mn.Power2;mn.Power3;mn.Power4;mn.Linear;mn.Quad;mn.Cubic;mn.Quart;mn.Quint;mn.Strong;mn.Elastic;mn.Back;mn.SteppedEase;mn.Bounce;mn.Sine;mn.Expo;mn.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var JC,_d,tg,BA,kf,QC,UA,TD=function(){return typeof window<"u"},nh={},pf=180/Math.PI,ng=Math.PI/180,Mm=Math.atan2,ZC=1e8,zA=/([A-Z])/g,ND=/(left|right|width|margin|padding|x)/i,PD=/[\s,\(]\S/,Lc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},l5=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},LD=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},RD=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},ID=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},QP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},ZP=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},MD=function(e,t,n){return e.style[t]=n},OD=function(e,t,n){return e.style.setProperty(t,n)},FD=function(e,t,n){return e._gsap[t]=n},DD=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},jD=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},BD=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Ir="transform",Po=Ir+"Origin",UD=function r(e,t){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in nh&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Lc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=xu(i,a)}):this.tfm[e]=o.x?o[e]:xu(i,e),e===Po&&(this.tfm.zOrigin=o.zOrigin);else return Lc.transform.split(",").forEach(function(a){return r.call(n,a,t)});if(this.props.indexOf(Ir)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Po,t,"")),e=Ir}(s||t)&&this.props.push(e,t,s[e])},eL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},zD=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(zA,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=UA(),(!s||!s.isStart)&&!n[Ir]&&(eL(n),i.zOrigin&&n[Po]&&(n[Po]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},tL=function(e,t){var n={target:e,props:[],revert:zD,save:UD};return e._gsap||Ro.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},nL,c5=function(e,t){var n=_d.createElementNS?_d.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_d.createElement(e);return n&&n.style?n:_d.createElement(e)},Mc=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(zA,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,g0(t)||t,1)||""},eE="O,Moz,ms,Ms,Webkit".split(","),g0=function(e,t,n){var i=t||kf,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(eE[o]+e in s););return o<0?null:(o===3?"ms":o>=0?eE[o]:"")+e},u5=function(){TD()&&window.document&&(JC=window,_d=JC.document,tg=_d.documentElement,kf=c5("div")||{style:{}},c5("div"),Ir=g0(Ir),Po=Ir+"Origin",kf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",nL=!!g0("perspective"),UA=Ro.core.reverting,BA=1)},tE=function(e){var t=e.ownerSVGElement,n=c5("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),tg.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),tg.removeChild(n),s},nE=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},rL=function(e){var t,n;try{t=e.getBBox()}catch{t=tE(e),n=1}return t&&(t.width||t.height)||n||(t=tE(e)),t&&!t.width&&!t.x&&!t.y?{x:+nE(e,["x","cx","x1"])||0,y:+nE(e,["y","cy","y1"])||0,width:0,height:0}:t},iL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&rL(e))},Rp=function(e,t){if(t){var n=e.style,i;t in nh&&t!==Po&&(t=Ir),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(zA,"-$1").toLowerCase())):n.removeAttribute(t)}},wd=function(e,t,n,i,s,o){var a=new No(e._pt,t,n,0,1,o?ZP:QP);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},rE={deg:1,rad:1,turn:1},qD={grid:1,flex:1},Ed=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=kf.style,c=ND.test(t),h=e.tagName.toLowerCase()==="svg",d=(h?"client":"offset")+(c?"Width":"Height"),p=100,y=i==="px",m=i==="%",x,_,A,S;if(i===o||!s||rE[i]||rE[o])return s;if(o!=="px"&&!y&&(s=r(e,t,n,"px")),S=e.getCTM&&iL(e),(m||o==="%")&&(nh[t]||~t.indexOf("adius")))return x=S?e.getBBox()[c?"width":"height"]:e[d],ei(m?s/x*p:s/100*x);if(a[c?"width":"height"]=p+(y?o:i),_=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,S&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===_d||!_.appendChild)&&(_=_d.body),A=_._gsap,A&&m&&A.width&&c&&A.time===la.time&&!A.uncache)return ei(s/A.width*p);if(m&&(t==="height"||t==="width")){var N=e.style[t];e.style[t]=p+i,x=e[d],N?e.style[t]=N:Rp(e,t)}else(m||o==="%")&&!qD[Mc(_,"display")]&&(a.position=Mc(e,"position")),_===e&&(a.position="static"),_.appendChild(kf),x=kf[d],_.removeChild(kf),a.position="absolute";return c&&m&&(A=kp(_),A.time=la.time,A.width=_[d]),ei(y?x*s/p:x&&s?p/x*s:0)},xu=function(e,t,n,i){var s;return BA||u5(),t in Lc&&t!=="transform"&&(t=Lc[t],~t.indexOf(",")&&(t=t.split(",")[0])),nh[t]&&t!=="transform"?(s=K1(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Xb(Mc(e,Po))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Yb[t]&&Yb[t](e,t,n)||Mc(e,t)||_P(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Ed(e,t,s,n)+n:s},$D=function(e,t,n,i){if(!n||n==="none"){var s=g0(t,e,1),o=s&&Mc(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=Mc(e,"borderTopColor"))}var a=new No(this._pt,e.style,t,0,1,XP),c=0,h=0,d,p,y,m,x,_,A,S,N,I,R,O;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(_=e.style[t],e.style[t]=i,i=Mc(e,t)||i,_?e.style[t]=_:Rp(e,t)),d=[n,i],BP(d),n=d[0],i=d[1],y=n.match(Ym)||[],O=i.match(Ym)||[],O.length){for(;p=Ym.exec(i);)A=p[0],N=i.substring(c,p.index),x?x=(x+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(x=1),A!==(_=y[h++]||"")&&(m=parseFloat(_)||0,R=_.substr((m+"").length),A.charAt(1)==="="&&(A=eg(m,A)+R),S=parseFloat(A),I=A.substr((S+"").length),c=Ym.lastIndex-I.length,I||(I=I||da.units[t]||R,c===i.length&&(i+=I,a.e+=I)),R!==I&&(m=Ed(e,t,_,I)||0),a._pt={_next:a._pt,p:N||h===1?N:",",s:m,c:S-m,m:x&&x<4||t==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=t==="display"&&i==="none"?ZP:QP;return pP.test(i)&&(a.e=0),this._pt=a,a},iE={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},HD=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=iE[n]||n,t[1]=iE[i]||i,t.join(" ")},VD=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,a,c,h;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)a=s[h],nh[a]&&(c=1,a=a==="transformOrigin"?Po:Ir),Rp(n,a);c&&(Rp(n,Ir),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",K1(n,1),o.uncache=1,eL(i)))}},Yb={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new No(e._pt,t,n,0,0,VD);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},X1=[1,0,0,1,0,0],sL={},oL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},sE=function(e){var t=Mc(e,Ir);return oL(t)?X1:t.substr(7).match(fP).map(ei)},qA=function(e,t){var n=e._gsap||kp(e),i=e.style,s=sE(e),o,a,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?X1:s):(s===X1&&!e.offsetParent&&e!==tg&&!n.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,a=e.nextElementSibling,tg.appendChild(e)),s=sE(e),c?i.display=c:Rp(e,"display"),h&&(a?o.insertBefore(e,a):o?o.appendChild(e):tg.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},h5=function(e,t,n,i,s,o){var a=e._gsap,c=s||qA(e,!0),h=a.xOrigin||0,d=a.yOrigin||0,p=a.xOffset||0,y=a.yOffset||0,m=c[0],x=c[1],_=c[2],A=c[3],S=c[4],N=c[5],I=t.split(" "),R=parseFloat(I[0])||0,O=parseFloat(I[1])||0,U,B,j,D;n?c!==X1&&(B=m*A-x*_)&&(j=R*(A/B)+O*(-_/B)+(_*N-A*S)/B,D=R*(-x/B)+O*(m/B)-(m*N-x*S)/B,R=j,O=D):(U=rL(e),R=U.x+(~I[0].indexOf("%")?R/100*U.width:R),O=U.y+(~(I[1]||I[0]).indexOf("%")?O/100*U.height:O)),i||i!==!1&&a.smooth?(S=R-h,N=O-d,a.xOffset=p+(S*m+N*_)-S,a.yOffset=y+(S*x+N*A)-N):a.xOffset=a.yOffset=0,a.xOrigin=R,a.yOrigin=O,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[Po]="0px 0px",o&&(wd(o,a,"xOrigin",h,R),wd(o,a,"yOrigin",d,O),wd(o,a,"xOffset",p,a.xOffset),wd(o,a,"yOffset",y,a.yOffset)),e.setAttribute("data-svg-origin",R+" "+O)},K1=function(e,t){var n=e._gsap||new $P(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",c=getComputedStyle(e),h=Mc(e,Po)||"0",d,p,y,m,x,_,A,S,N,I,R,O,U,B,j,D,se,F,H,ne,ee,me,ge,de,ie,ye,be,Z,M,J,re,ue;return d=p=y=_=A=S=N=I=R=0,m=x=1,n.svg=!!(e.getCTM&&iL(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Ir]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Ir]!=="none"?c[Ir]:"")),i.scale=i.rotate=i.translate="none"),B=qA(e,n.svg),n.svg&&(n.uncache?(ie=e.getBBox(),h=n.xOrigin-ie.x+"px "+(n.yOrigin-ie.y)+"px",de=""):de=!t&&e.getAttribute("data-svg-origin"),h5(e,de||h,!!de||n.originIsAbsolute,n.smooth!==!1,B)),O=n.xOrigin||0,U=n.yOrigin||0,B!==X1&&(F=B[0],H=B[1],ne=B[2],ee=B[3],d=me=B[4],p=ge=B[5],B.length===6?(m=Math.sqrt(F*F+H*H),x=Math.sqrt(ee*ee+ne*ne),_=F||H?Mm(H,F)*pf:0,N=ne||ee?Mm(ne,ee)*pf+_:0,N&&(x*=Math.abs(Math.cos(N*ng))),n.svg&&(d-=O-(O*F+U*ne),p-=U-(O*H+U*ee))):(ue=B[6],J=B[7],be=B[8],Z=B[9],M=B[10],re=B[11],d=B[12],p=B[13],y=B[14],j=Mm(ue,M),A=j*pf,j&&(D=Math.cos(-j),se=Math.sin(-j),de=me*D+be*se,ie=ge*D+Z*se,ye=ue*D+M*se,be=me*-se+be*D,Z=ge*-se+Z*D,M=ue*-se+M*D,re=J*-se+re*D,me=de,ge=ie,ue=ye),j=Mm(-ne,M),S=j*pf,j&&(D=Math.cos(-j),se=Math.sin(-j),de=F*D-be*se,ie=H*D-Z*se,ye=ne*D-M*se,re=ee*se+re*D,F=de,H=ie,ne=ye),j=Mm(H,F),_=j*pf,j&&(D=Math.cos(j),se=Math.sin(j),de=F*D+H*se,ie=me*D+ge*se,H=H*D-F*se,ge=ge*D-me*se,F=de,me=ie),A&&Math.abs(A)+Math.abs(_)>359.9&&(A=_=0,S=180-S),m=ei(Math.sqrt(F*F+H*H+ne*ne)),x=ei(Math.sqrt(ge*ge+ue*ue)),j=Mm(me,ge),N=Math.abs(j)>2e-4?j*pf:0,R=re?1/(re<0?-re:re):0),n.svg&&(de=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!oL(Mc(e,Ir)),de&&e.setAttribute("transform",de))),Math.abs(N)>90&&Math.abs(N)<270&&(s?(m*=-1,N+=_<=0?180:-180,_+=_<=0?180:-180):(x*=-1,N+=N<=0?180:-180)),t=t||n.uncache,n.x=d-((n.xPercent=d&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=y+o,n.scaleX=ei(m),n.scaleY=ei(x),n.rotation=ei(_)+a,n.rotationX=ei(A)+a,n.rotationY=ei(S)+a,n.skewX=N+a,n.skewY=I+a,n.transformPerspective=R+o,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(i[Po]=Xb(h)),n.xOffset=n.yOffset=0,n.force3D=da.force3D,n.renderTransform=n.svg?GD:nL?aL:WD,n.uncache=0,n},Xb=function(e){return(e=e.split(" "))[0]+" "+e[1]},ox=function(e,t,n){var i=Rs(t);return ei(parseFloat(t)+parseFloat(Ed(e,"x",n+"px",i)))+i},WD=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,aL(e,t)},hf="0deg",r1="0px",df=") ",aL=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.z,h=n.rotation,d=n.rotationY,p=n.rotationX,y=n.skewX,m=n.skewY,x=n.scaleX,_=n.scaleY,A=n.transformPerspective,S=n.force3D,N=n.target,I=n.zOrigin,R="",O=S==="auto"&&e&&e!==1||S===!0;if(I&&(p!==hf||d!==hf)){var U=parseFloat(d)*ng,B=Math.sin(U),j=Math.cos(U),D;U=parseFloat(p)*ng,D=Math.cos(U),o=ox(N,o,B*D*-I),a=ox(N,a,-Math.sin(U)*-I),c=ox(N,c,j*D*-I+I)}A!==r1&&(R+="perspective("+A+df),(i||s)&&(R+="translate("+i+"%, "+s+"%) "),(O||o!==r1||a!==r1||c!==r1)&&(R+=c!==r1||O?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+df),h!==hf&&(R+="rotate("+h+df),d!==hf&&(R+="rotateY("+d+df),p!==hf&&(R+="rotateX("+p+df),(y!==hf||m!==hf)&&(R+="skew("+y+", "+m+df),(x!==1||_!==1)&&(R+="scale("+x+", "+_+df),N.style[Ir]=R||"translate(0, 0)"},GD=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,c=n.rotation,h=n.skewX,d=n.skewY,p=n.scaleX,y=n.scaleY,m=n.target,x=n.xOrigin,_=n.yOrigin,A=n.xOffset,S=n.yOffset,N=n.forceCSS,I=parseFloat(o),R=parseFloat(a),O,U,B,j,D;c=parseFloat(c),h=parseFloat(h),d=parseFloat(d),d&&(d=parseFloat(d),h+=d,c+=d),c||h?(c*=ng,h*=ng,O=Math.cos(c)*p,U=Math.sin(c)*p,B=Math.sin(c-h)*-y,j=Math.cos(c-h)*y,h&&(d*=ng,D=Math.tan(h-d),D=Math.sqrt(1+D*D),B*=D,j*=D,d&&(D=Math.tan(d),D=Math.sqrt(1+D*D),O*=D,U*=D)),O=ei(O),U=ei(U),B=ei(B),j=ei(j)):(O=p,j=y,U=B=0),(I&&!~(o+"").indexOf("px")||R&&!~(a+"").indexOf("px"))&&(I=Ed(m,"x",o,"px"),R=Ed(m,"y",a,"px")),(x||_||A||S)&&(I=ei(I+x-(x*O+_*B)+A),R=ei(R+_-(x*U+_*j)+S)),(i||s)&&(D=m.getBBox(),I=ei(I+i/100*D.width),R=ei(R+s/100*D.height)),D="matrix("+O+","+U+","+B+","+j+","+I+","+R+")",m.setAttribute("transform",D),N&&(m.style[Ir]=D)},YD=function(e,t,n,i,s){var o=360,a=Gi(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?pf:1),h=c-i,d=i+h+"deg",p,y;return a&&(p=s.split("_")[1],p==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),p==="cw"&&h<0?h=(h+o*ZC)%o-~~(h/o)*o:p==="ccw"&&h>0&&(h=(h-o*ZC)%o-~~(h/o)*o)),e._pt=y=new No(e._pt,t,n,i,h,LD),y.e=d,y.u="deg",e._props.push(n),y},oE=function(e,t){for(var n in t)e[n]=t[n];return e},XD=function(e,t,n){var i=oE({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,c,h,d,p,y,m,x;i.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),o[Ir]=t,a=K1(n,1),Rp(n,Ir),n.setAttribute("transform",h)):(h=getComputedStyle(n)[Ir],o[Ir]=t,a=K1(n,1),o[Ir]=h);for(c in nh)h=i[c],d=a[c],h!==d&&s.indexOf(c)<0&&(m=Rs(h),x=Rs(d),p=m!==x?Ed(n,c,h,x):parseFloat(h),y=parseFloat(d),e._pt=new No(e._pt,a,c,p,y-p,l5),e._pt.u=x||0,e._props.push(c));oE(a,i)};To("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(a){return e<2?r+a:"border"+a+r});Yb[e>1?"border"+r:r]=function(a,c,h,d,p){var y,m;if(arguments.length<4)return y=o.map(function(x){return xu(a,x,h)}),m=y.join(" "),m.split(y[0]).length===5?y[0]:m;y=(d+"").split(" "),m={},o.forEach(function(x,_){return m[x]=y[_]=y[_]||y[(_-1)/2|0]}),a.init(c,m,p)}});var lL={name:"css",register:u5,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,a=e.style,c=n.vars.startAt,h,d,p,y,m,x,_,A,S,N,I,R,O,U,B,j;BA||u5(),this.styles=this.styles||tL(e),j=this.styles.props,this.tween=n;for(_ in t)if(_!=="autoRound"&&(d=t[_],!(oa[_]&&HP(_,t,n,i,e,s)))){if(m=typeof d,x=Yb[_],m==="function"&&(d=d.call(n,i,e,s),m=typeof d),m==="string"&&~d.indexOf("random(")&&(d=W1(d)),x)x(this,e,_,d,n)&&(B=1);else if(_.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(_)+"").trim(),d+="",Ad.lastIndex=0,Ad.test(h)||(A=Rs(h),S=Rs(d)),S?A!==S&&(h=Ed(e,_,h,S)+S):A&&(d+=A),this.add(a,"setProperty",h,d,i,s,0,0,_),o.push(_),j.push(_,0,a[_]);else if(m!=="undefined"){if(c&&_ in c?(h=typeof c[_]=="function"?c[_].call(n,i,e,s):c[_],Gi(h)&&~h.indexOf("random(")&&(h=W1(h)),Rs(h+"")||h==="auto"||(h+=da.units[_]||Rs(xu(e,_))||""),(h+"").charAt(1)==="="&&(h=xu(e,_))):h=xu(e,_),y=parseFloat(h),N=m==="string"&&d.charAt(1)==="="&&d.substr(0,2),N&&(d=d.substr(2)),p=parseFloat(d),_ in Lc&&(_==="autoAlpha"&&(y===1&&xu(e,"visibility")==="hidden"&&p&&(y=0),j.push("visibility",0,a.visibility),wd(this,a,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),_!=="scale"&&_!=="transform"&&(_=Lc[_],~_.indexOf(",")&&(_=_.split(",")[0]))),I=_ in nh,I){if(this.styles.save(_),R||(O=e._gsap,O.renderTransform&&!t.parseTransform||K1(e,t.parseTransform),U=t.smoothOrigin!==!1&&O.smooth,R=this._pt=new No(this._pt,a,Ir,0,1,O.renderTransform,O,0,-1),R.dep=1),_==="scale")this._pt=new No(this._pt,O,"scaleY",O.scaleY,(N?eg(O.scaleY,N+p):p)-O.scaleY||0,l5),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){j.push(Po,0,a[Po]),d=HD(d),O.svg?h5(e,d,0,U,0,this):(S=parseFloat(d.split(" ")[2])||0,S!==O.zOrigin&&wd(this,O,"zOrigin",O.zOrigin,S),wd(this,a,_,Xb(h),Xb(d)));continue}else if(_==="svgOrigin"){h5(e,d,1,U,0,this);continue}else if(_ in sL){YD(this,O,_,y,N?eg(y,N+d):d);continue}else if(_==="smoothOrigin"){wd(this,O,"smooth",O.smooth,d);continue}else if(_==="force3D"){O[_]=d;continue}else if(_==="transform"){XD(this,d,e);continue}}else _ in a||(_=g0(_)||_);if(I||(p||p===0)&&(y||y===0)&&!PD.test(d)&&_ in a)A=(h+"").substr((y+"").length),p||(p=0),S=Rs(d)||(_ in da.units?da.units[_]:A),A!==S&&(y=Ed(e,_,h,S)),this._pt=new No(this._pt,I?O:a,_,y,(N?eg(y,N+p):p)-y,!I&&(S==="px"||_==="zIndex")&&t.autoRound!==!1?ID:l5),this._pt.u=S||0,A!==S&&S!=="%"&&(this._pt.b=h,this._pt.r=RD);else if(_ in a)$D.call(this,e,_,h,N?N+d:d);else if(_ in e)this.add(e,_,h||e[_],N?N+d:d,i,s);else if(_!=="parseTransform"){PA(_,d);continue}I||(_ in a?j.push(_,0,a[_]):typeof e[_]=="function"?j.push(_,2,e[_]()):j.push(_,1,h||e[_])),o.push(_)}}B&&KP(this)},render:function(e,t){if(t.tween._time||!UA())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:xu,aliases:Lc,getSetter:function(e,t,n){var i=Lc[t];return i&&i.indexOf(",")<0&&(t=i),t in nh&&t!==Po&&(e._gsap.x||xu(e,"x"))?n&&QC===n?t==="scale"?DD:FD:(QC=n||{})&&(t==="scale"?jD:BD):e.style&&!EA(e.style[t])?MD:~t.indexOf("-")?OD:DA(e,t)},core:{_removeProperty:Rp,_getMatrix:qA}};Ro.utils.checkPrefix=g0;Ro.core.getStyleSaver=tL;(function(r,e,t,n){var i=To(r+","+e+","+t,function(s){nh[s]=1});To(e,function(s){da.units[s]="deg",sL[s]=1}),Lc[i[13]]=r+","+e,To(n,function(s){var o=s.split(":");Lc[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");To("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){da.units[r]="px"});Ro.registerPlugin(lL);var _f=Ro.registerPlugin(lL)||Ro;_f.core.Tween;/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let aE=typeof document<"u"?Y.useLayoutEffect:Y.useEffect,lE=r=>r&&!Array.isArray(r)&&typeof r=="object",vv=[],KD={},cL=_f;const $A=(r,e=vv)=>{let t=KD;lE(r)?(t=r,r=null,e="dependencies"in t?t.dependencies:vv):lE(e)&&(t=e,e="dependencies"in t?t.dependencies:vv),r&&typeof r!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=t,s=Y.useRef(!1),o=Y.useRef(cL.context(()=>{},n)),a=Y.useRef(h=>o.current.add(null,h)),c=e&&e.length&&!i;return c&&aE(()=>(s.current=!0,()=>o.current.revert()),vv),aE(()=>{if(r&&o.current.add(r,n),!c||!s.current)return()=>o.current.revert()},e),{context:o.current,contextSafe:a.current}};$A.register=r=>{cL=r};$A.headless=!0;const cE=r=>{let e;const t=new Set,n=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const y=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(m=>m(e,y))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h))},c=e=r(n,i,a);return a},JD=r=>r?cE(r):cE,QD=r=>r;function ZD(r,e=QD){const t=DC.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return DC.useDebugValue(t),t}const uE=r=>{const e=JD(r),t=n=>ZD(e,n);return Object.assign(t,e),t},M_=r=>r?uE(r):uE;function uL(r,e){return function(){return r.apply(e,arguments)}}const{toString:ej}=Object.prototype,{getPrototypeOf:HA}=Object,O_=(r=>e=>{const t=ej.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ul=r=>(r=r.toLowerCase(),e=>O_(e)===r),F_=r=>e=>typeof e===r,{isArray:x0}=Array,J1=F_("undefined");function tj(r){return r!==null&&!J1(r)&&r.constructor!==null&&!J1(r.constructor)&&fa(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const hL=Ul("ArrayBuffer");function nj(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&hL(r.buffer),e}const rj=F_("string"),fa=F_("function"),dL=F_("number"),D_=r=>r!==null&&typeof r=="object",ij=r=>r===!0||r===!1,qv=r=>{if(O_(r)!=="object")return!1;const e=HA(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},sj=Ul("Date"),oj=Ul("File"),aj=Ul("Blob"),lj=Ul("FileList"),cj=r=>D_(r)&&fa(r.pipe),uj=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||fa(r.append)&&((e=O_(r))==="formdata"||e==="object"&&fa(r.toString)&&r.toString()==="[object FormData]"))},hj=Ul("URLSearchParams"),[dj,fj,pj,mj]=["ReadableStream","Request","Response","Headers"].map(Ul),gj=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function k2(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),x0(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,r[a],a,r)}}function fL(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,pL=r=>!J1(r)&&r!==Cf;function d5(){const{caseless:r}=pL(this)&&this||{},e={},t=(n,i)=>{const s=r&&fL(e,i)||i;qv(e[s])&&qv(n)?e[s]=d5(e[s],n):qv(n)?e[s]=d5({},n):x0(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&k2(arguments[n],t);return e}const yj=(r,e,t,{allOwnKeys:n}={})=>(k2(e,(i,s)=>{t&&fa(i)?r[s]=uL(i,t):r[s]=i},{allOwnKeys:n}),r),vj=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),bj=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},_j=(r,e,t,n)=>{let i,s,o;const a={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)o=i[s],(!n||n(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&HA(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},wj=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},xj=r=>{if(!r)return null;if(x0(r))return r;let e=r.length;if(!dL(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Sj=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&HA(Uint8Array)),Aj=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},kj=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},Cj=Ul("HTMLFormElement"),Ej=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),hE=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Tj=Ul("RegExp"),mL=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};k2(t,(i,s)=>{let o;(o=e(i,s,r))!==!1&&(n[s]=o||i)}),Object.defineProperties(r,n)},Nj=r=>{mL(r,(e,t)=>{if(fa(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(fa(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Pj=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return x0(r)?n(r):n(String(r).split(e)),t},Lj=()=>{},Rj=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Ij(r){return!!(r&&fa(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Mj=r=>{const e=new Array(10),t=(n,i)=>{if(D_(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=x0(n)?[]:{};return k2(n,(o,a)=>{const c=t(o,i+1);!J1(c)&&(s[a]=c)}),e[i]=void 0,s}}return n};return t(r,0)},Oj=Ul("AsyncFunction"),Fj=r=>r&&(D_(r)||fa(r))&&fa(r.then)&&fa(r.catch),gL=((r,e)=>r?setImmediate:e?((t,n)=>(Cf.addEventListener("message",({source:i,data:s})=>{i===Cf&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Cf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",fa(Cf.postMessage)),Dj=typeof queueMicrotask<"u"?queueMicrotask.bind(Cf):typeof process<"u"&&process.nextTick||gL,je={isArray:x0,isArrayBuffer:hL,isBuffer:tj,isFormData:uj,isArrayBufferView:nj,isString:rj,isNumber:dL,isBoolean:ij,isObject:D_,isPlainObject:qv,isReadableStream:dj,isRequest:fj,isResponse:pj,isHeaders:mj,isUndefined:J1,isDate:sj,isFile:oj,isBlob:aj,isRegExp:Tj,isFunction:fa,isStream:cj,isURLSearchParams:hj,isTypedArray:Sj,isFileList:lj,forEach:k2,merge:d5,extend:yj,trim:gj,stripBOM:vj,inherits:bj,toFlatObject:_j,kindOf:O_,kindOfTest:Ul,endsWith:wj,toArray:xj,forEachEntry:Aj,matchAll:kj,isHTMLForm:Cj,hasOwnProperty:hE,hasOwnProp:hE,reduceDescriptors:mL,freezeMethods:Nj,toObjectSet:Pj,toCamelCase:Ej,noop:Lj,toFiniteNumber:Rj,findKey:fL,global:Cf,isContextDefined:pL,isSpecCompliantForm:Ij,toJSONObject:Mj,isAsyncFn:Oj,isThenable:Fj,setImmediate:gL,asap:Dj};function Jt(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}je.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const yL=Jt.prototype,vL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{vL[r]={value:r}});Object.defineProperties(Jt,vL);Object.defineProperty(yL,"isAxiosError",{value:!0});Jt.from=(r,e,t,n,i,s)=>{const o=Object.create(yL);return je.toFlatObject(r,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Jt.call(o,r.message,e,t,n,i),o.cause=r,o.name=r.name,s&&Object.assign(o,s),o};const jj=null;function f5(r){return je.isPlainObject(r)||je.isArray(r)}function bL(r){return je.endsWith(r,"[]")?r.slice(0,-2):r}function dE(r,e,t){return r?r.concat(e).map(function(i,s){return i=bL(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function Bj(r){return je.isArray(r)&&!r.some(f5)}const Uj=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function j_(r,e,t){if(!je.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=je.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!je.isUndefined(A[_])});const n=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(e);if(!je.isFunction(i))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(je.isDate(x))return x.toISOString();if(!c&&je.isBlob(x))throw new Jt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(x)||je.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,_,A){let S=x;if(x&&!A&&typeof x=="object"){if(je.endsWith(_,"{}"))_=n?_:_.slice(0,-2),x=JSON.stringify(x);else if(je.isArray(x)&&Bj(x)||(je.isFileList(x)||je.endsWith(_,"[]"))&&(S=je.toArray(x)))return _=bL(_),S.forEach(function(I,R){!(je.isUndefined(I)||I===null)&&e.append(o===!0?dE([_],R,s):o===null?_:_+"[]",h(I))}),!1}return f5(x)?!0:(e.append(dE(A,_,s),h(x)),!1)}const p=[],y=Object.assign(Uj,{defaultVisitor:d,convertValue:h,isVisitable:f5});function m(x,_){if(!je.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(x),je.forEach(x,function(S,N){(!(je.isUndefined(S)||S===null)&&i.call(e,S,je.isString(N)?N.trim():N,_,y))===!0&&m(S,_?_.concat(N):[N])}),p.pop()}}if(!je.isObject(r))throw new TypeError("data must be an object");return m(r),e}function fE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function VA(r,e){this._pairs=[],r&&j_(r,this,e)}const _L=VA.prototype;_L.append=function(e,t){this._pairs.push([e,t])};_L.toString=function(e){const t=e?function(n){return e.call(this,n,fE)}:fE;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function zj(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wL(r,e,t){if(!e)return r;const n=t&&t.encode||zj;je.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=je.isURLSearchParams(e)?e.toString():new VA(e,t).toString(n),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class pE{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qj=typeof URLSearchParams<"u"?URLSearchParams:VA,$j=typeof FormData<"u"?FormData:null,Hj=typeof Blob<"u"?Blob:null,Vj={isBrowser:!0,classes:{URLSearchParams:qj,FormData:$j,Blob:Hj},protocols:["http","https","file","blob","url","data"]},WA=typeof window<"u"&&typeof document<"u",p5=typeof navigator=="object"&&navigator||void 0,Wj=WA&&(!p5||["ReactNative","NativeScript","NS"].indexOf(p5.product)<0),Gj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yj=WA&&window.location.href||"http://localhost",Xj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WA,hasStandardBrowserEnv:Wj,hasStandardBrowserWebWorkerEnv:Gj,navigator:p5,origin:Yj},Symbol.toStringTag,{value:"Module"})),Is={...Xj,...Vj};function Kj(r,e){return j_(r,new Is.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return Is.isNode&&je.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Jj(r){return je.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qj(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function SL(r){function e(t,n,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&je.isArray(i)?i.length:o,c?(je.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!je.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],s)&&je.isArray(i[o])&&(i[o]=Qj(i[o])),!a)}if(je.isFormData(r)&&je.isFunction(r.entries)){const t={};return je.forEachEntry(r,(n,i)=>{e(Jj(n),i,t,0)}),t}return null}function Zj(r,e,t){if(je.isString(r))try{return(e||JSON.parse)(r),je.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const C2={transitional:xL,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=je.isObject(e);if(s&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return i?JSON.stringify(SL(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Kj(e,this.formSerializer).toString();if((a=je.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return j_(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),Zj(e)):e}],transformResponse:[function(e){const t=this.transitional||C2.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Jt.from(a,Jt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Is.classes.FormData,Blob:Is.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],r=>{C2.headers[r]={}});const e4=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t4=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&e4[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},mE=Symbol("internals");function i1(r){return r&&String(r).trim().toLowerCase()}function $v(r){return r===!1||r==null?r:je.isArray(r)?r.map($v):String(r)}function n4(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const r4=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ax(r,e,t,n,i){if(je.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!je.isString(e)){if(je.isString(n))return e.indexOf(n)!==-1;if(je.isRegExp(n))return n.test(e)}}function i4(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function s4(r,e){const t=je.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let Lo=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(a,c,h){const d=i1(c);if(!d)throw new Error("header name must be a non-empty string");const p=je.findKey(i,d);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=$v(a))}const o=(a,c)=>je.forEach(a,(h,d)=>s(h,d,c));if(je.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(je.isString(e)&&(e=e.trim())&&!r4(e))o(t4(e),t);else if(je.isHeaders(e))for(const[a,c]of e.entries())s(c,a,n);else e!=null&&s(t,e,n);return this}get(e,t){if(e=i1(e),e){const n=je.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return n4(i);if(je.isFunction(t))return t.call(this,i,n);if(je.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=i1(e),e){const n=je.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ax(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(o){if(o=i1(o),o){const a=je.findKey(n,o);a&&(!t||ax(n,n[a],a,t))&&(delete n[a],i=!0)}}return je.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||ax(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return je.forEach(this,(i,s)=>{const o=je.findKey(n,s);if(o){t[o]=$v(i),delete t[s];return}const a=e?i4(s):String(s).trim();a!==s&&delete t[s],t[a]=$v(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return je.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&je.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[mE]=this[mE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=i1(o);n[a]||(s4(i,o),n[a]=!0)}return je.isArray(e)?e.forEach(s):s(e),this}};Lo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Lo.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});je.freezeMethods(Lo);function lx(r,e){const t=this||C2,n=e||t,i=Lo.from(n.headers);let s=n.data;return je.forEach(r,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function AL(r){return!!(r&&r.__CANCEL__)}function S0(r,e,t){Jt.call(this,r??"canceled",Jt.ERR_CANCELED,e,t),this.name="CanceledError"}je.inherits(S0,Jt,{__CANCEL__:!0});function kL(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Jt("Request failed with status code "+t.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function o4(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function a4(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),d=n[s];o||(o=h),t[i]=c,n[i]=h;let p=s,y=0;for(;p!==i;)y+=t[p++],p=p%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),h-o<e)return;const m=d&&h-d;return m?Math.round(y*1e3/m):void 0}}function l4(r,e){let t=0,n=1e3/e,i,s;const o=(h,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),r.apply(null,h)};return[(...h)=>{const d=Date.now(),p=d-t;p>=n?o(h,d):(i=h,s||(s=setTimeout(()=>{s=null,o(i)},n-p)))},()=>i&&o(i)]}const Kb=(r,e,t=3)=>{let n=0;const i=a4(50,250);return l4(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-n,h=i(c),d=o<=a;n=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&d?(a-o)/h:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(p)},t)},gE=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},yE=r=>(...e)=>je.asap(()=>r(...e)),c4=Is.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Is.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Is.origin),Is.navigator&&/(msie|trident)/i.test(Is.navigator.userAgent)):()=>!0,u4=Is.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const o=[r+"="+encodeURIComponent(e)];je.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),je.isString(n)&&o.push("path="+n),je.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function h4(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function d4(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function CL(r,e,t){let n=!h4(e);return r&&(n||t==!1)?d4(r,e):e}const vE=r=>r instanceof Lo?{...r}:r;function Ip(r,e){e=e||{};const t={};function n(h,d,p,y){return je.isPlainObject(h)&&je.isPlainObject(d)?je.merge.call({caseless:y},h,d):je.isPlainObject(d)?je.merge({},d):je.isArray(d)?d.slice():d}function i(h,d,p,y){if(je.isUndefined(d)){if(!je.isUndefined(h))return n(void 0,h,p,y)}else return n(h,d,p,y)}function s(h,d){if(!je.isUndefined(d))return n(void 0,d)}function o(h,d){if(je.isUndefined(d)){if(!je.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function a(h,d,p){if(p in e)return n(h,d);if(p in r)return n(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,d,p)=>i(vE(h),vE(d),p,!0)};return je.forEach(Object.keys(Object.assign({},r,e)),function(d){const p=c[d]||i,y=p(r[d],e[d],d);je.isUndefined(y)&&p!==a||(t[d]=y)}),t}const EL=r=>{const e=Ip({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Lo.from(o),e.url=wL(CL(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(je.isFormData(t)){if(Is.hasStandardBrowserEnv||Is.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[h,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...d].join("; "))}}if(Is.hasStandardBrowserEnv&&(n&&je.isFunction(n)&&(n=n(e)),n||n!==!1&&c4(e.url))){const h=i&&s&&u4.read(s);h&&o.set(i,h)}return e},f4=typeof XMLHttpRequest<"u",p4=f4&&function(r){return new Promise(function(t,n){const i=EL(r);let s=i.data;const o=Lo.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:h}=i,d,p,y,m,x;function _(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function S(){if(!A)return;const I=Lo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:I,config:r,request:A};kL(function(B){t(B),_()},function(B){n(B),_()},O),A=null}"onloadend"in A?A.onloadend=S:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(S)},A.onabort=function(){A&&(n(new Jt("Request aborted",Jt.ECONNABORTED,r,A)),A=null)},A.onerror=function(){n(new Jt("Network Error",Jt.ERR_NETWORK,r,A)),A=null},A.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||xL;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),n(new Jt(R,O.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,r,A)),A=null},s===void 0&&o.setContentType(null),"setRequestHeader"in A&&je.forEach(o.toJSON(),function(R,O){A.setRequestHeader(O,R)}),je.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),a&&a!=="json"&&(A.responseType=i.responseType),h&&([y,x]=Kb(h,!0),A.addEventListener("progress",y)),c&&A.upload&&([p,m]=Kb(c),A.upload.addEventListener("progress",p),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=I=>{A&&(n(!I||I.type?new S0(null,r,A):I),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const N=o4(i.url);if(N&&Is.protocols.indexOf(N)===-1){n(new Jt("Unsupported protocol "+N+":",Jt.ERR_BAD_REQUEST,r));return}A.send(s||null)})},m4=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(h){if(!i){i=!0,a();const d=h instanceof Error?h:this.reason;n.abort(d instanceof Jt?d:new S0(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new Jt(`timeout ${e} of ms exceeded`,Jt.ETIMEDOUT))},e);const a=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),r=null)};r.forEach(h=>h.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>je.asap(a),c}},g4=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},y4=async function*(r,e){for await(const t of v4(r))yield*g4(t,e)},v4=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},bE=(r,e,t,n)=>{const i=y4(r,e);let s=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await i.next();if(h){a(),c.close();return}let p=d.byteLength;if(t){let y=s+=p;t(y)}c.enqueue(new Uint8Array(d))}catch(h){throw a(h),h}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},B_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TL=B_&&typeof ReadableStream=="function",b4=B_&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),NL=(r,...e)=>{try{return!!r(...e)}catch{return!1}},_4=TL&&NL(()=>{let r=!1;const e=new Request(Is.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),_E=64*1024,m5=TL&&NL(()=>je.isReadableStream(new Response("").body)),Jb={stream:m5&&(r=>r.body)};B_&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jb[e]&&(Jb[e]=je.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Jt(`Response type '${e}' is not supported`,Jt.ERR_NOT_SUPPORT,n)})})})(new Response);const w4=async r=>{if(r==null)return 0;if(je.isBlob(r))return r.size;if(je.isSpecCompliantForm(r))return(await new Request(Is.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(je.isArrayBufferView(r)||je.isArrayBuffer(r))return r.byteLength;if(je.isURLSearchParams(r)&&(r=r+""),je.isString(r))return(await b4(r)).byteLength},x4=async(r,e)=>{const t=je.toFiniteNumber(r.getContentLength());return t??w4(e)},S4=B_&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:h,headers:d,withCredentials:p="same-origin",fetchOptions:y}=EL(r);h=h?(h+"").toLowerCase():"text";let m=m4([i,s&&s.toAbortSignal()],o),x;const _=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&_4&&t!=="get"&&t!=="head"&&(A=await x4(d,n))!==0){let O=new Request(e,{method:"POST",body:n,duplex:"half"}),U;if(je.isFormData(n)&&(U=O.headers.get("content-type"))&&d.setContentType(U),O.body){const[B,j]=gE(A,Kb(yE(c)));n=bE(O.body,_E,B,j)}}je.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;x=new Request(e,{...y,signal:m,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:S?p:void 0});let N=await fetch(x);const I=m5&&(h==="stream"||h==="response");if(m5&&(a||I&&_)){const O={};["status","statusText","headers"].forEach(D=>{O[D]=N[D]});const U=je.toFiniteNumber(N.headers.get("content-length")),[B,j]=a&&gE(U,Kb(yE(a),!0))||[];N=new Response(bE(N.body,_E,B,()=>{j&&j(),_&&_()}),O)}h=h||"text";let R=await Jb[je.findKey(Jb,h)||"text"](N,r);return!I&&_&&_(),await new Promise((O,U)=>{kL(O,U,{data:R,headers:Lo.from(N.headers),status:N.status,statusText:N.statusText,config:r,request:x})})}catch(S){throw _&&_(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,r,x),{cause:S.cause||S}):Jt.from(S,S&&S.code,r,x)}}),g5={http:jj,xhr:p4,fetch:S4};je.forEach(g5,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const wE=r=>`- ${r}`,A4=r=>je.isFunction(r)||r===null||r===!1,PL={getAdapter:r=>{r=je.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let o;if(n=t,!A4(t)&&(n=g5[(o=String(t)).toLowerCase()],n===void 0))throw new Jt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(wE).join(`
`):" "+wE(s[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:g5};function cx(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new S0(null,r)}function xE(r){return cx(r),r.headers=Lo.from(r.headers),r.data=lx.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),PL.getAdapter(r.adapter||C2.adapter)(r).then(function(n){return cx(r),n.data=lx.call(r,r.transformResponse,n),n.headers=Lo.from(n.headers),n},function(n){return AL(n)||(cx(r),n&&n.response&&(n.response.data=lx.call(r,r.transformResponse,n.response),n.response.headers=Lo.from(n.response.headers))),Promise.reject(n)})}const LL="1.8.4",U_={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{U_[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const SE={};U_.transitional=function(e,t,n){function i(s,o){return"[Axios v"+LL+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Jt(i(o," has been removed"+(t?" in "+t:"")),Jt.ERR_DEPRECATED);return t&&!SE[o]&&(SE[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};U_.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function k4(r,e,t){if(typeof r!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=r[s],c=a===void 0||o(a,s,r);if(c!==!0)throw new Jt("option "+s+" must be "+c,Jt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Jt("Unknown option "+s,Jt.ERR_BAD_OPTION)}}const Hv={assertOptions:k4,validators:U_},ac=Hv.validators;let Np=class{constructor(e){this.defaults=e,this.interceptors={request:new pE,response:new pE}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ip(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&Hv.assertOptions(n,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),i!=null&&(je.isFunction(i)?t.paramsSerializer={serialize:i}:Hv.assertOptions(i,{encode:ac.function,serialize:ac.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hv.assertOptions(t,{baseUrl:ac.spelling("baseURL"),withXsrfToken:ac.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&je.merge(s.common,s[t.method]);s&&je.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=Lo.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let d,p=0,y;if(!c){const x=[xE.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,h),y=x.length,d=Promise.resolve(t);p<y;)d=d.then(x[p++],x[p++]);return d}y=a.length;let m=t;for(p=0;p<y;){const x=a[p++],_=a[p++];try{m=x(m)}catch(A){_.call(this,A);break}}try{d=xE.call(this,m)}catch(x){return Promise.reject(x)}for(p=0,y=h.length;p<y;)d=d.then(h[p++],h[p++]);return d}getUri(e){e=Ip(this.defaults,e);const t=CL(e.baseURL,e.url,e.allowAbsoluteUrls);return wL(t,e.params,e.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(e){Np.prototype[e]=function(t,n){return this.request(Ip(n||{},{method:e,url:t,data:(n||{}).data}))}});je.forEach(["post","put","patch"],function(e){function t(n){return function(s,o,a){return this.request(Ip(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Np.prototype[e]=t(),Np.prototype[e+"Form"]=t(!0)});let C4=class RL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new S0(s,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new RL(function(i){e=i}),cancel:e}}};function E4(r){return function(t){return r.apply(null,t)}}function T4(r){return je.isObject(r)&&r.isAxiosError===!0}const y5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(y5).forEach(([r,e])=>{y5[e]=r});function IL(r){const e=new Np(r),t=uL(Np.prototype.request,e);return je.extend(t,Np.prototype,e,{allOwnKeys:!0}),je.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return IL(Ip(r,i))},t}const si=IL(C2);si.Axios=Np;si.CanceledError=S0;si.CancelToken=C4;si.isCancel=AL;si.VERSION=LL;si.toFormData=j_;si.AxiosError=Jt;si.Cancel=si.CanceledError;si.all=function(e){return Promise.all(e)};si.spread=E4;si.isAxiosError=T4;si.mergeConfig=Ip;si.AxiosHeaders=Lo;si.formToJSON=r=>SL(je.isHTMLForm(r)?new FormData(r):r);si.getAdapter=PL.getAdapter;si.HttpStatusCode=y5;si.default=si;const{Axios:aG,AxiosError:lG,CanceledError:cG,isCancel:uG,CancelToken:hG,VERSION:dG,all:fG,Cancel:pG,isAxiosError:mG,spread:gG,toFormData:yG,AxiosHeaders:vG,HttpStatusCode:bG,formToJSON:_G,getAdapter:wG,mergeConfig:xG}=si,Nn=si.create({baseURL:"http://localhost:3000/api",withCredentials:!0});let N4={data:""},P4=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||N4,L4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,R4=/\/\*[^]*?\*\/|  +/g,AE=/\n+/g,Hh=(r,e)=>{let t="",n="",i="";for(let s in r){let o=r[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":n+=s[1]=="f"?Hh(o,s):s+"{"+Hh(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=Hh(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Hh.p?Hh.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+n},du={},ML=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+ML(r[t]);return e}return r},I4=(r,e,t,n,i)=>{let s=ML(r),o=du[s]||(du[s]=(c=>{let h=0,d=11;for(;h<c.length;)d=101*d+c.charCodeAt(h++)>>>0;return"go"+d})(s));if(!du[o]){let c=s!==r?r:(h=>{let d,p,y=[{}];for(;d=L4.exec(h.replace(R4,""));)d[4]?y.shift():d[3]?(p=d[3].replace(AE," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][d[1]]=d[2].replace(AE," ").trim();return y[0]})(r);du[o]=Hh(i?{["@keyframes "+o]:c}:c,t?"":"."+o)}let a=t&&du.g?du.g:null;return t&&(du.g=du[o]),((c,h,d,p)=>{p?h.data=h.data.replace(p,c):h.data.indexOf(c)===-1&&(h.data=d?c+h.data:h.data+c)})(du[o],e,n,a),o},M4=(r,e,t)=>r.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":Hh(a,""):a===!1?"":a}return n+i+(o??"")},"");function z_(r){let e=this||{},t=r.call?r(e.p):r;return I4(t.unshift?t.raw?M4(t,[].slice.call(arguments,1),e.p):t.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):t,P4(e.target),e.g,e.o,e.k)}let OL,v5,b5;z_.bind({g:1});let rh=z_.bind({k:1});function O4(r,e,t,n){Hh.p=e,OL=r,v5=t,b5=n}function Od(r,e){let t=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),c=a.className||i.className;t.p=Object.assign({theme:v5&&v5()},a),t.o=/ *go\d+/.test(c),a.className=z_.apply(t,n)+(c?" "+c:"");let h=r;return r[0]&&(h=a.as||r,delete a.as),b5&&h[0]&&b5(a),OL(h,a)}return i}}var F4=r=>typeof r=="function",Qb=(r,e)=>F4(r)?r(e):r,D4=(()=>{let r=0;return()=>(++r).toString()})(),FL=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),j4=20,DL=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,j4)};case 1:return{...r,toasts:r.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return DL(r,{type:r.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let i=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Vv=[],Wv={toasts:[],pausedAt:void 0},$p=r=>{Wv=DL(Wv,r),Vv.forEach(e=>{e(Wv)})},B4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},U4=(r={})=>{let[e,t]=Y.useState(Wv);Y.useEffect(()=>(Vv.push(t),()=>{let i=Vv.indexOf(t);i>-1&&Vv.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var s,o,a;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((s=r[i.type])==null?void 0:s.removeDelay)||(r==null?void 0:r.removeDelay),duration:i.duration||((o=r[i.type])==null?void 0:o.duration)||(r==null?void 0:r.duration)||B4[i.type],style:{...r.style,...(a=r[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:n}},z4=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||D4()}),E2=r=>(e,t)=>{let n=z4(e,r,t);return $p({type:2,toast:n}),n.id},Qs=(r,e)=>E2("blank")(r,e);Qs.error=E2("error");Qs.success=E2("success");Qs.loading=E2("loading");Qs.custom=E2("custom");Qs.dismiss=r=>{$p({type:3,toastId:r})};Qs.remove=r=>$p({type:4,toastId:r});Qs.promise=(r,e,t)=>{let n=Qs.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(i=>{let s=e.success?Qb(e.success,i):void 0;return s?Qs.success(s,{id:n,...t,...t==null?void 0:t.success}):Qs.dismiss(n),i}).catch(i=>{let s=e.error?Qb(e.error,i):void 0;s?Qs.error(s,{id:n,...t,...t==null?void 0:t.error}):Qs.dismiss(n)}),r};var q4=(r,e)=>{$p({type:1,toast:{id:r,height:e}})},$4=()=>{$p({type:5,time:Date.now()})},M1=new Map,H4=1e3,V4=(r,e=H4)=>{if(M1.has(r))return;let t=setTimeout(()=>{M1.delete(r),$p({type:4,toastId:r})},e);M1.set(r,t)},W4=r=>{let{toasts:e,pausedAt:t}=U4(r);Y.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(c<0){a.visible&&Qs.dismiss(a.id);return}return setTimeout(()=>Qs.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let n=Y.useCallback(()=>{t&&$p({type:6,time:Date.now()})},[t]),i=Y.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:h}=o||{},d=e.filter(m=>(m.position||h)===(s.position||h)&&m.height),p=d.findIndex(m=>m.id===s.id),y=d.filter((m,x)=>x<p&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[y+1]:[0,y]).reduce((m,x)=>m+(x.height||0)+c,0)},[e]);return Y.useEffect(()=>{e.forEach(s=>{if(s.dismissed)V4(s.id,s.removeDelay);else{let o=M1.get(s.id);o&&(clearTimeout(o),M1.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:q4,startPause:$4,endPause:n,calculateOffset:i}}},G4=rh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Y4=rh`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X4=rh`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,K4=Od("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Y4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${X4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,J4=rh`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Q4=Od("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${J4} 1s linear infinite;
`,Z4=rh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,e9=rh`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,t9=Od("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Z4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${e9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,n9=Od("div")`
  position: absolute;
`,r9=Od("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,i9=rh`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s9=Od("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${i9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,o9=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?Y.createElement(s9,null,e):e:t==="blank"?null:Y.createElement(r9,null,Y.createElement(Q4,{...n}),t!=="loading"&&Y.createElement(n9,null,t==="error"?Y.createElement(K4,{...n}):Y.createElement(t9,{...n})))},a9=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,l9=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,c9="0%{opacity:0;} 100%{opacity:1;}",u9="0%{opacity:1;} 100%{opacity:0;}",h9=Od("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,d9=Od("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,f9=(r,e)=>{let t=r.includes("top")?1:-1,[n,i]=FL()?[c9,u9]:[a9(t),l9(t)];return{animation:e?`${rh(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rh(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},p9=Y.memo(({toast:r,position:e,style:t,children:n})=>{let i=r.height?f9(r.position||e||"top-center",r.visible):{opacity:0},s=Y.createElement(o9,{toast:r}),o=Y.createElement(d9,{...r.ariaProps},Qb(r.message,r));return Y.createElement(h9,{className:r.className,style:{...i,...t,...r.style}},typeof n=="function"?n({icon:s,message:o}):Y.createElement(Y.Fragment,null,s,o))});O4(Y.createElement);var m9=({id:r,className:e,style:t,onHeightUpdate:n,children:i})=>{let s=Y.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;n(r,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return Y.createElement("div",{ref:s,className:e,style:t},i)},g9=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:FL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...i}},y9=z_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bv=16,v9=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:c}=W4(t);return Y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:bv,left:bv,right:bv,bottom:bv,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(h=>{let d=h.position||e,p=c.calculateOffset(h,{reverseOrder:r,gutter:n,defaultPosition:e}),y=g9(d,p);return Y.createElement(m9,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?y9:"",style:y},h.type==="custom"?Qb(h.message,h):i?i(h):Y.createElement(p9,{toast:h,position:d}))}))},sn=Qs;const Dc=Object.create(null);Dc.open="0";Dc.close="1";Dc.ping="2";Dc.pong="3";Dc.message="4";Dc.upgrade="5";Dc.noop="6";const Gv=Object.create(null);Object.keys(Dc).forEach(r=>{Gv[Dc[r]]=r});const _5={type:"error",data:"parser error"},jL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",BL=typeof ArrayBuffer=="function",UL=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,GA=({type:r,data:e},t,n)=>jL&&e instanceof Blob?t?n(e):kE(e,n):BL&&(e instanceof ArrayBuffer||UL(e))?t?n(e):kE(new Blob([e]),n):n(Dc[r]+(e||"")),kE=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function CE(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let ux;function b9(r,e){if(jL&&r.data instanceof Blob)return r.data.arrayBuffer().then(CE).then(e);if(BL&&(r.data instanceof ArrayBuffer||UL(r.data)))return e(CE(r.data));GA(r,!1,t=>{ux||(ux=new TextEncoder),e(ux.encode(t))})}const EE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<EE.length;r++)p1[EE.charCodeAt(r)]=r;const _9=r=>{let e=r.length*.75,t=r.length,n,i=0,s,o,a,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const h=new ArrayBuffer(e),d=new Uint8Array(h);for(n=0;n<t;n+=4)s=p1[r.charCodeAt(n)],o=p1[r.charCodeAt(n+1)],a=p1[r.charCodeAt(n+2)],c=p1[r.charCodeAt(n+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return h},w9=typeof ArrayBuffer=="function",YA=(r,e)=>{if(typeof r!="string")return{type:"message",data:zL(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:x9(r.substring(1),e)}:Gv[t]?r.length>1?{type:Gv[t],data:r.substring(1)}:{type:Gv[t]}:_5},x9=(r,e)=>{if(w9){const t=_9(r);return zL(t,e)}else return{base64:!0,data:r}},zL=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},qL="",S9=(r,e)=>{const t=r.length,n=new Array(t);let i=0;r.forEach((s,o)=>{GA(s,!1,a=>{n[o]=a,++i===t&&e(n.join(qL))})})},A9=(r,e)=>{const t=r.split(qL),n=[];for(let i=0;i<t.length;i++){const s=YA(t[i],e);if(n.push(s),s.type==="error")break}return n};function k9(){return new TransformStream({transform(r,e){b9(r,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let hx;function _v(r){return r.reduce((e,t)=>e+t.length,0)}function wv(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function C9(r,e){hx||(hx=new TextDecoder);const t=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(n===0){if(_v(t)<1)break;const c=wv(t,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(_v(t)<2)break;const c=wv(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(_v(t)<8)break;const c=wv(t,8),h=new DataView(c.buffer,c.byteOffset,c.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(_5);break}i=d*Math.pow(2,32)+h.getUint32(4),n=3}else{if(_v(t)<i)break;const c=wv(t,i);a.enqueue(YA(s?c:hx.decode(c),e)),n=0}if(i===0||i>r){a.enqueue(_5);break}}}})}const $L=4;function gi(r){if(r)return E9(r)}function E9(r){for(var e in gi.prototype)r[e]=gi.prototype[e];return r}gi.prototype.on=gi.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};gi.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};gi.prototype.off=gi.prototype.removeListener=gi.prototype.removeAllListeners=gi.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};gi.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};gi.prototype.emitReserved=gi.prototype.emit;gi.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};gi.prototype.hasListeners=function(r){return!!this.listeners(r).length};const q_=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),qa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),T9="arraybuffer";function HL(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const N9=qa.setTimeout,P9=qa.clearTimeout;function $_(r,e){e.useNativeTimers?(r.setTimeoutFn=N9.bind(qa),r.clearTimeoutFn=P9.bind(qa)):(r.setTimeoutFn=qa.setTimeout.bind(qa),r.clearTimeoutFn=qa.clearTimeout.bind(qa))}const L9=1.33;function R9(r){return typeof r=="string"?I9(r):Math.ceil((r.byteLength||r.size)*L9)}function I9(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function VL(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function M9(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function O9(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let s=t[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class F9 extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class XA extends gi{constructor(e){super(),this.writable=!1,$_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new F9(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=YA(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=M9(e);return t.length?"?"+t:""}}class D9 extends XA{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};A9(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,S9(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=VL()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let WL=!1;try{WL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const j9=WL;function B9(){}class U9 extends D9{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let rg=class Yv extends gi{constructor(e,t,n){super(),this.createRequest=e,$_(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=HL(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Yv.requestsCount++,Yv.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=B9,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Yv.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};rg.requestsCount=0;rg.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",TE);else if(typeof addEventListener=="function"){const r="onpagehide"in qa?"pagehide":"unload";addEventListener(r,TE,!1)}}function TE(){for(let r in rg.requests)rg.requests.hasOwnProperty(r)&&rg.requests[r].abort()}const z9=function(){const r=GL({xdomain:!1});return r&&r.responseType!==null}();class q9 extends U9{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=z9&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new rg(GL,this.uri(),e)}}function GL(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||j9))return new XMLHttpRequest}catch{}if(!e)try{return new qa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const YL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $9 extends XA{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=YL?{}:HL(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;GA(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&q_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=VL()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const dx=qa.WebSocket||qa.MozWebSocket;class H9 extends $9{createSocket(e,t,n){return YL?new dx(e,t,n):t?new dx(e,t):new dx(e)}doWrite(e,t){this.ws.send(t)}}class V9 extends XA{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=C9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=k9();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&q_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const W9={websocket:H9,webtransport:V9,polling:q9},G9=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function w5(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=G9.exec(r||""),s={},o=14;for(;o--;)s[Y9[o]]=i[o]||"";return t!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=X9(s,s.path),s.queryKey=K9(s,s.query),s}function X9(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function K9(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(t[i]=s)}),t}const x5=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xv=[];x5&&addEventListener("offline",()=>{Xv.forEach(r=>r())},!1);class kd extends gi{constructor(e,t){if(super(),this.binaryType=T9,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=w5(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=w5(t.host).host);$_(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=O9(this.opts.query)),x5&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=$L,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&kd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",kd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=R9(i)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,q_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(kd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),x5&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Xv.indexOf(this._offlineEventListener);n!==-1&&Xv.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}kd.protocol=$L;class J9 extends kd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;kd.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;kd.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function s(){n||(n=!0,d(),t.close(),t=null)}const o=p=>{const y=new Error("probe error: "+p);y.transport=t.name,s(),this.emitReserved("upgradeError",y)};function a(){o("transport closed")}function c(){o("socket closed")}function h(p){t&&p.name!==t.name&&s()}const d=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",c),this.off("upgrading",h)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",c),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let Q9=class extends J9{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>W9[i]).filter(i=>!!i)),super(e,n)}};function Z9(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=w5(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}const eB=typeof ArrayBuffer=="function",tB=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,XL=Object.prototype.toString,nB=typeof Blob=="function"||typeof Blob<"u"&&XL.call(Blob)==="[object BlobConstructor]",rB=typeof File=="function"||typeof File<"u"&&XL.call(File)==="[object FileConstructor]";function KA(r){return eB&&(r instanceof ArrayBuffer||tB(r))||nB&&r instanceof Blob||rB&&r instanceof File}function Kv(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(Kv(r[t]))return!0;return!1}if(KA(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Kv(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Kv(r[t]))return!0;return!1}function iB(r){const e=[],t=r.data,n=r;return n.data=S5(t,e),n.attachments=e.length,{packet:n,buffers:e}}function S5(r,e){if(!r)return r;if(KA(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=S5(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=S5(r[n],e));return t}return r}function sB(r,e){return r.data=A5(r.data,e),delete r.attachments,r}function A5(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=A5(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=A5(r[t],e));return r}const oB=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],aB=5;var fn;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(fn||(fn={}));class lB{constructor(e){this.replacer=e}encode(e){return(e.type===fn.EVENT||e.type===fn.ACK)&&Kv(e)?this.encodeAsBinary({type:e.type===fn.EVENT?fn.BINARY_EVENT:fn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===fn.BINARY_EVENT||e.type===fn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=iB(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function NE(r){return Object.prototype.toString.call(r)==="[object Object]"}class JA extends gi{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===fn.BINARY_EVENT;n||t.type===fn.BINARY_ACK?(t.type=n?fn.EVENT:fn.ACK,this.reconstructor=new cB(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(KA(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(fn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===fn.BINARY_EVENT||n.type===fn.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(s,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(JA.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case fn.CONNECT:return NE(t);case fn.DISCONNECT:return t===void 0;case fn.CONNECT_ERROR:return typeof t=="string"||NE(t);case fn.EVENT:case fn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&oB.indexOf(t[0])===-1);case fn.ACK:case fn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cB{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=sB(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uB=Object.freeze(Object.defineProperty({__proto__:null,Decoder:JA,Encoder:lB,get PacketType(){return fn},protocol:aB},Symbol.toStringTag,{value:"Module"}));function Ml(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const hB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KL extends gi{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ml(e,"open",this.onopen.bind(this)),Ml(e,"packet",this.onpacket.bind(this)),Ml(e,"error",this.onerror.bind(this)),Ml(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,s;if(hB.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:fn.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,p=t.pop();this._registerAckCallback(d,p),o.id=d}const a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((n,i)=>{const s=(o,a)=>o?i(o):n(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fn.EVENT:case fn.BINARY_EVENT:this.onevent(e);break;case fn.ACK:case fn.BINARY_ACK:this.onack(e);break;case fn.DISCONNECT:this.ondisconnect();break;case fn.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:fn.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function A0(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}A0.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};A0.prototype.reset=function(){this.attempts=0};A0.prototype.setMin=function(r){this.ms=r};A0.prototype.setMax=function(r){this.max=r};A0.prototype.setJitter=function(r){this.jitter=r};class k5 extends gi{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,$_(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new A0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||uB;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Q9(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ml(t,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Ml(t,"error",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ml(e,"ping",this.onping.bind(this)),Ml(e,"data",this.ondata.bind(this)),Ml(e,"error",this.onerror.bind(this)),Ml(e,"close",this.onclose.bind(this)),Ml(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){q_(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new KL(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const s1={};function Jv(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=Z9(r,e.path||"/socket.io"),n=t.source,i=t.id,s=t.path,o=s1[i]&&s in s1[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new k5(n,e):(s1[i]||(s1[i]=new k5(n,e)),c=s1[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(Jv,{Manager:k5,Socket:KL,io:Jv,connect:Jv});class dB{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return fB(e).buffer}}function fB(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;for(const i of r){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t.set(s,n),n+=i.byteLength}return t}function JL(r){return new pB(r).unpack()}function QL(r){const e=new mB,t=e.pack(r);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class pB{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let n=0,i="",s,o;for(;n<e;)s=t[n],s<160?(o=s,n++):(s^192)<32?(o=(s&31)<<6|t[n+1]&63,n+=2):(s^224)<16?(o=(s&15)<<12|(t[n+1]&63)<<6|t[n+2]&63,n+=3):(o=(s&7)<<18|(t[n+1]&63)<<12|(t[n+2]&63)<<6|t[n+3]&63,n+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=this.unpack();return t}unpack_map(e){const t={};for(let n=0;n<e;n++){const i=this.unpack();t[i]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,n=(e>>23&255)-127,i=e&8388607|8388608;return(t===0?1:-1)*i*2**(n-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+t*2**(i-52);return(n===0?1:-1)*o}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class mB{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const n=this.pack_array(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const n=e;this.pack_bin(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(n=>{this.pack_bin(new Uint8Array(n)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const n=this.pack_object(e);if(n instanceof Promise)return n.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),n=t.length;if(n<=15)this.pack_uint8(176+n);else if(n<=65535)this._bufferBuilder.append(216),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const n=i=>{if(i<t){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>n(i+1)):n(i+1)}};return n(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const n=Math.floor(Math.log(e)/Math.LN2),i=e/2**n-1,s=Math.floor(i*2**52),o=2**32,a=t<<31|n+1023<<20|s/o&1048575,c=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(e){const t=Object.keys(e),n=t.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this._bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");const i=s=>{if(s<t.length){const o=t[s];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),n=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}constructor(){this._bufferBuilder=new dB,this._textEncoder=new TextEncoder}}let ZL=!0,eR=!0;function Qv(r,e,t){const n=r.match(e);return n&&n.length>=t&&parseInt(n[t],10)}function Hp(r,e,t){if(!r.RTCPeerConnection)return;const n=r.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const c=h=>{const d=t(h);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),i.apply(this,[o,c])};const s=n.removeEventListener;n.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function gB(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(ZL=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function yB(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(eR=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function tR(){if(typeof window=="object"){if(ZL)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function QA(r,e){eR&&console.warn(r+" is deprecated, please use "+e+" instead.")}function vB(r){const e={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=r;if(t.userAgentData&&t.userAgentData.brands){const n=t.userAgentData.brands.find(i=>i.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=Qv(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)e.browser="chrome",e.version=Qv(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=Qv(t.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function PE(r){return Object.prototype.toString.call(r)==="[object Object]"}function nR(r){return PE(r)?Object.keys(r).reduce(function(e,t){const n=PE(r[t]),i=n?nR(r[t]):r[t],s=n&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[t]:i})},{}):r}function C5(r,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?C5(r,r.get(e[n]),t):n.endsWith("Ids")&&e[n].forEach(i=>{C5(r,r.get(i),t)})}))}function LE(r,e,t){const n=t?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return r.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{r.forEach(a=>{a.type===n&&a.trackId===o.id&&C5(r,a,i)})}),i}const RE=tR;function rR(r,e){const t=r&&r.navigator;if(!t.mediaDevices)return;const n=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const d=typeof a[h]=="object"?a[h]:{ideal:a[h]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const p=function(y,m){return y?y+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(d.ideal!==void 0){c.optional=c.optional||[];let y={};typeof d.ideal=="number"?(y[p("min",h)]=d.ideal,c.optional.push(y),y={},y[p("max",h)]=d.ideal,c.optional.push(y)):(y[p("",h)]=d.ideal,c.optional.push(y))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[p("",h)]=d.exact):["min","max"].forEach(y=>{d[y]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[p(y,h)]=d[y])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},i=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const h=function(d,p,y){p in d&&!(y in d)&&(d[y]=d[p],delete d[p])};a=JSON.parse(JSON.stringify(a)),h(a.audio,"autoGainControl","googAutoGainControl"),h(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=n(a.audio)}if(a&&typeof a.video=="object"){let h=a.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const d=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let p;if(h.exact==="environment"||h.ideal==="environment"?p=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(p=["front"]),p)return t.mediaDevices.enumerateDevices().then(y=>{y=y.filter(x=>x.kind==="videoinput");let m=y.find(x=>p.some(_=>x.label.toLowerCase().includes(_)));return!m&&y.length&&p.includes("back")&&(m=y[y.length-1]),m&&(a.video.deviceId=h.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=n(a.video),RE("chrome: "+JSON.stringify(a)),c(a)})}a.video=n(a.video)}return RE("chrome: "+JSON.stringify(a)),c(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,h){i(a,d=>{t.webkitGetUserMedia(d,c,p=>{h&&h(s(p))})})};if(t.getUserMedia=o.bind(t),t.mediaDevices.getUserMedia){const a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(c){return i(c,h=>a(h).then(d=>{if(h.audio&&!d.getAudioTracks().length||h.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function iR(r){r.MediaStream=r.MediaStream||r.webkitMediaStream}function sR(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("ontrack"in r.RTCPeerConnection.prototype)){Object.defineProperty(r.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;r.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let s;r.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Hp(r,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function oR(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("getSenders"in r.RTCPeerConnection.prototype)&&"createDTMFSender"in r.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!r.RTCPeerConnection.prototype.getSenders){r.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(a,c){let h=i.apply(this,arguments);return h||(h=e(this,a),this._senders.push(h)),h};const s=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],t.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const n=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof r=="object"&&r.RTCPeerConnection&&"getSenders"in r.RTCPeerConnection.prototype&&"createDTMFSender"in r.RTCPeerConnection.prototype&&r.RTCRtpSender&&!("dtmf"in r.RTCRtpSender.prototype)){const e=r.RTCPeerConnection.prototype.getSenders;r.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(r.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function aR(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender&&r.RTCRtpReceiver))return;if(!("getStats"in r.RTCRtpSender.prototype)){const t=r.RTCPeerConnection.prototype.getSenders;t&&(r.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(o=>o._pc=this),s});const n=r.RTCPeerConnection.prototype.addTrack;n&&(r.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),r.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>LE(o,s.track,!0))}}if(!("getStats"in r.RTCRtpReceiver.prototype)){const t=r.RTCPeerConnection.prototype.getReceivers;t&&(r.RTCPeerConnection.prototype.getReceivers=function(){const i=t.apply(this,[]);return i.forEach(s=>s._pc=this),i}),Hp(r,"track",n=>(n.receiver._pc=n.srcElement,n)),r.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>LE(s,i.track,!1))}}if(!("getStats"in r.RTCRtpSender.prototype&&"getStats"in r.RTCRtpReceiver.prototype))return;const e=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof r.MediaStreamTrack){const n=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===n&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===n&&(s?o=!0:s=a),a.track===n)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function lR(r){r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(h=>{if(this.getSenders().find(p=>p.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();t.apply(this,arguments);const c=this.getSenders().filter(h=>a.indexOf(h)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const n=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function cR(r,e){if(!r.RTCPeerConnection)return;if(r.RTCPeerConnection.prototype.addTrack&&e.version>=65)return lR(r);const t=r.RTCPeerConnection.prototype.getLocalStreams;r.RTCPeerConnection.prototype.getLocalStreams=function(){const d=t.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(p=>this._reverseStreams[p.id])};const n=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(p=>{if(this.getSenders().find(m=>m.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const p=new r.MediaStream(d.getTracks());this._streams[d.id]=p,this._reverseStreams[p.id]=d,d=p}n.apply(this,[d])};const i=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},r.RTCPeerConnection.prototype.addTrack=function(d,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const y=[].slice.call(arguments,1);if(y.length!==1||!y[0].getTracks().find(_=>_===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(_=>_.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[p.id];if(x)x.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const _=new r.MediaStream([d]);this._streams[p.id]=_,this._reverseStreams[_.id]=p,this.addStream(_)}return this.getSenders().find(_=>_.track===d)};function s(h,d){let p=d.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const m=h._reverseStreams[y],x=h._streams[m.id];p=p.replace(new RegExp(x.id,"g"),m.id)}),new RTCSessionDescription({type:d.type,sdp:p})}function o(h,d){let p=d.sdp;return Object.keys(h._reverseStreams||[]).forEach(y=>{const m=h._reverseStreams[y],x=h._streams[m.id];p=p.replace(new RegExp(m.id,"g"),x.id)}),new RTCSessionDescription({type:d.type,sdp:p})}["createOffer","createAnswer"].forEach(function(h){const d=r.RTCPeerConnection.prototype[h],p={[h](){const y=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[x=>{const _=s(this,x);y[0].apply(null,[_])},x=>{y[1]&&y[1].apply(null,x)},arguments[2]]):d.apply(this,arguments).then(x=>s(this,x))}};r.RTCPeerConnection.prototype[h]=p[h]});const a=r.RTCPeerConnection.prototype.setLocalDescription;r.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(r.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(r.RTCPeerConnection.prototype,"localDescription",{get(){const h=c.get.apply(this);return h.type===""?h:s(this,h)}}),r.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let y;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(_=>d.track===_)&&(y=this._streams[m])}),y&&(y.getTracks().length===1?this.removeStream(this._reverseStreams[y.id]):y.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function E5(r,e){!r.RTCPeerConnection&&r.webkitRTCPeerConnection&&(r.RTCPeerConnection=r.webkitRTCPeerConnection),r.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=r.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new(t==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};r.RTCPeerConnection.prototype[t]=i[t]})}function uR(r,e){Hp(r,"negotiationneeded",t=>{const n=t.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return t})}const IE=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:uR,shimAddTrackRemoveTrack:cR,shimAddTrackRemoveTrackWithNative:lR,shimGetSendersWithDtmf:oR,shimGetUserMedia:rR,shimMediaStream:iR,shimOnTrack:sR,shimPeerConnection:E5,shimSenderReceiverGetStats:aR},Symbol.toStringTag,{value:"Module"}));function hR(r,e){const t=r&&r.navigator,n=r&&r.MediaStreamTrack;if(t.getUserMedia=function(i,s,o){QA("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const i=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},s=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function bB(r,e){r.navigator.mediaDevices&&"getDisplayMedia"in r.navigator.mediaDevices||r.navigator.mediaDevices&&(r.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,r.navigator.mediaDevices.getUserMedia(n)})}function dR(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function T5(r,e){if(typeof r!="object"||!(r.RTCPeerConnection||r.mozRTCPeerConnection))return;!r.RTCPeerConnection&&r.mozRTCPeerConnection&&(r.RTCPeerConnection=r.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=r.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};r.RTCPeerConnection.prototype[i]=o[i]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return n.apply(this,[s||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(h=>{h.type=t[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;c.forEach((d,p)=>{c.set(p,Object.assign({},d,{type:t[d.type]||d.type}))})}return c}).then(o,a)}}function fR(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpSender.prototype)return;const e=r.RTCPeerConnection.prototype.getSenders;e&&(r.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const t=r.RTCPeerConnection.prototype.addTrack;t&&(r.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),r.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function pR(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpReceiver.prototype)return;const e=r.RTCPeerConnection.prototype.getReceivers;e&&(r.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Hp(r,"track",t=>(t.receiver._pc=t.srcElement,t)),r.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function mR(r){!r.RTCPeerConnection||"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){QA("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&t.getTracks().includes(n.track)&&this.removeTrack(n)})})}function gR(r){r.DataChannel&&!r.RTCDataChannel&&(r.RTCDataChannel=r.DataChannel)}function yR(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.addTransceiver;e&&(r.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function vR(r){if(!(typeof r=="object"&&r.RTCRtpSender))return;const e=r.RTCRtpSender.prototype.getParameters;e&&(r.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function bR(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function _R(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createAnswer;r.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const ME=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:yR,shimCreateAnswer:_R,shimCreateOffer:bR,shimGetDisplayMedia:bB,shimGetParameters:vR,shimGetUserMedia:hR,shimOnTrack:dR,shimPeerConnection:T5,shimRTCDataChannel:gR,shimReceiverGetStats:pR,shimRemoveStream:mR,shimSenderGetStats:fR},Symbol.toStringTag,{value:"Module"}));function wR(r){if(!(typeof r!="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},r.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(t);if(n===-1)return;this._localStreams.splice(n,1);const i=t.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function xR(r){if(!(typeof r!="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,n.dispatchEvent(o)})}),e.apply(n,arguments)}}}function SR(r){if(typeof r!="object"||!r.RTCPeerConnection)return;const e=r.RTCPeerConnection.prototype,t=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(h,d){const p=arguments.length>=2?arguments[2]:arguments[0],y=t.apply(this,[p]);return d?(y.then(h,d),Promise.resolve()):y},e.createAnswer=function(h,d){const p=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[p]);return d?(y.then(h,d),Promise.resolve()):y};let a=function(c,h,d){const p=i.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p};e.setLocalDescription=a,a=function(c,h,d){const p=s.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p},e.setRemoteDescription=a,a=function(c,h,d){const p=o.apply(this,[c]);return d?(p.then(h,d),Promise.resolve()):p},e.addIceCandidate=a}function AR(r){const e=r&&r.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,n=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=i=>n(kR(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,i,s){e.mediaDevices.getUserMedia(n).then(i,s)}).bind(e))}function kR(r){return r&&r.video!==void 0?Object.assign({},r,{video:nR(r.video)}):r}function CR(r){if(!r.RTCPeerConnection)return;const e=r.RTCPeerConnection;r.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let o=0;o<n.iceServers.length;o++){let a=n.iceServers[o];a.urls===void 0&&a.url?(QA("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(n.iceServers[o])}n.iceServers=s}return new e(n,i)},r.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function ER(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function TR(r){const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function NR(r){typeof r!="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const OE=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:NR,shimCallbacksAPI:SR,shimConstraints:kR,shimCreateOfferLegacy:TR,shimGetUserMedia:AR,shimLocalStreamsAPI:wR,shimRTCIceServerUrls:CR,shimRemoteStreamsAPI:xR,shimTrackEventTransceiver:ER},Symbol.toStringTag,{value:"Module"}));var fx={exports:{}},FE;function _B(){return FE||(FE=1,function(r){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(t){return t.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(t){const n=e.splitSections(t);return n&&n[0]},e.getMediaSections=function(t){const n=e.splitSections(t);return n.shift(),n},e.matchPrefix=function(t,n){return e.splitLines(t).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(t){let n;t.indexOf("a=candidate:")===0?n=t.substring(12).split(" "):n=t.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},e.writeCandidate=function(t){const n=[];n.push(t.foundation);const i=t.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(t.protocol.toUpperCase()),n.push(t.priority),n.push(t.address||t.ip),n.push(t.port);const s=t.type;return n.push("typ"),n.push(s),s!=="host"&&t.relatedAddress&&t.relatedPort&&(n.push("raddr"),n.push(t.relatedAddress),n.push("rport"),n.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(n.push("ufrag"),n.push(t.usernameFragment||t.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let n=t.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(t){let n=t.payloadType;t.preferredPayloadType!==void 0&&(n=t.preferredPayloadType);const i=t.channels||t.numChannels||1;return"a=rtpmap:"+n+" "+t.name+"/"+t.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(t){const n=t.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const n={};let i;const s=t.substring(t.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(t){let n="",i=t.payloadType;if(t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const s=[];Object.keys(t.parameters).forEach(o=>{t.parameters[o]!==void 0?s.push(o+"="+t.parameters[o]):s.push(o)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},e.parseRtcpFb=function(t){const n=t.substring(t.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(t){let n="",i=t.payloadType;return t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(t){const n=t.indexOf(" "),i={ssrc:parseInt(t.substring(7,n),10)},s=t.indexOf(":",n);return s>-1?(i.attribute=t.substring(n+1,s),i.value=t.substring(s+1)):i.attribute=t.substring(n+1),i},e.parseSsrcGroup=function(t){const n=t.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(t){const n=e.matchPrefix(t,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(t){const n=t.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(t,n){return{role:"auto",fingerprints:e.matchPrefix(t+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,n){let i="a=setup:"+n+`\r
`;return t.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(t){const n=t.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const n=t.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,n){return e.matchPrefix(t+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,n){const i=e.matchPrefix(t+n,"a=ice-ufrag:")[0],s=e.matchPrefix(t+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(t){let n="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(t){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(t)[0].split(" ");n.profile=s[2];for(let a=3;a<s.length;a++){const c=s[a],h=e.matchPrefix(t,"a=rtpmap:"+c+" ")[0];if(h){const d=e.parseRtpMap(h),p=e.matchPrefix(t,"a=fmtp:"+c+" ");switch(d.parameters=p.length?e.parseFmtp(p[0]):{},d.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),n.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(a=>{n.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(d=>d.type===c.type&&d.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),n},e.writeRtpDescription=function(t,n){let i="";i+="m="+t+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return n.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(t){const n=[],i=e.parseRtpParameters(t),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(t,"a=ssrc:").map(y=>e.parseSsrcMedia(y)).filter(y=>y.attribute==="cname"),c=a.length>0&&a[0].ssrc;let h;const d=e.matchPrefix(t,"a=ssrc-group:FID").map(y=>y.substring(17).split(" ").map(x=>parseInt(x,10)));d.length>0&&d[0].length>1&&d[0][0]===c&&(h=d[0][1]),i.codecs.forEach(y=>{if(y.name.toUpperCase()==="RTX"&&y.parameters.apt){let m={ssrc:c,codecPayloadType:parseInt(y.parameters.apt,10)};c&&h&&(m.rtx={ssrc:h}),n.push(m),s&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(m))}}),n.length===0&&c&&n.push({ssrc:c});let p=e.matchPrefix(t,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,n.forEach(y=>{y.maxBitrate=p})),n},e.parseRtcpParameters=function(t){const n={},i=e.matchPrefix(t,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=e.matchPrefix(t,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const o=e.matchPrefix(t,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(t){let n="";return t.reducedSize&&(n+=`a=rtcp-rsize\r
`),t.mux&&(n+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(n+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),n},e.parseMsid=function(t){let n;const i=e.matchPrefix(t,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=e.matchPrefix(t,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(t){const n=e.parseMLine(t),i=e.matchPrefix(t,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const a=e.matchPrefix(t,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},e.writeSctpDescription=function(t,n){let i=[];return t.protocol!=="DTLS/SCTP"?i=["m="+t.kind+" 9 "+t.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+t.kind+" 9 "+t.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,n,i){let s;const o=n!==void 0?n:2;return t?s=t:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,n){const i=e.splitLines(t);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const i=e.splitLines(t)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(t){const i=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const n=e.splitLines(t);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},r.exports=e}(fx)),fx.exports}var PR=_B();const ig=b2(PR),wB=DM({__proto__:null,default:ig},[PR]);function Zv(r){if(!r.RTCIceCandidate||r.RTCIceCandidate&&"foundation"in r.RTCIceCandidate.prototype)return;const e=r.RTCIceCandidate;r.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),s=ig.parseCandidate(n.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},r.RTCIceCandidate.prototype=e.prototype,Hp(r,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new r.RTCIceCandidate(t.candidate),writable:"false"}),t))}function N5(r){!r.RTCIceCandidate||r.RTCIceCandidate&&"relayProtocol"in r.RTCIceCandidate.prototype||Hp(r,"icecandidate",e=>{if(e.candidate){const t=ig.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function eb(r,e){if(!r.RTCPeerConnection)return;"sctp"in r.RTCPeerConnection.prototype||Object.defineProperty(r.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(a){if(!a||!a.sdp)return!1;const c=ig.splitSections(a.sdp);return c.shift(),c.some(h=>{const d=ig.parseMLine(h);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},n=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const h=parseInt(c[1],10);return h!==h?-1:h},i=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},s=function(a,c){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const d=ig.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?h=parseInt(d[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(h=2147483637),h},o=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const c=n(arguments[0]),h=i(c),d=s(arguments[0],c);let p;h===0&&d===0?p=Number.POSITIVE_INFINITY:h===0||d===0?p=Math.max(h,d):p=Math.min(h,d);const y={};Object.defineProperty(y,"maxMessageSize",{get(){return p}}),this._sctp=y}return o.apply(this,arguments)}}function tb(r){if(!(r.RTCPeerConnection&&"createDataChannel"in r.RTCPeerConnection.prototype))return;function e(n,i){const s=n.send;n.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(n.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const t=r.RTCPeerConnection.prototype.createDataChannel;r.RTCPeerConnection.prototype.createDataChannel=function(){const i=t.apply(this,arguments);return e(i,this),i},Hp(r,"datachannel",n=>(e(n.channel,n.target),n))}function P5(r){if(!r.RTCPeerConnection||"connectionState"in r.RTCPeerConnection.prototype)return;const e=r.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function L5(r,e){if(!r.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const t=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);r.RTCSessionDescription&&i instanceof r.RTCSessionDescription?arguments[0]=new r.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return t.apply(this,arguments)}}function nb(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(r.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function rb(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(r.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return t.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?t.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>t.apply(this,[o]))})}const xB=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:L5,shimAddIceCandidateNullOrEmpty:nb,shimConnectionState:P5,shimMaxMessageSize:eb,shimParameterlessSetLocalDescription:rb,shimRTCIceCandidate:Zv,shimRTCIceCandidateRelayProtocol:N5,shimSendThrowTypeError:tb},Symbol.toStringTag,{value:"Module"}));function SB({window:r}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=tR,n=vB(r),i={browserDetails:n,commonShim:xB,extractVersion:Qv,disableLog:gB,disableWarnings:yB,sdp:wB};switch(n.browser){case"chrome":if(!IE||!E5||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),i;if(n.version===null)return t("Chrome shim can not determine version, not shimming."),i;t("adapter.js shimming chrome."),i.browserShim=IE,nb(r,n),rb(r),rR(r,n),iR(r),E5(r,n),sR(r),cR(r,n),oR(r),aR(r),uR(r,n),Zv(r),N5(r),P5(r),eb(r,n),tb(r),L5(r,n);break;case"firefox":if(!ME||!T5||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),i;t("adapter.js shimming firefox."),i.browserShim=ME,nb(r,n),rb(r),hR(r,n),T5(r,n),dR(r),mR(r),fR(r),pR(r),gR(r),yR(r),vR(r),bR(r),_R(r),Zv(r),P5(r),eb(r,n),tb(r);break;case"safari":if(!OE||!e.shimSafari)return t("Safari shim is not included in this adapter release."),i;t("adapter.js shimming safari."),i.browserShim=OE,nb(r,n),rb(r),CR(r),TR(r),SR(r),wR(r),xR(r),ER(r),AR(r),NR(r),Zv(r),N5(r),eb(r,n),tb(r),L5(r,n);break;default:t("Unsupported browser!");break}return i}const DE=SB({window:typeof window>"u"?void 0:window});function Vp(r,e,t,n){Object.defineProperty(r,e,{get:t,set:n,enumerable:!0,configurable:!0})}class LR{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],n=e.byteLength,i=Math.ceil(n/this.chunkedMTU);let s=0,o=0;for(;o<n;){const a=Math.min(n,o+this.chunkedMTU),c=e.slice(o,a),h={__peerData:this._dataCount,n:s,data:c,total:i};t.push(h),o=a,s++}return this._dataCount++,t}}}function AB(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let n=0;for(const i of r)t.set(i,n),n+=i.byteLength;return t}const px=DE.default||DE,o1=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const r=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(r)?r==="chrome"?e>=this.minChromeVersion:r==="firefox"?e>=this.minFirefoxVersion:r==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return px.browserDetails.browser}getVersion(){return px.browserDetails.version||0}isUnifiedPlanSupported(){const r=this.getBrowser(),e=px.browserDetails.version||0;if(r==="chrome"&&e<this.minChromeVersion)return!1;if(r==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},kB=r=>!r||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(r),RR=()=>Math.random().toString(36).slice(2),jE={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class CB extends LR{noop(){}blobToArrayBuffer(e,t){const n=new FileReader;return n.onload=function(i){i.target&&t(i.target.result)},n.readAsArrayBuffer(e),n}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=jE,this.browser=o1.getBrowser(),this.browserVersion=o1.getVersion(),this.pack=QL,this.unpack=JL,this.supports=function(){const t={browser:o1.isBrowserSupported(),webRTC:o1.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let n;try{n=new RTCPeerConnection(jE),t.audioVideo=!0;let i;try{i=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!i.ordered;try{i.binaryType="blob",t.binaryBlob=!o1.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{n&&n.close()}return t}(),this.validateId=kB,this.randomToken=RR}}const Ao=new CB,EB="PeerJS: ";var BE;(function(r){r[r.Disabled=0]="Disabled",r[r.Errors=1]="Errors",r[r.Warnings=2]="Warnings",r[r.All=3]="All"})(BE||(BE={}));class TB{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[EB,...t];for(const i in n)n[i]instanceof Error&&(n[i]="("+n[i].name+") "+n[i].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}constructor(){this._logLevel=0}}var mt=new TB,ZA={},NB=Object.prototype.hasOwnProperty,io="~";function Q1(){}Object.create&&(Q1.prototype=Object.create(null),new Q1().__proto__||(io=!1));function PB(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function IR(r,e,t,n,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new PB(t,n||r,i),o=io?io+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],s]:r._events[o].push(s):(r._events[o]=s,r._eventsCount++),r}function ib(r,e){--r._eventsCount===0?r._events=new Q1:delete r._events[e]}function Ds(){this._events=new Q1,this._eventsCount=0}Ds.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)NB.call(t,n)&&e.push(io?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Ds.prototype.listeners=function(e){var t=io?io+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Ds.prototype.listenerCount=function(e){var t=io?io+e:e,n=this._events[t];return n?n.fn?1:n.length:0};Ds.prototype.emit=function(e,t,n,i,s,o){var a=io?io+e:e;if(!this._events[a])return!1;var c=this._events[a],h=arguments.length,d,p;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,s),!0;case 6:return c.fn.call(c.context,t,n,i,s,o),!0}for(p=1,d=new Array(h-1);p<h;p++)d[p-1]=arguments[p];c.fn.apply(c.context,d)}else{var y=c.length,m;for(p=0;p<y;p++)switch(c[p].once&&this.removeListener(e,c[p].fn,void 0,!0),h){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,t);break;case 3:c[p].fn.call(c[p].context,t,n);break;case 4:c[p].fn.call(c[p].context,t,n,i);break;default:if(!d)for(m=1,d=new Array(h-1);m<h;m++)d[m-1]=arguments[m];c[p].fn.apply(c[p].context,d)}}return!0};Ds.prototype.on=function(e,t,n){return IR(this,e,t,n,!1)};Ds.prototype.once=function(e,t,n){return IR(this,e,t,n,!0)};Ds.prototype.removeListener=function(e,t,n,i){var s=io?io+e:e;if(!this._events[s])return this;if(!t)return ib(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!i||o.once)&&(!n||o.context===n)&&ib(this,s);else{for(var a=0,c=[],h=o.length;a<h;a++)(o[a].fn!==t||i&&!o[a].once||n&&o[a].context!==n)&&c.push(o[a]);c.length?this._events[s]=c.length===1?c[0]:c:ib(this,s)}return this};Ds.prototype.removeAllListeners=function(e){var t;return e?(t=io?io+e:e,this._events[t]&&ib(this,t)):(this._events=new Q1,this._eventsCount=0),this};Ds.prototype.off=Ds.prototype.removeListener;Ds.prototype.addListener=Ds.prototype.on;Ds.prefixed=io;Ds.EventEmitter=Ds;ZA=Ds;var Wp={};Vp(Wp,"ConnectionType",()=>Oc);Vp(Wp,"PeerErrorType",()=>$r);Vp(Wp,"BaseConnectionErrorType",()=>Z1);Vp(Wp,"DataConnectionErrorType",()=>ey);Vp(Wp,"SerializationType",()=>y0);Vp(Wp,"SocketEventType",()=>Rc);Vp(Wp,"ServerMessageType",()=>Wi);var Oc;(function(r){r.Data="data",r.Media="media"})(Oc||(Oc={}));var $r;(function(r){r.BrowserIncompatible="browser-incompatible",r.Disconnected="disconnected",r.InvalidID="invalid-id",r.InvalidKey="invalid-key",r.Network="network",r.PeerUnavailable="peer-unavailable",r.SslUnavailable="ssl-unavailable",r.ServerError="server-error",r.SocketError="socket-error",r.SocketClosed="socket-closed",r.UnavailableID="unavailable-id",r.WebRTC="webrtc"})($r||($r={}));var Z1;(function(r){r.NegotiationFailed="negotiation-failed",r.ConnectionClosed="connection-closed"})(Z1||(Z1={}));var ey;(function(r){r.NotOpenYet="not-open-yet",r.MessageToBig="message-too-big"})(ey||(ey={}));var y0;(function(r){r.Binary="binary",r.BinaryUTF8="binary-utf8",r.JSON="json",r.None="raw"})(y0||(y0={}));var Rc;(function(r){r.Message="message",r.Disconnected="disconnected",r.Error="error",r.Close="close"})(Rc||(Rc={}));var Wi;(function(r){r.Heartbeat="HEARTBEAT",r.Candidate="CANDIDATE",r.Offer="OFFER",r.Answer="ANSWER",r.Open="OPEN",r.Error="ERROR",r.IdTaken="ID-TAKEN",r.InvalidKey="INVALID-KEY",r.Leave="LEAVE",r.Expire="EXPIRE"})(Wi||(Wi={}));var ek={};ek=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class LB extends ZA.EventEmitter{constructor(e,t,n,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+t+":"+n+i+"peerjs?key="+s}start(e,t){this._id=e;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(n+"&version="+ek.version),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),mt.log("Server message received:",s)}catch{mt.log("Invalid server message",i.data);return}this.emit(Rc.Message,s)},this._socket.onclose=i=>{this._disconnected||(mt.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Rc.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),mt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){mt.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Wi.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Rc.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class MR{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===Oc.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const n=this.connection,i={ordered:!!e.reliable},s=t.createDataChannel(n.label,i);n._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){mt.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;mt.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(mt.log(`Received ICE candidates for ${t}:`,o.candidate),s.socket.send({type:Wi.Candidate,payload:{candidate:o.candidate,type:i,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":mt.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(Z1.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":mt.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(Z1.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":mt.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},mt.log("Listening for data channel"),e.ondatachannel=o=>{mt.log("Received data channel");const a=o.channel;s.getConnection(t,n)._initializeDataChannel(a)},mt.log("Listening for remote stream"),e.ontrack=o=>{mt.log("Received remote stream");const a=o.streams[0],c=s.getConnection(t,n);if(c.type===Oc.Media){const h=c;this._addStreamToMediaConnection(a,h)}}}cleanup(){mt.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let n=!1;const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed"),(t||n)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createOffer(this.connection.options.constraints);mt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),mt.log("Set localDescription:",n,`for:${this.connection.peer}`);let i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Oc.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}t.socket.send({type:Wi.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError($r.WebRTC,i),mt.log("Failed to setLocalDescription, ",i))}}catch(n){t.emitError($r.WebRTC,n),mt.log("Failed to createOffer, ",n)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=await e.createAnswer();mt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{await e.setLocalDescription(n),mt.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:Wi.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){t.emitError($r.WebRTC,i),mt.log("Failed to setLocalDescription, ",i)}}catch(n){t.emitError($r.WebRTC,n),mt.log("Failed to create answer, ",n)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const n=this.connection.peerConnection,i=this.connection.provider;mt.log("Setting remote description",t);const s=this;try{await n.setRemoteDescription(t),mt.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(o){i.emitError($r.WebRTC,o),mt.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){mt.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),mt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError($r.WebRTC,t),mt.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(mt.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return mt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){mt.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class OR extends ZA.EventEmitter{emitError(e,t){mt.error("Error:",t),this.emit("error",new RB(`${e}`,t))}}class RB extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class FR extends OR{get open(){return this._open}constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}}var hA;const B1=class B1 extends FR{get type(){return Oc.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||B1.ID_PREFIX+Ao.randomToken(),this._negotiator=new MR(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){mt.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case Wi.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case Wi.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:mt.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){mt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const n=this.provider._getMessages(this.connectionId);for(const i of n)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};hA=new WeakMap,K(B1,hA,B1.ID_PREFIX="mc_");let Zb=B1;class IB{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:n,port:i,path:s,key:o}=this._options,a=new URL(`${t}://${n}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",ek.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){mt.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==Ao.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===Ao.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw mt.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var dA,fA;const xf=class xf extends FR{get type(){return Oc.Data}constructor(e,t,n){super(e,t,n),this.connectionId=this.options.connectionId||xf.ID_PREFIX+RR(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new MR(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{mt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{mt.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{mt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(ey.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case Wi.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case Wi.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:mt.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};dA=new WeakMap,fA=new WeakMap,K(xf,dA,xf.ID_PREFIX="dc_"),K(xf,fA,xf.MAX_BUFFERED_AMOUNT=8388608);let e_=xf;class tk extends e_{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>e_.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return mt.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class mx extends tk{close(e){super.close(e),this._chunkedData={}}constructor(e,t,n){super(e,t,n),this.chunker=new LR,this.serialization=y0.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=JL(e),n=t.__peerData;if(n){if(n.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=new Uint8Array(e.data),n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const i=AB(n.data);this._handleDataMessage({data:i})}}_send(e,t){const n=QL(e);if(n instanceof Promise)return this._send_blob(n);if(!t&&n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);mt.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const n of t)this.send(n,!0)}}class MB extends tk{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=y0.None}}class OB extends tk{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),n=t.__peerData;if(n&&n.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const n=this.encoder.encode(this.stringify(e));if(n.byteLength>=Ao.chunkedMTU){this.emitError(ey.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(n)}constructor(...e){super(...e),this.serialization=y0.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var pA;const U1=class U1 extends OR{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:MB,json:OB,binary:mx,"binary-utf8":mx,default:mx},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let n;if(e&&e.constructor==Object?t=e:e&&(n=e.toString()),t={debug:0,host:Ao.CLOUD_HOST,port:Ao.CLOUD_PORT,path:"/",key:U1.DEFAULT_KEY,token:Ao.randomToken(),config:Ao.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ao.CLOUD_HOST?this._options.secure=Ao.isSecure():this._options.host==Ao.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&mt.setLogFunction(this._options.logFunction),mt.logLevel=this._options.debug||0,this._api=new IB(t),this._socket=this._createServerConnection(),!Ao.supports.audioVideo&&!Ao.supports.data){this._delayedAbort($r.BrowserIncompatible,"The current browser does not support WebRTC");return}if(n&&!Ao.validateId(n)){this._delayedAbort($r.InvalidID,`ID "${n}" is invalid`);return}n?this._initialize(n):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort($r.ServerError,i))}_createServerConnection(){const e=new LB(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Rc.Message,t=>{this._handleMessage(t)}),e.on(Rc.Error,t=>{this._abort($r.SocketError,t)}),e.on(Rc.Disconnected,()=>{this.disconnected||(this.emitError($r.Network,"Lost connection to server."),this.disconnect())}),e.on(Rc.Close,()=>{this.disconnected||this._abort($r.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,n=e.payload,i=e.src;switch(t){case Wi.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Wi.Error:this._abort($r.ServerError,n.msg);break;case Wi.IdTaken:this._abort($r.UnavailableID,`ID "${this.id}" is taken`);break;case Wi.InvalidKey:this._abort($r.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Wi.Leave:mt.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Wi.Expire:this.emitError($r.PeerUnavailable,`Could not connect to peer ${i}`);break;case Wi.Offer:{const s=n.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),mt.warn(`Offer received for existing Connection ID:${s}`)),n.type===Oc.Media){const c=new Zb(i,this,{connectionId:s,_payload:n,metadata:n.metadata});o=c,this._addConnection(i,o),this.emit("call",c)}else if(n.type===Oc.Data){const c=new this._serializers[n.serialization](i,this,{connectionId:s,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable});o=c,this._addConnection(i,o),this.emit("connection",c)}else{mt.warn(`Received malformed connection type:${n.type}`);return}const a=this._getMessages(s);for(const c of a)o.handleMessage(c);break}default:{if(!n){mt.warn(`You received a malformed message from ${i} of type ${t}`);return}const s=n.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):mt.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError($r.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const n=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){mt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError($r.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){mt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Zb(e,this,{...n,_stream:t});return this._addConnection(e,i),i}_addConnection(e,t){mt.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(const i of n)if(i.connectionId===t)return i;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){mt.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(mt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;mt.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)mt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)mt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort($r.ServerError,t))}};pA=new WeakMap,K(U1,pA,U1.DEFAULT_KEY="peerjs");let R5=U1;var FB=R5;const Ka=M_((r,e)=>({streamMode:!1,streamData:[],streamSet:!1,streamYoutube:!1,pdfScroll:0,pdfCheck:!1,pdfScrollTop:0,startStreaming:!1,setStreamYoutube:t=>r({streamYoutube:t}),setPdfScroll:t=>r({pdfScroll:t}),checkAndLoadUrl:async t=>{await Nn.get(`/stream/check-url/?url=${t}`)},getStreamCreation:async()=>{const t=lr.getState().socket;t.on("stream",async n=>{console.log(n),n.stopTime==null?(r({streamData:n}),r({streamSet:!0})):(r({streamData:[]}),r({streamSet:!1}))}),t.on("streamControls",async(n,i,s)=>{r({pdfCheck:!e().pdfCheck}),setTimeout(async()=>{const o=e().pdfScroll,a=e().streamData;n==999999&&(a==null?void 0:a._id)==i._id?await Nn.get(`/stream/stream-control/${s}/${o}/${i._id}`):r({pdfScrollTop:n})},100)})},createStream:t=>new Promise(async(n,i)=>{try{const s=await Nn.post("/stream/create-stream",t);console.log(s),r({streamData:s.data}),n(s),sn.success("Stream created successfully")}catch(s){console.log(s),i(),sn.error("Couldn't create the stream")}}),getSpecificStream:t=>new Promise(async(n,i)=>{try{const s=ii.getState().selectedUser,o=await Nn.get(`/stream/get-specific-stream/${t}`),a=await Nn.get(`/stream/get-all-stream/${s._id}`);console.log("here ",o.data),r({streamData:{...o.data,allStream:a}}),console.log({...o.data[0],allStream:a.data}),n(o),sn.success("Stream created successfully")}catch(s){console.log(s),i(),sn.error("Couldn't create the stream")}}),getStream:async()=>{try{const t=ii.getState().selectedUser,n=await Nn.get(`/stream/get-stream/${t._id}`),i=await Nn.get(`/stream/get-all-stream/${t._id}`);console.log("check",n),n.data.length?(console.log("here ",n.data),r({streamData:{...n.data[0],allStream:i}}),console.log({...n.data[0],allStream:i})):r({streamData:{allStream:i}})}catch{r({streamData:[]})}},streamStart:async()=>{console.log("stream start")},endStream:async()=>{try{const t=ii.getState().selectedUser,n=await Nn.get(`/stream/end-stream/${t._id}`);sn.success("Stream ended successfully")}catch{sn.error("Couldn't end the stream")}},setStreamMode:t=>r({streamMode:t}),setStreamData:t=>r({streamData:t}),setStartStreaming:t=>r({startStreaming:t})})),ii=M_((r,e)=>({messages:[],users:[],groups:[],selectedUser:null,selectedUserSocketId:null,selectedGroup:null,isUsersLoading:!0,isMessagesLoading:!1,sidebarRefresh:!0,isUserMessageLoading:!1,newMessageFromUser:!1,setNewMsg:t=>r({newMessageFromUser:t}),setVideoCall:t=>r({videoCall:t}),getNotifications:async()=>{lr.getState().socket.on("notification",()=>{r({sidebarRefresh:!0})})},getUsers:async()=>{try{const t=await Nn.get("/messages/users");r({users:[...t.data]})}catch(t){sn.error(t.response.data.message)}finally{r({isUsersLoading:!1})}},addFriend:async t=>{try{const n=await Nn.patch(`/messages/add-friend/${t}`);r({users:n.data.updatedFriends}),sn.success("Friend added successfully"),r({sidebarRefresh:!0})}catch(n){sn.error(n.response.data.message)}},removeFriend:async t=>{try{const n=await Nn.patch(`/messages/add-friend/${t}`);r({users:n.data.updatedFriends}),sn.success("Friend removed successfully"),r({sidebarRefresh:!0})}catch(n){sn.error(n.response.data.message)}},createGroup:async t=>{try{const{groups:n}=e(),i=await Nn.post("/groups/create-group",t);r({groups:i.data.updatedGroups}),sn.success(i.data.message)}catch(n){sn.error(n.data.message)}},getMessages:async(t,n)=>{var i;n==1&&r({isMessagesLoading:!0});try{let s;t.fullName===void 0?s=await Nn.get(`/groups/get-group-messages/${t._id}`):s=await Nn.get(`/messages/${t._id}/${n}`);const o=lr.getState().socket;o.emit("getSocketId",t._id,o.id),console.log("dedo bro",t._id),s.data!=null&&r({messages:s.data});const a=e().newMessageFromUser;r({newMessageFromUser:!0})}catch(s){console.log(((i=s.response)==null?void 0:i.message)||"An error occurred while fetching messages.")}finally{r({isMessagesLoading:!1})}},getAiMessage:async t=>{const{selectedUser:n,messages:i}=e();try{let s={};n.fullName!==void 0?s=await Nn.post("/messages/ai-chat",{...t,receiverId:n._id,groupId:null}):s=await Nn.post("/messages/ai-chat",{...t,receiverId:null,groupId:n._id});const o={...s.data,_id:"1",senderId:"67af8f1706ba3b36e9679f9d",senderInfo:{fullName:"Rapid AI",profilePic:"https://imgcdn.stablediffusionweb.com/2024/10/20/a11e6805-65f5-4402-bef9-891ab7347104.jpg"}};r({messages:[...i,o]})}catch(s){sn.error(s.response.data.message)}},getStreamAiMessage:async t=>{var s,o,a;const{selectedUser:n,messages:i}=e();console.log("mes",t);try{let c={};if(n.fullName!==void 0){const d=Ka.getState().streamData;console.log("streamData",(s=d.streamInfo)==null?void 0:s.data),c=await Nn.post("/stream/stream-ai",{...t,data:(a=(o=d==null?void 0:d.streamInfo)==null?void 0:o.data)==null?void 0:a.slice(0,5800),receiverId:n._id,groupId:null})}else c=await Nn.post("/stream/stream-ai",{...t,receiverId:null,groupId:n._id});const h={...c.data,_id:"1",senderId:"67af8f1706ba3b36e9679f9d",senderInfo:{fullName:"Rapid AI",profilePic:"https://imgcdn.stablediffusionweb.com/2024/10/20/a11e6805-65f5-4402-bef9-891ab7347104.jpg"}};r({messages:[...i,h]})}catch(c){console.log(c),sn.error("error in getting stream ai message"+c)}},sendMessage:async t=>{const{selectedUser:n,messages:i}=e();try{let s;n.name!==void 0?s=await Nn.post("/groups/send-group-message",{...t,groupId:n._id}):s=await Nn.post(`/messages/send/${n._id}`,t),r({messages:[...i,s.data]}),r({sidebarRefresh:!0})}catch(s){sn.error(s.response.data.message)}finally{}},sendImage:async t=>{const{selectedUser:n,messages:i}=e();try{const s=await Nn.post(`/messages/send-image/${n._id}`,t);r({messages:[...i,s.data]}),r({sidebarRefresh:!0})}catch(s){sn.error(s.response.data.message)}},endStream:async()=>{try{const{selectedUser:t}=e(),n=await Nn.get(`/auth/user/end-stream/${t._id}`);console.log("here ",n.data),sn.success("Stream ended successfully")}catch{sn.error("Couldn't end the stream")}},subscribeToMessages:()=>{const{selectedUser:t}=e();if(!t)return;const n=lr.getState().socket;n.on("takeSocketId",i=>{r({selectedUserSocketId:i}),console.log("lelo bro",i)}),n.on("newMessage",i=>{r({sidebarRefresh:!0}),i.senderId===t._id&&r({messages:[...e().messages,i]})})},subscribeToGroup:()=>{const{selectedUser:t}=e(),n=lr.getState().socket,i=lr.getState().authUser;n.emit("joinGroup",{groupId:t._id,userId:i._id}),n.on("receiveGroupMessage",s=>{r({sidebarRefresh:!0}),s.groupId===t._id&&r({messages:[...e().messages,s]})}),n.on("recieveGroupVideoCall",s=>{r({sidebarRefresh:!0}),s.groupId===t._id&&r({messages:[...e().messages,s]})})},unsubscribeFromMessages:()=>{const t=lr.getState().socket,{selectedUser:n}=e();n!=null&&n.fullName?t.off("newMessage"):t.off("receiveGroupMessage")},setSelectedUser:t=>r({selectedUser:t}),setSidebarRefresh:t=>r({sidebarRefresh:t})})),DB="http://localhost:3000/",lr=M_((r,e)=>({authUser:null,isSigningUp:!1,isLoggingIn:!1,isUpdatingProfile:!1,isCheckingAuth:!0,onlineUsers:[],socket:null,peer:null,peerId:null,friendPeerId:null,callerName:null,videoPeer:null,setVideoPeer:t=>{r({videoPeer:t})},removePeerId:()=>{r({friendPeerId:null})},checkAuth:async()=>{try{const t=await Nn.get("/auth/check");r({authUser:t.data}),e().connectSocket()}catch(t){console.log("Error in checkAuth:",t),r({authUser:null})}finally{r({isCheckingAuth:!1})}},signup:async t=>{r({isSigningUp:!0});try{const n=await Nn.post("/auth/signup",t);r({authUser:n.data}),sn.success("Account created successfully"),e().connectSocket()}catch(n){sn.error(n.response.data.message)}finally{r({isSigningUp:!1})}},login:async t=>{var n;r({isLoggingIn:!0});try{const i=await Nn.post("/auth/login",t);r({authUser:i.data}),sn.success("Logged in successfully"),e().connectSocket()}catch(i){sn.error((n=i.response)==null?void 0:n.data.message)}finally{r({isLoggingIn:!1})}},logout:async()=>{try{await Nn.post("/auth/logout"),r({authUser:null}),sn.success("Logged out successfully"),e().disconnectSocket()}catch(t){sn.error(t.response.data.message)}},getPeerId:()=>{const t=ii.getState().selectedUser,n=e().authUser,i=e().socket;console.log("calling"),t.name!==void 0?i.emit("get-peer-id",t,n,!0):i.emit("get-peer-id",t._id,n,!1)},updateProfile:async t=>{r({isUpdatingProfile:!0});try{const n=await Nn.put("/auth/update-profile",t);r({authUser:n.data}),sn.success("Profile updated successfully")}catch(n){console.log("error in update profile:",n),sn.error(n.response.data.message)}finally{r({isUpdatingProfile:!1})}},connectSocket:()=>{var s;const{authUser:t}=e();if(!t||(s=e().socket)!=null&&s.connected)return;const n=Jv(DB,{query:{userId:t._id}});n.connect(),r({socket:n}),console.log("socket",n),n.on("getOnlineUsers",o=>{r({onlineUsers:o})}),n.on("send-local-peer-id",(o,a)=>{console.log("sending local peer id");const c=e().peerId;a(c)}),n.on("get-local-peer-id",(o,a)=>{r({callerName:a.fullName});const c=ii.getState().setSelectedUser,h=ii.getState().setVideoCall;c({...a}),h(!0),console.log("getting local peer id",o);const d=e().peerId;console.log("this is peerid",d),e().socket.emit("send-peer-id",d,o)}),n.on("take-peer-id",o=>{console.log("taking peer id here",o),r({friendPeerId:o})});const i=new FB;r({peer:i}),i.on("open",o=>{r({peerId:o}),console.log("do now")})},disconnectSocket:()=>{var t;(t=e().socket)!=null&&t.connected&&e().socket.disconnect()}})),jB=()=>{const r=Y.useRef(null),{logout:e,authUser:t}=lr(),{addFriend:n}=ii(),[i,s]=Y.useState(!1),[o,a]=Y.useState(""),{contextSafe:c}=$A(),h=c(()=>{_f.to(r.current,{x:"0vw"}),s(!1),setTimeout(()=>{let y=_f.timeline({paused:!0});const m=document.getElementById("backDiv");y.to(m,{opacity:0}),y.to(m,{display:"none"}),y.play()},100)}),d=c(()=>{const y=document.getElementById("backDiv");_f.to(y,{display:"block"}),_f.to(r.current,{x:"-30vw"}),_f.to(y,{opacity:.7})}),p=()=>{n(o)};return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:d,children:E.jsx(eF,{})}),E.jsxs("div",{className:"",children:[E.jsx("div",{id:"backDiv",className:"bg-black hidden opacity-0 absolute top-0 left-0 w-screen h-screen z-[100] "}),E.jsxs("div",{ref:r,className:"w-[20vw] mr-[-30vw] h-screen rounded-l-md right-0 fixed bg-base-300 top-0 z-[101]",children:[E.jsx("button",{className:"ml-[-1.34rem] w-[1.33rem] absolute bg-base-100 text-sm h-10 mt-5 rounded-l-sm z-[99]",onClick:()=>{h()},children:E.jsx(N7,{})}),E.jsxs("div",{children:[E.jsx("div",{className:"px-5 pt-5 rounded-sm flex justify-center items-center overflow-hidden max-h-[50vh] max-w-full",children:E.jsx("img",{src:t==null?void 0:t.profilePic,alt:""})}),E.jsx("h1",{className:"w-full text-center text-3xl font-bold",children:t==null?void 0:t.fullName})]}),E.jsx("div",{className:"flex items-center  px-4 py-5 gap-4 flex-col",children:t&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",onChange:y=>a(y.target.value)}),E.jsx("button",{onClick:p,children:"add"}),E.jsxs(ha,{to:"/profile",onClick:()=>{h()},className:"btn btn-sm gap-2 w-full",children:[E.jsx(kA,{className:"size-5"}),E.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),E.jsxs(ha,{onClick:()=>{h()},to:"/create-group",className:"btn btn-sm w-full gap-2 transition-colors",children:[E.jsx($1,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline",children:"Create Group"})]}),E.jsxs(ha,{onClick:()=>{h()},to:"/settings",className:"btn btn-sm w-full gap-2 transition-colors",children:[E.jsx(vF,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),E.jsxs("button",{onClick:()=>{h(),e()},className:"flex gap-2 items-center",children:[E.jsx(X7,{className:"size-5"}),E.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})]})]})},BB=()=>E.jsx("header",{className:`bg-base-100 border-b border-base-300 fixed w-full top-0 z-40 
    backdrop-blur-lg bg-base-100/80`,children:E.jsx("div",{className:"container mx-auto px-4 h-16",children:E.jsxs("div",{className:"flex items-center justify-between h-full",children:[E.jsx("div",{className:"flex items-center gap-8",children:E.jsxs(ha,{to:"/",className:"flex items-center gap-2.5 hover:opacity-80 transition-all",children:[E.jsx("div",{className:"size-9 rounded-lg bg-primary/10 flex items-center justify-center",children:E.jsx(Lp,{className:"w-5 h-5 text-primary"})}),E.jsx("h1",{className:"text-lg font-bold",children:"Stream N Chat"})]})}),E.jsx("div",{children:E.jsx(jB,{})})]})})}),UB=({texts:r,speed:e=100})=>{const[t,n]=Y.useState(""),[i,s]=Y.useState(0),[o,a]=Y.useState(0),c=Y.useRef(null);return Y.useEffect(()=>{var p;if(console.log(r==null?void 0:r.data),r.data==null||((p=r==null?void 0:r.data)==null?void 0:p.length)===0||(r==null?void 0:r.length)===0)return;c.current.style.display="inline";const h=r==null?void 0:r.data[i],d=setInterval(()=>{n(y=>y+h.charAt(o)),a(y=>{const m=y+1;return m===h.length&&(setTimeout(()=>{n(""),a(0),s(x=>(x+1)%(r==null?void 0:r.data.length))},1e3),clearInterval(d)),m})},e);return()=>clearInterval(d)},[r,i,o,e]),E.jsxs("p",{className:"text-[2rem] leading-relaxed",children:[t,E.jsx("span",{ref:c,className:"animate-pulse hidden",children:"|"})]})};function nk(r=[]){return E.jsx("div",{children:E.jsxs("div",{role:"status",className:"m-auto w-fit items-center justify-center flex flex-col p-4 z-50",children:[E.jsxs("svg",{"aria-hidden":"true",className:"   w-10 h-10 fill-primary-content    animate-spin text-secondary  ",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"   sr-only",children:"Loading..."}),E.jsx(UB,{texts:r,speed:200})]})})}const zB=()=>{const{socket:r}=lr(),{selectedUserSocketId:e}=ii(),[t,n]=Y.useState(!1),[i,s]=Y.useState(!1),[o,a]=Y.useState("disconnected"),[c,h]=Y.useState(""),d=Y.useRef(null),p=Y.useRef(null),y=Y.useRef(null),m=Y.useRef(null),x={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};Y.useEffect(()=>{if(!r||!r.id){h("Socket or user ID not provided");return}const O=()=>{const F=new RTCPeerConnection(x);return F.onicecandidate=H=>{H.candidate&&r.emit("ice-candidate",{candidate:H.candidate,to:e})},F.ontrack=H=>{p.current&&(p.current.srcObject=H.streams[0],s(!0),a("connected"))},F.onconnectionstatechange=()=>{a(F.connectionState),(F.connectionState==="failed"||F.connectionState==="disconnected")&&(h("Connection failed or disconnected"),s(!1))},F};y.current=O();const U=async F=>{try{await y.current.setRemoteDescription(F.offer);const H=await y.current.createAnswer();await y.current.setLocalDescription(H),r.emit("answer",{answer:H,to:F.from})}catch(H){h("Failed to handle offer: "+H.message)}},B=async F=>{try{await y.current.setRemoteDescription(F.answer)}catch(H){h("Failed to handle answer: "+H.message)}},j=async F=>{try{await y.current.addIceCandidate(F.candidate)}catch(H){h("Failed to add ICE candidate: "+H.message)}},D=async F=>{console.log("is it confirming?"),r.emit("screen-share-response",{accepted:!0,to:F.from})},se=async F=>{F.accepted?await _():(h("Screen share request was declined"),S())};return r.on("offer",U),r.on("answer",B),r.on("ice-candidate",j),r.on("screen-share-request",D),r.on("screen-share-response",se),()=>{r.off("offer",U),r.off("answer",B),r.off("ice-candidate",j),r.off("screen-share-request",D),r.off("screen-share-response",se),y.current&&y.current.close(),m.current&&m.current.getTracks().forEach(F=>F.stop())}},[r,r.id,e]);const _=async()=>{try{const O=await y.current.createOffer();await y.current.setLocalDescription(O),r.emit("offer",{offer:O,to:e})}catch(O){h("Failed to create offer: "+O.message)}},A=async()=>{try{h("");const O=await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen",width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!0});m.current=O,d.current&&(d.current.srcObject=O),O.getTracks().forEach(U=>{y.current.addTrack(U,O)}),O.getVideoTracks()[0].onended=()=>{S()},n(!0),e?r.emit("screen-share-request",{from:r.id,to:e}):await _()}catch(O){O.name==="NotAllowedError"?h("Screen sharing permission denied"):O.name==="NotSupportedError"?h("Screen sharing not supported in this browser"):h("Failed to start screen sharing: "+O.message)}},S=()=>{m.current&&(m.current.getTracks().forEach(O=>O.stop()),m.current=null),d.current&&(d.current.srcObject=null),y.current&&(y.current.close(),y.current=new RTCPeerConnection(x)),n(!1),a("disconnected"),window.location.href="/",h("")},N=()=>{p.current&&(p.current.srcObject=null),s(!1)},I=()=>{switch(o){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-500"}},R=()=>o==="connected"?E.jsx(RF,{className:"w-4 h-4"}):E.jsx(PF,{className:"w-4 h-4"});return E.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-base-100 rounded-lg text-content  ",children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[E.jsx($1,{className:"w-6 h-6"}),"P2P Screen Share"]}),E.jsxs("div",{className:"flex items-center gap-4 text-sm  ",children:[E.jsxs("span",{children:["User ID: ",E.jsx("code",{className:" bg-base-content text-base-100 px-2 py-1 rounded",children:r.id})]}),e&&E.jsxs("span",{children:["Target: ",E.jsx("code",{className:"  px-2 py-1 rounded",children:e})]}),E.jsxs("div",{className:`flex items-center gap-1 ${I()}`,children:[R(),E.jsx("span",{className:"capitalize",children:o})]})]})]}),c&&E.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[E.jsx(L7,{className:"w-4 h-4"}),E.jsx("span",{children:c})]}),E.jsxs("div",{className:" ",children:[E.jsx("div",{className:"space-y-4",children:E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("button",{onClick:t?S:A,disabled:!r||!r.id,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed"}`,children:t?E.jsxs(E.Fragment,{children:[E.jsx(Qw,{className:"w-4 h-4"}),"Stop Sharing"]}):E.jsxs(E.Fragment,{children:[E.jsx(oF,{className:"w-4 h-4"}),"Start Sharing"]})})})}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Remote Screen"}),i&&E.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:[E.jsx(Qw,{className:"w-4 h-4"}),"Stop receiving"]})]}),E.jsxs("div",{className:"relative bg-base-300  rounded-lg overflow-hidden aspect-video",children:[E.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"}),i?E.jsxs("div",{className:"absolute mt-[-2.3rem] right-[2rem] flex gap-3 ",children:[E.jsx(Qw,{className:" w-5 text-red-500"}),E.jsx(rF,{className:"w-5"}),E.jsx(D7,{})]}):E.jsx("div",{className:"absolute inset-0 flex  items-center justify-center text-gray-500",children:E.jsxs("div",{className:"text-center",children:[E.jsx($1,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),E.jsx("p",{children:"Waiting for remote screen share..."})]})})]})]})]})]})},qB=()=>{const r=Array(8).fill(null);return E.jsxs("aside",{className:`h-full w-20   lg:w-72 border-r border-base-300 
    flex flex-col transition-all duration-200`,children:[E.jsx("div",{className:"border-b border-base-300 w-full p-5",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx($1,{className:"w-6 h-6"}),E.jsx("span",{className:"font-medium hidden lg:block",children:"Contacts"})]})}),E.jsx("div",{className:"overflow-y-auto  py-3",children:r.map((e,t)=>E.jsxs("div",{className:"w-full p-3 flex items-center gap-3",children:[E.jsx("div",{className:"relative mx-auto lg:mx-0",children:E.jsx("div",{className:"skeleton size-12 rounded-full"})}),E.jsxs("div",{className:"hidden lg:block text-left min-w-0 flex-1",children:[E.jsx("div",{className:"skeleton h-4 w-32 mb-2"}),E.jsx("div",{className:"skeleton h-3 w-16"})]})]},t))})]})},$B=()=>{const{getUsers:r,getNotifications:e,sidebarRefresh:t,setSidebarRefresh:n,groups:i,users:s,selectedUser:o,setSelectedUser:a,isUsersLoading:c,addFriend:h}=ii(),{getStreamCreation:d,streamMode:p}=Ka(),{onlineUsers:y,authUser:m}=lr(),[x,_]=Y.useState("");Y.useEffect(()=>{t&&(r(),console.log(m),console.log("refreshih",t),n(!1))},[t]),Y.useEffect(()=>{e(),d(),r()},[]);const A=[...s,...i];return c?E.jsx(qB,{}):E.jsxs("aside",{className:`h-full w-24 ${p?" ":"lg:w-72"} border-r border-base-300 flex flex-col transition-all duration-200`,children:[E.jsx("div",{className:"border-b border-base-300 w-full p-5",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx($1,{className:"size-6"}),E.jsx("span",{className:`hidden ${p?"":"lg:block "} font-medium  `,children:"Contacts"})]})}),E.jsxs("div",{className:"overflow-y-auto w-full py-3",children:[A.map(S=>{var N,I,R,O,U;return E.jsxs("button",{onClick:()=>a(S),className:`
              w-full p-3 flex items-center gap-3
              hover:bg-base-300 transition-colors
              ${(o==null?void 0:o._id)===S._id?"bg-base-300 ring-1 ring-base-300":""}
            `,children:[E.jsxs("div",{className:"relative mx-auto lg:mx-0",children:[E.jsx("img",{loading:"blur",src:S.name!==void 0?S.profilePic||"/group.png":S.profilePic||"/avatar.png",alt:S.name,className:"size-12 object-cover rounded-full brightness-95"}),y.includes(S._id)&&E.jsx("span",{className:`absolute bottom-0 right-0 size-3 bg-green-500 \r
                  rounded-full ring-2 ring-zinc-900`})]}),E.jsxs("div",{className:`hidden ${p?"":"lg:block "} text-left min-w-0`,children:[E.jsx("div",{className:"font-medium truncate",children:S.fullName||S.name}),E.jsxs("div",{className:"text-sm text-zinc-400 flex",children:[S.name&&E.jsx("span",{className:"text-green-400 font-semibold pr-1",children:((N=S==null?void 0:S.timeline)==null?void 0:N.senderId)==m._id?"You :":"Idk :"}),E.jsxs("div",{className:"overflow-x-hidden flex ",children:[E.jsx("span",{children:(R=(I=S==null?void 0:S.timeline)==null?void 0:I.text)==null?void 0:R.slice(0,20)})," ",E.jsxs("span",{children:[" ",((U=(O=S==null?void 0:S.timeline)==null?void 0:O.text)==null?void 0:U.length)>=20?"...":""]})]})]})]})]},S._id)}),A.length===0&&E.jsx("div",{className:"text-center text-zinc-500 py-4",children:"No online users"})]})]})},HB=()=>{var N,I;const[r,e]=Y.useState("");oh();const[t,n]=Y.useState(""),i=Y.useRef(null),{authUser:s}=lr(),[o,a]=Y.useState(!1),{selectedUser:c}=ii(),{setPdfScroll:h,pdfCheck:d,checkAndLoadUrl:p,pdfScrollTop:y,setStreamData:m,setStartStreaming:x,endStream:_,streamData:A}=Ka();Y.useEffect(()=>{i.current&&(h(i.current.scrollTop),console.log(`Scroll Top: ${i.current.scrollTop}`))},[d]),Y.useEffect(()=>{console.log("pdfScrollTop",y),i.current&&(i.current.scrollTop=y)},[y]);const S=async R=>{if(a(!0),R.preventDefault(),!r){sn.error("No URL provided"),a(!1);return}let O=r.trim();console.log("formattedUrl",O),!O.startsWith("http://")&&!O.startsWith("https://")&&(O="https://"+O);try{await p(O),new URL(O),n(O)}catch{sn.error("URL is not embeddable. Please try another.")}finally{a(!1)}};return E.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",children:[E.jsx("div",{className:"w-full px-8  justify-end flex",children:E.jsxs(ha,{className:" btn",to:"/stream",children:[E.jsx(x2,{})," "]})}),t?E.jsxs("div",{className:"w-full  max-w-4xl h-[75vh] border border-gray-300 rounded-lg overflow-hidden shadow-md",children:[E.jsx("iframe",{ref:i,src:t,title:"Website Preview",className:"w-full h-full",onError:()=>{sn.error("URL is not working/valid. Please try another URL."),m([]),_()}}),((N=A==null?void 0:A.senderInfo)==null?void 0:N.fullName)!==(s==null?void 0:s.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:async()=>{await Nn.get(`/auth/user/stream-control/${c._id}/999999/${A._id}`)},children:"Seek"}),((I=A==null?void 0:A.senderInfo)==null?void 0:I.fullName)===(s==null?void 0:s.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:()=>{x(!1),m([]),_()},children:"End Stream"})]}):E.jsxs(E.Fragment,{children:[E.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",E.jsx("span",{className:"ml-2 text-base-300 invert ",children:"Stream N Chat"})," ",E.jsx(Lp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]}),E.jsxs("form",{onSubmit:S,className:"flex flex-col my-4 gap-2 w-full max-w-md",children:[E.jsx("input",{type:"text",placeholder:"Enter website URL",value:r,onChange:R=>e(R.target.value),className:"input input-bordered w-full"}),E.jsx("button",{type:"submit",disabled:o,className:"btn   btn-primary w-full disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg  transition",children:"Load"}),o&&E.jsx(nk,{})]})]})]})},VB=()=>E.jsx("div",{className:"w-[70vw] flex flex-1 flex-col items-center justify-center p-16 bg-base-100/50",children:E.jsxs("div",{className:"max-w-md text-center space-y-6",children:[E.jsx("div",{className:"flex justify-center gap-4 mb-4",children:E.jsx("div",{className:"relative",children:E.jsx("div",{className:`w-16 h-16 rounded-2xl bg-primary/10 flex items-center
             justify-center animate-bounce`,children:E.jsx(AA,{className:"w-8 h-8 text-primary "})})})}),E.jsx("h2",{className:"text-2xl font-bold",children:"Welcome to Stream N Chat!"}),E.jsx("p",{className:"text-base-content/60",children:"Select a conversation from the sidebar to start chatting"})]})});function DR(r){return new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}function UE(r,e,t,n,i,s,o){try{var a=r[s](o),c=a.value}catch(h){t(h);return}a.done?e(c):Promise.resolve(c).then(n,i)}function Ef(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var s=r.apply(e,t);function o(c){UE(s,n,i,o,a,"next",c)}function a(c){UE(s,n,i,o,a,"throw",c)}o(void 0)})}}var gx,zE;function WB(){if(zE)return gx;zE=1;var r="Expected a function",e=NaN,t="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c=typeof window=="object"&&window&&window.Object===Object&&window,h=typeof self=="object"&&self&&self.Object===Object&&self,d=c||h||Function("return this")(),p=Object.prototype,y=p.toString,m=Math.max,x=Math.min,_=function(){return d.Date.now()};function A(O,U,B){var j,D,se,F,H,ne,ee=0,me=!1,ge=!1,de=!0;if(typeof O!="function")throw new TypeError(r);U=R(U)||0,S(B)&&(me=!!B.leading,ge="maxWait"in B,se=ge?m(R(B.maxWait)||0,U):se,de="trailing"in B?!!B.trailing:de);function ie(fe){var Ce=j,ke=D;return j=D=void 0,ee=fe,F=O.apply(ke,Ce),F}function ye(fe){return ee=fe,H=setTimeout(M,U),me?ie(fe):F}function be(fe){var Ce=fe-ne,ke=fe-ee,xe=U-Ce;return ge?x(xe,se-ke):xe}function Z(fe){var Ce=fe-ne,ke=fe-ee;return ne===void 0||Ce>=U||Ce<0||ge&&ke>=se}function M(){var fe=_();if(Z(fe))return J(fe);H=setTimeout(M,be(fe))}function J(fe){return H=void 0,de&&j?ie(fe):(j=D=void 0,F)}function re(){H!==void 0&&clearTimeout(H),ee=0,j=ne=D=H=void 0}function ue(){return H===void 0?F:J(_())}function pe(){var fe=_(),Ce=Z(fe);if(j=arguments,D=this,ne=fe,Ce){if(H===void 0)return ye(ne);if(ge)return H=setTimeout(M,U),ie(ne)}return H===void 0&&(H=setTimeout(M,U)),F}return pe.cancel=re,pe.flush=ue,pe}function S(O){var U=typeof O;return!!O&&(U=="object"||U=="function")}function N(O){return!!O&&typeof O=="object"}function I(O){return typeof O=="symbol"||N(O)&&y.call(O)==t}function R(O){if(typeof O=="number")return O;if(I(O))return e;if(S(O)){var U=typeof O.valueOf=="function"?O.valueOf():O;O=S(U)?U+"":U}if(typeof O!="string")return O===0?O:+O;O=O.replace(n,"");var B=s.test(O);return B||o.test(O)?a(O.slice(2),B?2:8):i.test(O)?e:+O}return gx=A,gx}var GB=WB();const YB=b2(GB),Km=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),XB=r=>r===Km;var t_=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const n_=(...r)=>r.map(e=>e.trim()).join(" ").trim(),KB=/\s*\((.*?)\)\s*/g,JB=/(\(\?:[^)]+\))\?/g,QB=/(\(\?)?:\w+/g,ZB=/\*/g,eU=/[-{}[\]+?.,\\^$|#]/g,tU=r=>r instanceof RegExp?new RegExp(r.source,"i"):(r=r.replace(eU,"\\$&").replace(KB,"(?:$1)?").replace(QB,(e,t)=>t?e:"([^\\s]+)").replace(ZB,"(.*?)").replace(JB,"\\s*$1?\\s*"),new RegExp("^"+r+"$","i")),nU=(r,e)=>{if(r=r.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!r.length&&!e.length)return 1;if(!r.length||!e.length)return 0;if(r===e)return 1;if(r.length===1&&e.length===1||r.length<2||e.length<2)return 0;const t=new Map;for(let i=0;i<r.length-1;i++){const s=r.substring(i,i+2),o=t.has(s)?t.get(s)+1:1;t.set(s,o)}let n=0;for(let i=0;i<e.length-1;i++){const s=e.substring(i,i+2),o=t.has(s)?t.get(s):0;o>0&&(t.set(s,o-1),n++)}return 2*n/(r.length+e.length-2)},jR=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class yx{setSpeechRecognition(e){const t=!!e&&(XB(e)||jR());t&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(t)}subscribe(e,t){this.subscribers[e]=t}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(t=>{const{onListeningChange:n}=this.subscribers[t];n(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(t=>{const{onMicrophoneAvailabilityChange:n}=this.subscribers[t];n(e)})}emitTranscriptChange(e,t){Object.keys(this.subscribers).forEach(n=>{const{onTranscriptChange:i}=this.subscribers[n];i(e,t)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{const{onClearTranscript:t}=this.subscribers[e];t()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(t=>{const{onBrowserSupportsSpeechRecognitionChange:n,onBrowserSupportsContinuousListeningChange:i}=this.subscribers[t];n(e),i(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&e.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:e,resultIndex:t}){const n=t===void 0?e.length-1:t;this.interimTranscript="",this.finalTranscript="";for(let s=n;s<e.length;++s)e[s].isFinal&&(!t_()||e[s][0].confidence>0)?this.updateFinalTranscript(e[s][0].transcript):this.interimTranscript=n_(this.interimTranscript,e[s][0].transcript);let i=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(i=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,i||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=n_(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening(){return Ef(function*({continuous:e=!1,language:t}={}){if(!this.recognition)return;const n=e!==this.recognition.continuous,i=t&&t!==this.recognition.lang;if((n||i)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=n?e:this.recognition.continuous,this.recognition.lang=i?t:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(s){s instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return Ef(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}stopListening(){return Ef(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}getRecognition(){return this.recognition}start(){return Ef(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),t_()&&(this.updateFinalTranscript=YB(this.updateFinalTranscript,250,{leading:!0}))}}const BR="CLEAR_TRANSCRIPT",UR="APPEND_TRANSCRIPT",rU=()=>({type:BR}),iU=(r,e)=>({type:UR,payload:{interimTranscript:r,finalTranscript:e}}),sU=(r,e)=>{switch(e.type){case BR:return{interimTranscript:"",finalTranscript:""};case UR:return{interimTranscript:e.payload.interimTranscript,finalTranscript:n_(r.finalTranscript,e.payload.finalTranscript)};default:throw new Error}};let Jm=!!Km,sb=Jm&&!t_(),fu;const oU=({transcribing:r=!0,clearTranscriptOnListen:e=!0,commands:t=[]}={})=>{const[n]=Y.useState(Xu.getRecognitionManager()),[i,s]=Y.useState(Jm),[o,a]=Y.useState(sb),[{interimTranscript:c,finalTranscript:h},d]=Y.useReducer(sU,{interimTranscript:n.interimTranscript,finalTranscript:""}),[p,y]=Y.useState(n.listening),[m,x]=Y.useState(n.isMicrophoneAvailable),_=Y.useRef(t);_.current=t;const A=()=>{d(rU())},S=Y.useCallback(()=>{n.resetTranscript(),A()},[n]),N=(j,D,se)=>{const H=(typeof j=="object"?j.toString():j).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),ne=nU(H,D);return ne>=se?{command:j,commandWithoutSpecials:H,howSimilar:ne,isFuzzyMatch:!0}:null},I=(j,D)=>{const F=tU(j).exec(D);return F?{command:j,parameters:F.slice(1)}:null},R=Y.useCallback((j,D)=>{_.current.forEach(({command:se,callback:F,matchInterim:H=!1,isFuzzyMatch:ne=!1,fuzzyMatchingThreshold:ee=.8,bestMatchOnly:me=!1})=>{const ge=!D&&H?j.trim():D.trim(),ie=(Array.isArray(se)?se:[se]).map(ye=>ne?N(ye,ge,ee):I(ye,ge)).filter(ye=>ye);if(ne&&me&&ie.length>=2){ie.sort((M,J)=>J.howSimilar-M.howSimilar);const{command:ye,commandWithoutSpecials:be,howSimilar:Z}=ie[0];F(be,ge,Z,{command:ye,resetTranscript:S})}else ie.forEach(ye=>{if(ye.isFuzzyMatch){const{command:be,commandWithoutSpecials:Z,howSimilar:M}=ye;F(Z,ge,M,{command:be,resetTranscript:S})}else{const{command:be,parameters:Z}=ye;F(...Z,{command:be,resetTranscript:S})}})})},[S]),O=Y.useCallback((j,D)=>{r&&d(iU(j,D)),R(j,D)},[R,r]),U=Y.useCallback(()=>{e&&A()},[e]);return Y.useEffect(()=>{const j=Xu.counter;Xu.counter+=1;const D={onListeningChange:y,onMicrophoneAvailabilityChange:x,onTranscriptChange:O,onClearTranscript:U,onBrowserSupportsSpeechRecognitionChange:s,onBrowserSupportsContinuousListeningChange:a};return n.subscribe(j,D),()=>{n.unsubscribe(j)}},[r,e,n,O,U]),{transcript:n_(h,c),interimTranscript:c,finalTranscript:h,listening:p,isMicrophoneAvailable:m,resetTranscript:S,browserSupportsSpeechRecognition:i,browserSupportsContinuousListening:o}},Xu={counter:0,applyPolyfill:r=>{fu?fu.setSpeechRecognition(r):fu=new yx(r);const e=!!r&&jR();Jm=e,sb=e},removePolyfill:()=>{fu?fu.setSpeechRecognition(Km):fu=new yx(Km),Jm=!!Km,sb=Jm&&!t_()},getRecognitionManager:()=>(fu||(fu=new yx(Km)),fu),getRecognition:()=>Xu.getRecognitionManager().getRecognition(),startListening:({continuous:r,language:e}={})=>Ef(function*(){yield Xu.getRecognitionManager().startListening({continuous:r,language:e})})(),stopListening:()=>Ef(function*(){yield Xu.getRecognitionManager().stopListening()})(),abortListening:()=>Ef(function*(){yield Xu.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>Jm,browserSupportsContinuousListening:()=>sb},aU=()=>{const{transcript:r,listening:e,resetTranscript:t,browserSupportsSpeechRecognition:n}=oU();return n?E.jsxs("div",{children:[E.jsxs("p",{children:["Microphone: ",e?"on":"off"]}),E.jsx("button",{onClick:Xu.startListening,children:"Start"}),E.jsx("button",{onClick:Xu.stopListening,children:"Stop"}),E.jsx("button",{onClick:t,children:"Reset"}),E.jsx("p",{children:r})]}):E.jsx("span",{children:"Browser doesn't support speech recognition."})},lU=()=>E.jsx("div",{className:"bg-base-300 absolute top-[10rem] left-[10rem] w-[20rem] h-[20rem] z-[1000]",children:E.jsx(aU,{})}),qE=()=>{var A,S,N,I;const r=oh(),{selectedUser:e,videoCall:t,setSelectedUser:n,setVideoCall:i,sendMessage:s}=ii(),[o,a]=Y.useState(!1),{streamMode:c,setStreamMode:h,streamData:d,streamSet:p,setStreamData:y,getStreamAiMessage:m}=Ka(),{onlineUsers:x}=lr(),_=()=>{console.log(window.location.pathname),window.location.pathname.slice(0,7)=="/stream"&&c?(h(!1),r("/")):(h(!0),r("/stream"))};return E.jsx("div",{className:"p-2.5 border-b border-base-300",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"avatar",children:E.jsx("div",{className:"size-10 rounded-full relative",children:E.jsx("img",{loading:"blur",src:e!=null&&e.name?(e==null?void 0:e.profilePic)||"/group.png":(e==null?void 0:e.profilePic)||"/avatar.png",alt:e==null?void 0:e.fullName})})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium",children:(e==null?void 0:e.fullName)||(e==null?void 0:e.name)}),E.jsx("p",{className:"text-sm text-base-content/70",children:x.includes(e==null?void 0:e._id)?"Online":"Offline"})]})]}),E.jsxs("div",{className:"flex gap-5",children:[E.jsx("button",{className:`  btn btn-circle  ${t?"text-red-500":"text-zinc-400"} `,onClick:()=>i(!t),children:E.jsx(CF,{})}),E.jsx("button",{className:`  btn btn-circle  ${o?"text-red-500":"text-zinc-400"} `,onClick:()=>a(!o),children:E.jsx(TF,{})}),o&&E.jsx(lU,{}),E.jsxs("button",{className:` streamIcon btn btn-circle  ${d.senderInfo!=null?"text-red-500":"text-zinc-400"} `,onClick:_,type:"button",children:[d.senderInfo!=null&&E.jsx("div",{className:" p-1  bg-base-content max-w-74 rounded-md  absolute z-[100] mt-[10rem] max-h-30 streamInfo text-base-200",children:E.jsxs("div",{className:"p-2  ",children:[E.jsxs("div",{className:"flex gap-1 items-center justify-center flex-col w-full",children:[E.jsx("h1",{className:"text-base-50 font-bold text-xl",children:(A=d==null?void 0:d.streamInfo)==null?void 0:A.title}),E.jsx("h1",{children:(S=d==null?void 0:d.streamInfo)==null?void 0:S.description})]}),E.jsxs("div",{className:"flex gap-2 mt-1 items-center opacity-70  justify-center ",children:[E.jsx("h1",{children:"Created by  "}),E.jsx("img",{className:"size-6 object-cover rounded-full",src:(N=d==null?void 0:d.senderInfo)==null?void 0:N.profilePic,alt:"profile"}),E.jsxs("h1",{children:[" ",(I=d==null?void 0:d.senderInfo)==null?void 0:I.fullName]}),E.jsx("h1",{children:"on "+new Date(d==null?void 0:d.createdAt).toDateString()+" at "+DR(new Date(d==null?void 0:d.createdAt))})]})]})}),E.jsx(xF,{})]}),E.jsx("button",{className:"mx-3 ",onClick:()=>{n(null),y([])},children:E.jsx(S2,{})})]})]})})};var I5=new Map,xv=new WeakMap,$E=0,cU=void 0;function uU(r){return r?(xv.has(r)||($E+=1,xv.set(r,$E.toString())),xv.get(r)):"0"}function hU(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?uU(r.root):r[e]}`).toString()}function dU(r){const e=hU(r);let t=I5.get(e);if(!t){const n=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var c;const h=a.isIntersecting&&i.some(d=>a.intersectionRatio>=d);r.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=h),(c=n.get(a.target))==null||c.forEach(d=>{d(h,a)})})},r);i=s.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:s,elements:n},I5.set(e,t)}return t}function fU(r,e,t={},n=cU){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=r.getBoundingClientRect();return e(n,{isIntersecting:n,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:i,observer:s,elements:o}=dU(t),a=o.get(r)||[];return o.has(r)||o.set(r,a),a.push(e),s.observe(r),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(r),s.unobserve(r)),o.size===0&&(s.disconnect(),I5.delete(i))}}function pU({threshold:r,delay:e,trackVisibility:t,rootMargin:n,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:c,onChange:h}={}){var d;const[p,y]=Y.useState(null),m=Y.useRef(h),[x,_]=Y.useState({inView:!!a,entry:void 0});m.current=h,Y.useEffect(()=>{if(o||!p)return;let I;return I=fU(p,(R,O)=>{_({inView:R,entry:O}),m.current&&m.current(R,O),O.isIntersecting&&s&&I&&(I(),I=void 0)},{root:i,rootMargin:n,threshold:r,trackVisibility:t,delay:e},c),()=>{I&&I()}},[Array.isArray(r)?r.toString():r,p,i,n,s,o,t,c,e]);const A=(d=x.entry)==null?void 0:d.target,S=Y.useRef(void 0);!p&&A&&!s&&!o&&S.current!==A&&(S.current=A,_({inView:!!a,entry:void 0}));const N=[y,x.inView,x.entry];return N.ref=N[0],N.inView=N[1],N.entry=N[2],N}const HE=()=>{const{selectedUser:r,videoCall:e,setVideoCall:t,getStreamAiMessage:n}=ii(),{streamMode:i,setStreamMode:s,streamData:o,streamSet:a}=Ka(),[c,h]=Y.useState(""),[d,p]=Y.useState(null),y=Y.useRef(null),{getAiMessage:m}=ii(),{authUser:x}=lr(),[_,A]=Y.useState(""),{sendMessage:S}=ii(),N=U=>{const B=U.target.files[0];if(!B.type.startsWith("image/")){sn.error("Please select an image file");return}const j=new FileReader;j.onloadend=()=>{p(j.result)},j.readAsDataURL(B)};Y.useEffect(()=>{h("")},[r]);const I=()=>{p(null),y.current&&(y.current.value="")};Y.useEffect(()=>{o.length!=0},[o,i]);const R=async U=>{if(U.preventDefault(),!(!c.trim()&&!d))try{h("");let B=d,j=c.trim();p(null),y.current&&(y.current.value=""),await S({text:j,image:B}),console.log(_),_.trim()!==""&&(i==!1?await m({input:_,user:x.fullName}):await n({input:_,user:x.fullName})),A("")}catch(B){console.error("Failed to send message:",B)}},O=U=>{let B=U.target.value;if(B.includes("@rapid")){let j=B.substring(B.indexOf("@rapid")+6);U.target.style.color="skyblue",U.target.style.fontWeight="bold",A(j)}else U.target.style.color="inherit",U.target.style.fontWeight="normal";h(B)};return E.jsxs("div",{className:"p-4 w-full",children:[d&&E.jsx("div",{className:"mb-3 flex items-center gap-2",children:E.jsxs("div",{className:"relative",children:[E.jsx("img",{loading:"blur",src:d,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-zinc-700"}),E.jsx("button",{onClick:I,className:`absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-base-300
              flex items-center justify-center`,type:"button",children:E.jsx(S2,{className:"size-3"})})]})}),E.jsxs("form",{onSubmit:R,className:"flex items-center gap-2",children:[E.jsxs("div",{className:"flex-1 flex gap-2",children:[E.jsx("input",{type:"text",className:"w-full input input-bordered rounded-lg input-sm sm:input-md",placeholder:"Type a message...",value:c,onChange:U=>O(U)}),E.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:y,onChange:N}),E.jsx("button",{type:"button",className:`hidden sm:flex btn btn-circle
                     ${d?"text-emerald-500":"text-zinc-400"}`,onClick:()=>{var U;return(U=y.current)==null?void 0:U.click()},children:E.jsx($7,{size:20})})]}),E.jsx("button",{type:"submit",className:"btn  btn-circle ",disabled:!c.trim()&&!d,children:E.jsx(cP,{size:22})})]})]})},mU=()=>{const r=Array(6).fill(null);return E.jsx("div",{className:"flex-1 w-[64.5vw] overflow-y-hidden p-4 space-y-4",children:r.map((e,t)=>E.jsxs("div",{className:`chat ${t%2===0?"chat-start":"chat-end"}`,children:[E.jsx("div",{className:"chat-image avatar",children:E.jsx("div",{className:"size-10 rounded-full",children:E.jsx("div",{className:"skeleton w-full h-full rounded-full"})})}),E.jsx("div",{className:"chat-header mb-1",children:E.jsx("div",{className:"skeleton h-4 w-16"})}),E.jsx("div",{className:"chat-bubble bg-transparent p-0",children:E.jsx("div",{className:"skeleton h-16 w-[200px]"})})]},t))})},gU=Y.forwardRef(({setIncomingCall:r,incomingCall:e},t)=>{const n=Y.useRef(null),i=Y.useRef(null),s=Y.useRef(null),o=Y.useRef(null),a=Y.useRef(null),c=Y.useRef(null),h=Y.useRef(null),d=Y.useRef(null),{peer:p,peerId:y,getPeerId:m,friendPeerId:x,removePeerId:_}=lr(),[A,S]=Y.useState(""),[N,I]=Y.useState(""),[R,O]=Y.useState(!1),[U,B]=Y.useState(!1),[j,D]=Y.useState(!1),[se,F]=Y.useState("");Y.useEffect(()=>((async()=>{console.log("initializing");try{const Z=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!0});n.current&&(n.current.srcObject=Z),h.current=Z,c.current=p,console.log(p),S(y),D(!0),p.on("connection",M=>{M.on("data",J=>{J==="rejected"&&(o.current&&(o.current.pause(),o.current.currentTime=0),a.current&&(a.current.muted=!1,a.current.currentTime=0,a.current.play().catch(()=>{}),setTimeout(()=>{a.current&&(a.current.pause(),a.current.currentTime=0)},2e3)),_(),F("Call was rejected"),B(!1),O(!1))})})}catch(Z){console.log(Z),ie("Failed to access camera/microphone")}})(),()=>{h.current&&h.current.getTracks().forEach(Z=>Z.stop())}),[]),Y.useEffect(()=>{if(se){const be=setTimeout(()=>F(""),2e3);return()=>clearTimeout(be)}},[se]);const H=()=>{!e||!h.current||(e.answer(h.current),ee(e),r(null),F("Call accepted"))};Y.useImperativeHandle(t,()=>({acceptCall:H,rejectCall:ne}));const ne=()=>{var be;if(e){const Z=e.peer,M=(be=c.current)==null?void 0:be.connect(Z);M.on("open",()=>{M.send("rejected"),M.close()})}r(null)},ee=be=>{d.current=be,B(!1),be.on("stream",Z=>{i.current&&(i.current.srcObject=Z,o.current&&(o.current.pause(),o.current.currentTime=0),a.current&&(a.current.pause(),a.current.currentTime=0))}),be.on("close",()=>{ge()}),be.on("error",()=>{ge()}),O(!0)};Y.useEffect(()=>{console.log("friend id",x),I(x)},[x]),Y.useEffect(()=>{console.log("use effect ",N),N&&(()=>{try{B(!0);const Z=c.current.call(N,h.current);ee(Z),console.log(Z),c.current.connect(N).on("data",J=>{J==="rejected"&&(o.current&&(o.current.pause(),o.current.currentTime=0),a.current&&(a.current.pause(),a.current.currentTime=0),F("Call was rejected"),Z.close(),B(!1),O(!1))})}catch{ie("Failed to start call"),B(!1)}})()},[N]);const me=()=>{o.current?(console.log("ringing"),o.current.muted=!1,o.current.volume=1,o.current.loop=!0,o.current.play(),o.current.play().catch(be=>console.error("Playback error:",be))):console.log("audo is ",o.current),_(),m()},ge=()=>{o.current&&(o.current.pause(),o.current.currentTime=0),_(),d.current&&(d.current.close(),d.current=null),i.current&&(i.current.srcObject=null),O(!1),B(!1),F("Call ended")},de=()=>{const be=s.current;if(!be)return;const Z=be.requestFullscreen||be.webkitRequestFullscreen||be.mozRequestFullScreen||be.msRequestFullscreen;Z&&Z.call(be)},ie=be=>{F(be),alert(be)},ye=()=>j?U?"Connecting...":R?"Connected":"Ready to connect":"Initializing...";return E.jsxs("div",{className:"min-h-screen z-[10] bg-base-100  p-6",children:[E.jsx("audio",{ref:a,src:"/sound/unavailable.mp3",preload:"auto"}),E.jsx("audio",{ref:o,src:"/sound/outgoing.mp3",preload:"auto"}),E.jsxs("div",{className:"max-w-6xl mx-auto",children:[se&&E.jsx("div",{className:"fixed top-16 left-1/2 transform -translate-x-1/2 bg-base-content text-white px-4 py-2 rounded shadow-lg z-50",children:se}),E.jsxs("div",{className:"mb-6 text-center",children:[E.jsxs("h1",{className:"text-3xl font-bold  mb-2",children:[E.jsx(Lp,{className:"inline w-8 h-8 mr-2"}),"Stream N Chat Calls"]}),E.jsx("p",{className:"text-gray-600",children:E.jsx("span",{className:"font-semibold",children:ye()})})]}),E.jsx("div",{ref:s,className:"  rounded-lg shadow-lg p-6 mb-6",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("video",{ref:n,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-64 lg:h-80 bg-gray-900 rounded-lg object-cover"}),E.jsx("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm",children:"You"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-64 lg:h-80 bg-gray-900 rounded-lg object-cover"}),!R&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-80 rounded-lg",children:E.jsxs("div",{className:"text-center text-white",children:[E.jsx(Lp,{className:"w-12 h-12 mx-auto mb-4 opacity-60"}),E.jsx("p",{className:"text-lg font-medium",children:"Waiting for connection"}),E.jsx("p",{className:"text-sm opacity-80",children:"Start calling with Rapid Calls"})]})}),E.jsx("div",{className:"absolute bottom-3 left-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm",children:"Remote User"})]})]})}),E.jsx("div",{className:" rounded-lg shadow-lg p-6",children:E.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[E.jsxs("button",{onClick:me,disabled:!j||R||U,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[E.jsx(lP,{className:"w-4 h-4"}),U?"Connecting...":"Start Call"]}),E.jsxs("button",{onClick:ge,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[E.jsx(aP,{className:"w-4 h-4"}),"End Call"]}),E.jsxs("button",{onClick:de,className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 flex items-center gap-2",children:[E.jsx(Q7,{className:"w-4 h-4"}),"Fullscreen"]})]})})]})]})}),zR=()=>{const{messages:r,getMessages:e,isMessagesLoading:t,selectedUser:n,subscribeToMessages:i,subscribeToGroup:s,isUserMessageLoading:o,unsubscribeFromMessages:a,videoCall:c,setVideoCall:h}=ii(),{peer:d,peerId:p,callerName:y,getPeerId:m,friendPeerId:x}=lr(),{streamSet:_,getStream:A,setStreamMode:S,streamMode:N,setStreamData:I,streamData:R}=Ka(),O=Y.useRef(null),U=Y.useRef(0),B=Y.useRef(0),[j,D]=Y.useState(!1),{inView:se}=pU(),[F,H]=Y.useState(!0),{authUser:ne}=lr(),ee=Y.useRef(null),[me,ge]=Y.useState(1),de=Y.useRef(null),[ie,ye]=Y.useState(""),[be,Z]=Y.useState([]),[M,J]=Y.useState(""),re=Y.useRef(null),ue=()=>{var xe;(xe=de.current)==null||xe.scrollIntoView({behavior:"smooth"})},pe=()=>{const{scrollTop:xe,scrollHeight:Ue,clientHeight:$e}=ee.current,Fe=Math.floor(Ue-xe)==$e;D(!Fe)};Y.useEffect(()=>{ue()},[]);const[fe,Ce]=Y.useState(!1);Y.useEffect(()=>{se&&re.current!=null&&ge(me+1)},[se]),Y.useEffect(()=>(re.current=null,A(),e(n,me),n.name===void 0?i():s(),()=>a()),[n._id,e,me,i,a]),Y.useEffect(()=>{S(!1)},[n._id]),Y.useEffect(()=>{if(o){setTimeout(()=>{var Ue;(Ue=de.current)==null||Ue.scrollIntoView({behavior:"smooth"})},0);const xe=setInterval(()=>{ye(Ue=>Ue.length===3?"":Ue+".")},250);return()=>clearInterval(xe)}},[o]),Y.useEffect(()=>{d.on("call",xe=>{h(!0),Ce(xe)})},[]),Y.useEffect(()=>{var xe,Ue;zR.current&&(U.current=(xe=ee.current)==null?void 0:xe.scrollHeight,B.current=(Ue=ee.current)==null?void 0:Ue.scrollTop),Z(r)},[r]),Y.useEffect(()=>{var xe,Ue,$e;if(re.current===r.length?H(!1):H(!0),((xe=ee.current)==null?void 0:xe.scrollHeight)!=null&&re.current==null)ee.current.scrollTop=(Ue=ee.current)==null?void 0:Ue.scrollHeight;else if(ee.current){const Fe=($e=ee.current)==null?void 0:$e.scrollHeight;ee.current.scrollTop=B.current+(Fe-U.current)}re.current=r.length},[be]);const ke=xe=>{const Ue=xe.target.src;J(Ue)};return t?E.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[E.jsx(qE,{}),E.jsx(mU,{}),E.jsx(HE,{})]}):E.jsxs("div",{className:"flex-1 w-[70vw] flex flex-col  overflow-auto",children:[E.jsx(qE,{}),M!==""&&E.jsx("div",{className:" ",children:E.jsxs("div",{className:"absolute w-screen  h-[100vh] inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:[E.jsx("img",{loading:"blur",src:M,alt:"attachment",className:"z-20 max-w-[90%] max-h-[90%] object-contain"}),E.jsx("button",{className:" bg-[#ffffff14] btn hover:cursor-pointer hover:bg-black rounded-full p-[4px] z-20 -mt-[74vh] -ml-[2vw]",onClick:()=>J(""),children:E.jsx(S2,{})})]})}),E.jsxs("div",{className:`flex-1  overflow-y-auto p-4 space-y-4 ${c?"hidden":""}`,ref:ee,onScroll:pe,children:[!be.length&&E.jsxs("div",{className:"flex  items-center justify-center my-5",children:[E.jsx("h1",{className:"font-bold text-xl",children:"Type to start a "}),E.jsx("div",{className:"size-11 mx-2 rounded-lg bg-primary/10 flex items-center justify-center",children:E.jsx(Lp,{className:"w-6 h-6 text-primary "})}),E.jsx("h1",{className:"font-bold text-2xl",children:"Stream N Chat! "})]}),be.map((xe,Ue)=>{var $e,Fe;return E.jsx(E.Fragment,{children:xe!=null&&xe.AiStart?E.jsxs("div",{ref:de,className:"flex justify-center items-center mt-2 mb-2",children:[E.jsx("div",{className:"size-10 rounded-full border bg-primary/10 flex items-center justify-center",children:E.jsx($C,{className:"w-6 h-6 text-primary "})}),E.jsx("h1",{className:"font-bold text-sm ml-2",children:"Rapid AI"})]}):E.jsxs("div",{ref:de,className:`chat mt-0 ${xe.senderId===ne._id&&!(($e=xe==null?void 0:xe.senderInfo)!=null&&$e.ai)?"chat-end":"chat-start"}`,children:[E.jsx("div",{className:" chat-image avatar",children:E.jsx("div",{className:"size-10 rounded-full border",children:E.jsx("img",{loading:"blur",src:xe.groupId!==""||xe.type=="ai"?xe.senderInfo.profilePic||"/avatar.png":xe.senderId===ne._id?ne.profilePic||"/avatar.png":n.profilePic||"/avatar.png",alt:"profile pic"})})}),(Ue==0||new Date((Fe=r[Ue-1])==null?void 0:Fe.createdAt).getMinutes()!=new Date(xe.createdAt).getMinutes())&&E.jsx("div",{className:"chat-header mb-1",children:E.jsxs("time",{className:"text-xs flex opacity-50 ml-1",children:[xe.senderId===ne._id?xe.type=="ai"?"Rapid AI":"You":n.fullName," ",xe.type=="ai"?E.jsx("span",{children:E.jsx($C,{height:"0.88rem"})}):DR(xe.createdAt)]})}),E.jsxs("div",{className:`chat-bubble  flex flex-col ${xe.senderId===ne._id&&xe.type!="ai"?"chat-end bg-primary text-primary-content":"chat-start  text-base-content  bg-base-200 "}`,children:[xe.image&&E.jsx("img",{loading:"blur",onClick:Le=>ke(Le),src:xe.image,alt:"Attachment",className:"sm:max-w-[200px] hover:cursor-pointer rounded-md mb-2"}),xe.text&&E.jsx("p",{dangerouslySetInnerHTML:{__html:xe.text.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/@rapid/g,"<b >$&</b>")}})]})]},xe._id)})}),o&&E.jsx("div",{className:"chat chat-end ",children:E.jsxs("div",{className:"chat chat-end mr-[-1rem]",children:[E.jsx("div",{className:"chat-image avatar",children:E.jsx("div",{className:"size-10 rounded-full border",children:E.jsx("img",{loading:"blur",src:ne.profilePic||"/avatar.png",alt:"profile pic"})})}),E.jsx("div",{className:"chat-bubble flex flex-col",children:E.jsxs("div",{className:"sm:w-[200px] rounded-md mb-2",children:["Sending",ie]})})]})})]}),E.jsx("div",{className:"w-full z-[100]  flex justify-end",children:E.jsx("button",{onClick:ue,className:`${j?"block":"hidden"}  bg-base-300 h-fit p-2 rounded-md w-fit mt-[-3rem] mr-8`,children:E.jsx(E7,{})})}),c&&E.jsx(gU,{ref:O,setIncomingCall:Ce,incomingCall:fe}),fe&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",children:[E.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Incoming Call from ",y]}),E.jsx("p",{className:"mb-4",children:"You have an incoming call. Accept?"}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsxs("button",{onClick:()=>{O.current&&O.current.acceptCall()},className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-2",children:[E.jsx(lP,{className:"w-4 h-4"})," Accept"]}),E.jsxs("button",{onClick:()=>{O.current&&O.current.rejectCall()},className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center gap-2",children:[E.jsx(aP,{className:"w-4 h-4"})," Reject"]})]})]})}),E.jsx(HE,{})]})},yU="modulepreload",vU=function(r){return"/"+r},VE={},Tf=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let o=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(h=>{if(h=vU(h),h in VE)return;VE[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":yU,d||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),d)return new Promise((m,x)=>{y.addEventListener("load",m),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Un(r){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(r)}var Dl=Uint8Array,ua=Uint16Array,rk=Int32Array,ik=new Dl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sk=new Dl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WE=new Dl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qR=function(r,e){for(var t=new ua(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new rk(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},$R=qR(ik,2),bU=$R.b,M5=$R.r;bU[28]=258,M5[258]=28;var _U=qR(sk,0),GE=_U.r,O5=new ua(32768);for(var cr=0;cr<32768;++cr){var Uh=(cr&43690)>>1|(cr&21845)<<1;Uh=(Uh&52428)>>2|(Uh&13107)<<2,Uh=(Uh&61680)>>4|(Uh&3855)<<4,O5[cr]=((Uh&65280)>>8|(Uh&255)<<8)>>1}var O1=function(r,e,t){for(var n=r.length,i=0,s=new ua(e);i<n;++i)r[i]&&++s[r[i]-1];var o=new ua(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ua(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var h=i<<4|r[i],d=e-r[i],p=o[r[i]-1]++<<d,y=p|(1<<d)-1;p<=y;++p)a[O5[p]>>c]=h}else for(a=new ua(n),i=0;i<n;++i)r[i]&&(a[i]=O5[o[r[i]-1]++]>>15-r[i]);return a},Mp=new Dl(288);for(var cr=0;cr<144;++cr)Mp[cr]=8;for(var cr=144;cr<256;++cr)Mp[cr]=9;for(var cr=256;cr<280;++cr)Mp[cr]=7;for(var cr=280;cr<288;++cr)Mp[cr]=8;var r_=new Dl(32);for(var cr=0;cr<32;++cr)r_[cr]=5;var wU=O1(Mp,9,0),xU=O1(r_,5,0),HR=function(r){return(r+7)/8|0},SU=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Dl(r.subarray(e,t))},pu=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},a1=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},vx=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:WR,l:0};if(i==1){var o=new Dl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(O,U){return O.f-U.f}),t.push({s:-1,f:25001});var a=t[0],c=t[1],h=0,d=1,p=2;for(t[0]={s:-1,f:a.f+c.f,l:a,r:c};d!=i-1;)a=t[t[h].f<t[p].f?h++:p++],c=t[h!=d&&t[h].f<t[p].f?h++:p++],t[d++]={s:-1,f:a.f+c.f,l:a,r:c};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var m=new ua(y+1),x=F5(t[d-1],m,0);if(x>e){var n=0,_=0,A=x-e,S=1<<A;for(s.sort(function(U,B){return m[B.s]-m[U.s]||U.f-B.f});n<i;++n){var N=s[n].s;if(m[N]>e)_+=S-(1<<x-m[N]),m[N]=e;else break}for(_>>=A;_>0;){var I=s[n].s;m[I]<e?_-=1<<e-m[I]++-1:++n}for(;n>=0&&_;--n){var R=s[n].s;m[R]==e&&(--m[R],++_)}x=e}return{t:new Dl(m),l:x}},F5=function(r,e,t){return r.s==-1?Math.max(F5(r.l,e,t+1),F5(r.r,e,t+1)):e[r.s]=t},YE=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ua(++e),n=0,i=r[0],s=1,o=function(c){t[n++]=c},a=1;a<=e;++a)if(r[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=r[a]}return{c:t.subarray(0,n),n:e}},l1=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},VR=function(r,e,t){var n=t.length,i=HR(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},XE=function(r,e,t,n,i,s,o,a,c,h,d){pu(e,d++,t),++i[256];for(var p=vx(i,15),y=p.t,m=p.l,x=vx(s,15),_=x.t,A=x.l,S=YE(y),N=S.c,I=S.n,R=YE(_),O=R.c,U=R.n,B=new ua(19),j=0;j<N.length;++j)++B[N[j]&31];for(var j=0;j<O.length;++j)++B[O[j]&31];for(var D=vx(B,7),se=D.t,F=D.l,H=19;H>4&&!se[WE[H-1]];--H);var ne=h+5<<3,ee=l1(i,Mp)+l1(s,r_)+o,me=l1(i,y)+l1(s,_)+o+14+3*H+l1(B,se)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&ne<=ee&&ne<=me)return VR(e,d,r.subarray(c,c+h));var ge,de,ie,ye;if(pu(e,d,1+(me<ee)),d+=2,me<ee){ge=O1(y,m,0),de=y,ie=O1(_,A,0),ye=_;var be=O1(se,F,0);pu(e,d,I-257),pu(e,d+5,U-1),pu(e,d+10,H-4),d+=14;for(var j=0;j<H;++j)pu(e,d+3*j,se[WE[j]]);d+=3*H;for(var Z=[N,O],M=0;M<2;++M)for(var J=Z[M],j=0;j<J.length;++j){var re=J[j]&31;pu(e,d,be[re]),d+=se[re],re>15&&(pu(e,d,J[j]>>5&127),d+=J[j]>>12)}}else ge=wU,de=Mp,ie=xU,ye=r_;for(var j=0;j<a;++j){var ue=n[j];if(ue>255){var re=ue>>18&31;a1(e,d,ge[re+257]),d+=de[re+257],re>7&&(pu(e,d,ue>>23&31),d+=ik[re]);var pe=ue&31;a1(e,d,ie[pe]),d+=ye[pe],pe>3&&(a1(e,d,ue>>5&8191),d+=sk[pe])}else a1(e,d,ge[ue]),d+=de[ue]}return a1(e,d,ge[256]),d+de[256]},AU=new rk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),WR=new Dl(0),kU=function(r,e,t,n,i,s){var o=s.z||r.length,a=new Dl(n+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(n,a.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var p=AU[e-1],y=p>>13,m=p&8191,x=(1<<t)-1,_=s.p||new ua(32768),A=s.h||new ua(x+1),S=Math.ceil(t/3),N=2*S,I=function(Le){return(r[Le]^r[Le+1]<<S^r[Le+2]<<N)&x},R=new rk(25e3),O=new ua(288),U=new ua(32),B=0,j=0,D=s.i||0,se=0,F=s.w||0,H=0;D+2<o;++D){var ne=I(D),ee=D&32767,me=A[ne];if(_[ee]=me,A[ne]=ee,F<=D){var ge=o-D;if((B>7e3||se>24576)&&(ge>423||!h)){d=XE(r,c,0,R,O,U,j,se,H,D-H,d),se=B=j=0,H=D;for(var de=0;de<286;++de)O[de]=0;for(var de=0;de<30;++de)U[de]=0}var ie=2,ye=0,be=m,Z=ee-me&32767;if(ge>2&&ne==I(D-Z))for(var M=Math.min(y,ge)-1,J=Math.min(32767,D),re=Math.min(258,ge);Z<=J&&--be&&ee!=me;){if(r[D+ie]==r[D+ie-Z]){for(var ue=0;ue<re&&r[D+ue]==r[D+ue-Z];++ue);if(ue>ie){if(ie=ue,ye=Z,ue>M)break;for(var pe=Math.min(Z,ue-2),fe=0,de=0;de<pe;++de){var Ce=D-Z+de&32767,ke=_[Ce],xe=Ce-ke&32767;xe>fe&&(fe=xe,me=Ce)}}}ee=me,me=_[ee],Z+=ee-me&32767}if(ye){R[se++]=268435456|M5[ie]<<18|GE[ye];var Ue=M5[ie]&31,$e=GE[ye]&31;j+=ik[Ue]+sk[$e],++O[257+Ue],++U[$e],F=D+ie,++B}else R[se++]=r[D],++O[r[D]]}}for(D=Math.max(D,F);D<o;++D)R[se++]=r[D],++O[r[D]];d=XE(r,c,h,R,O,U,j,se,H,D-H,d),h||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=A,s.p=_,s.i=D,s.w=F)}else{for(var D=s.w||0;D<o+h;D+=65535){var Fe=D+65535;Fe>=o&&(c[d/8|0]=h,Fe=o),d=VR(c,d+1,r.subarray(D,Fe))}s.i=o}return SU(a,0,n+HR(d)+i)},GR=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=t[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},CU=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Dl(s.length+r.length);o.set(s),o.set(r,s.length),r=o,i.w=s.length}return kU(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},YR=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},EU=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=GR();i.p(e.dictionary),YR(r,2,i.d())}};function D5(r,e){e||(e={});var t=GR();t.p(r);var n=CU(r,e,e.dictionary?6:2,4);return EU(n,e),YR(n,n.length-4,t.d()),n}var TU=typeof TextDecoder<"u"&&new TextDecoder,NU=0;try{TU.decode(WR,{stream:!0}),NU=1}catch{}function PU(r){if(Array.isArray(r))return r}function LU(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,a=[],c=!0,h=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(d){h=!0,i=d}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return a}}function KE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function RU(r,e){if(r){if(typeof r=="string")return KE(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?KE(r,e):void 0}}function IU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JE(r,e){return PU(r)||LU(r,e)||RU(r,e)||IU()}function QE(r,e="utf8"){return new TextDecoder(e).decode(r)}const MU=new TextEncoder;function OU(r){return MU.encode(r)}const FU=1024*8,DU=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),bx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ok{constructor(e=FU,t={}){tt(this,"buffer");tt(this,"byteLength");tt(this,"byteOffset");tt(this,"length");tt(this,"offset");tt(this,"lastWrittenByte");tt(this,"littleEndian");tt(this,"_data");tt(this,"_mark");tt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof ok)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=bx[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===DU&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const c=new bx[t](a.buffer);return this.offset+=n,c.reverse(),c}const o=new bx[t](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return QE(this.readBytes(e))}decodeText(e=1,t="utf8"){return QE(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(OU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function k0(r){let e=r.length;for(;--e>=0;)r[e]=0}const jU=3,BU=258,XR=29,UU=256,zU=UU+1+XR,KR=30,qU=512,$U=new Array((zU+2)*2);k0($U);const HU=new Array(KR*2);k0(HU);const VU=new Array(qU);k0(VU);const WU=new Array(BU-jU+1);k0(WU);const GU=new Array(XR);k0(GU);const YU=new Array(KR);k0(YU);const XU=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var j5=XU;const KU=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},JU=new Uint32Array(KU()),QU=(r,e,t,n)=>{const i=JU,s=n+t;r^=-1;for(let o=n;o<s;o++)r=r>>>8^i[(r^e[o])&255];return r^-1};var lc=QU,B5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ZU=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var ez=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)ZU(t,n)&&(r[n]=t[n])}}return r},tz=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let o=r[n];t.set(o,i),i+=o.length}return t},QR={assign:ez,flattenChunks:tz};let ZR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ZR=!1}const ty=new Uint8Array(256);for(let r=0;r<256;r++)ty[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ty[254]=ty[254]=1;var nz=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,o=r.length,a=0;for(i=0;i<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const rz=(r,e)=>{if(e<65534&&r.subarray&&ZR)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var iz=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let o=r[n++];if(o<128){s[i++]=o;continue}let a=ty[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<t;)o=o<<6|r[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return rz(s,i)},sz=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+ty[r[t]]>e?t:e},U5={string2buf:nz,buf2string:iz,utf8border:sz};function oz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var az=oz;const Sv=16209,lz=16191;var cz=function(e,t){let n,i,s,o,a,c,h,d,p,y,m,x,_,A,S,N,I,R,O,U,B,j,D,se;const F=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),s=e.next_out,se=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=F.dmax,h=F.wsize,d=F.whave,p=F.wnext,y=F.window,m=F.hold,x=F.bits,_=F.lencode,A=F.distcode,S=(1<<F.lenbits)-1,N=(1<<F.distbits)-1;e:do{x<15&&(m+=D[n++]<<x,x+=8,m+=D[n++]<<x,x+=8),I=_[m&S];t:for(;;){if(R=I>>>24,m>>>=R,x-=R,R=I>>>16&255,R===0)se[s++]=I&65535;else if(R&16){O=I&65535,R&=15,R&&(x<R&&(m+=D[n++]<<x,x+=8),O+=m&(1<<R)-1,m>>>=R,x-=R),x<15&&(m+=D[n++]<<x,x+=8,m+=D[n++]<<x,x+=8),I=A[m&N];n:for(;;){if(R=I>>>24,m>>>=R,x-=R,R=I>>>16&255,R&16){if(U=I&65535,R&=15,x<R&&(m+=D[n++]<<x,x+=8,x<R&&(m+=D[n++]<<x,x+=8)),U+=m&(1<<R)-1,U>c){e.msg="invalid distance too far back",F.mode=Sv;break e}if(m>>>=R,x-=R,R=s-o,U>R){if(R=U-R,R>d&&F.sane){e.msg="invalid distance too far back",F.mode=Sv;break e}if(B=0,j=y,p===0){if(B+=h-R,R<O){O-=R;do se[s++]=y[B++];while(--R);B=s-U,j=se}}else if(p<R){if(B+=h+p-R,R-=p,R<O){O-=R;do se[s++]=y[B++];while(--R);if(B=0,p<O){R=p,O-=R;do se[s++]=y[B++];while(--R);B=s-U,j=se}}}else if(B+=p-R,R<O){O-=R;do se[s++]=y[B++];while(--R);B=s-U,j=se}for(;O>2;)se[s++]=j[B++],se[s++]=j[B++],se[s++]=j[B++],O-=3;O&&(se[s++]=j[B++],O>1&&(se[s++]=j[B++]))}else{B=s-U;do se[s++]=se[B++],se[s++]=se[B++],se[s++]=se[B++],O-=3;while(O>2);O&&(se[s++]=se[B++],O>1&&(se[s++]=se[B++]))}}else if((R&64)===0){I=A[(I&65535)+(m&(1<<R)-1)];continue n}else{e.msg="invalid distance code",F.mode=Sv;break e}break}}else if((R&64)===0){I=_[(I&65535)+(m&(1<<R)-1)];continue t}else if(R&32){F.mode=lz;break e}else{e.msg="invalid literal/length code",F.mode=Sv;break e}break}}while(n<i&&s<a);O=x>>3,n-=O,x-=O<<3,m&=(1<<x)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),F.hold=m,F.bits=x};const Om=15,ZE=852,eT=592,tT=0,_x=1,nT=2,uz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pz=(r,e,t,n,i,s,o,a)=>{const c=a.bits;let h=0,d=0,p=0,y=0,m=0,x=0,_=0,A=0,S=0,N=0,I,R,O,U,B,j=null,D;const se=new Uint16Array(Om+1),F=new Uint16Array(Om+1);let H=null,ne,ee,me;for(h=0;h<=Om;h++)se[h]=0;for(d=0;d<n;d++)se[e[t+d]]++;for(m=c,y=Om;y>=1&&se[y]===0;y--);if(m>y&&(m=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<y&&se[p]===0;p++);for(m<p&&(m=p),A=1,h=1;h<=Om;h++)if(A<<=1,A-=se[h],A<0)return-1;if(A>0&&(r===tT||y!==1))return-1;for(F[1]=0,h=1;h<Om;h++)F[h+1]=F[h]+se[h];for(d=0;d<n;d++)e[t+d]!==0&&(o[F[e[t+d]]++]=d);if(r===tT?(j=H=o,D=20):r===_x?(j=uz,H=hz,D=257):(j=dz,H=fz,D=0),N=0,d=0,h=p,B=s,x=m,_=0,O=-1,S=1<<m,U=S-1,r===_x&&S>ZE||r===nT&&S>eT)return 1;for(;;){ne=h-_,o[d]+1<D?(ee=0,me=o[d]):o[d]>=D?(ee=H[o[d]-D],me=j[o[d]-D]):(ee=96,me=0),I=1<<h-_,R=1<<x,p=R;do R-=I,i[B+(N>>_)+R]=ne<<24|ee<<16|me|0;while(R!==0);for(I=1<<h-1;N&I;)I>>=1;if(I!==0?(N&=I-1,N+=I):N=0,d++,--se[h]===0){if(h===y)break;h=e[t+o[d]]}if(h>m&&(N&U)!==O){for(_===0&&(_=m),B+=p,x=h-_,A=1<<x;x+_<y&&(A-=se[x+_],!(A<=0));)x++,A<<=1;if(S+=1<<x,r===_x&&S>ZE||r===nT&&S>eT)return 1;O=N&U,i[O]=m<<24|x<<16|B-s|0}}return N!==0&&(i[B+N]=h-_<<24|64<<16|0),a.bits=m,0};var F1=pz;const mz=0,e6=1,t6=2,{Z_FINISH:rT,Z_BLOCK:gz,Z_TREES:Av,Z_OK:Op,Z_STREAM_END:yz,Z_NEED_DICT:vz,Z_STREAM_ERROR:Ya,Z_DATA_ERROR:n6,Z_MEM_ERROR:r6,Z_BUF_ERROR:bz,Z_DEFLATED:iT}=JR,H_=16180,sT=16181,oT=16182,aT=16183,lT=16184,cT=16185,uT=16186,hT=16187,dT=16188,fT=16189,i_=16190,mu=16191,wx=16192,pT=16193,xx=16194,mT=16195,gT=16196,yT=16197,vT=16198,kv=16199,Cv=16200,bT=16201,_T=16202,wT=16203,xT=16204,ST=16205,Sx=16206,AT=16207,kT=16208,mr=16209,i6=16210,s6=16211,_z=852,wz=592,xz=15,Sz=xz,CT=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Az(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gp=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<H_||e.mode>s6?1:0},o6=r=>{if(Gp(r))return Ya;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=H_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_z),e.distcode=e.distdyn=new Int32Array(wz),e.sane=1,e.back=-1,Op},a6=r=>{if(Gp(r))return Ya;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,o6(r)},l6=(r,e)=>{let t;if(Gp(r))return Ya;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ya:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,a6(r))},c6=(r,e)=>{if(!r)return Ya;const t=new Az;r.state=t,t.strm=r,t.window=null,t.mode=H_;const n=l6(r,e);return n!==Op&&(r.state=null),n},kz=r=>c6(r,Sz);let ET=!0,Ax,kx;const Cz=r=>{if(ET){Ax=new Int32Array(512),kx=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(F1(e6,r.lens,0,288,Ax,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;F1(t6,r.lens,0,32,kx,0,r.work,{bits:5}),ET=!1}r.lencode=Ax,r.lenbits=9,r.distcode=kx,r.distbits=5},u6=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Ez=(r,e)=>{let t,n,i,s,o,a,c,h,d,p,y,m,x,_,A=0,S,N,I,R,O,U,B,j;const D=new Uint8Array(4);let se,F;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gp(r)||!r.output||!r.input&&r.avail_in!==0)return Ya;t=r.state,t.mode===mu&&(t.mode=wx),o=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,a=r.avail_in,h=t.hold,d=t.bits,p=a,y=c,j=Op;e:for(;;)switch(t.mode){case H_:if(t.wrap===0){t.mode=wx;break}for(;d<16;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=h&255,D[1]=h>>>8&255,t.check=lc(t.check,D,2,0),h=0,d=0,t.mode=sT;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=mr;break}if((h&15)!==iT){r.msg="unknown compression method",t.mode=mr;break}if(h>>>=4,d-=4,B=(h&15)+8,t.wbits===0&&(t.wbits=B),B>15||B>t.wbits){r.msg="invalid window size",t.mode=mr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?fT:mu,h=0,d=0;break;case sT:for(;d<16;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(t.flags=h,(t.flags&255)!==iT){r.msg="unknown compression method",t.mode=mr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=mr;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=lc(t.check,D,2,0)),h=0,d=0,t.mode=oT;case oT:for(;d<32;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,D[2]=h>>>16&255,D[3]=h>>>24&255,t.check=lc(t.check,D,4,0)),h=0,d=0,t.mode=aT;case aT:for(;d<16;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=lc(t.check,D,2,0)),h=0,d=0,t.mode=lT;case lT:if(t.flags&1024){for(;d<16;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,t.check=lc(t.check,D,2,0)),h=0,d=0}else t.head&&(t.head.extra=null);t.mode=cT;case cT:if(t.flags&1024&&(m=t.length,m>a&&(m=a),m&&(t.head&&(B=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+m),B)),t.flags&512&&t.wrap&4&&(t.check=lc(t.check,n,m,s)),a-=m,s+=m,t.length-=m),t.length))break e;t.length=0,t.mode=uT;case uT:if(t.flags&2048){if(a===0)break e;m=0;do B=n[s+m++],t.head&&B&&t.length<65536&&(t.head.name+=String.fromCharCode(B));while(B&&m<a);if(t.flags&512&&t.wrap&4&&(t.check=lc(t.check,n,m,s)),a-=m,s+=m,B)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=hT;case hT:if(t.flags&4096){if(a===0)break e;m=0;do B=n[s+m++],t.head&&B&&t.length<65536&&(t.head.comment+=String.fromCharCode(B));while(B&&m<a);if(t.flags&512&&t.wrap&4&&(t.check=lc(t.check,n,m,s)),a-=m,s+=m,B)break e}else t.head&&(t.head.comment=null);t.mode=dT;case dT:if(t.flags&512){for(;d<16;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=mr;break}h=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=mu;break;case fT:for(;d<32;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}r.adler=t.check=CT(h),h=0,d=0,t.mode=i_;case i_:if(t.havedict===0)return r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=a,t.hold=h,t.bits=d,vz;r.adler=t.check=1,t.mode=mu;case mu:if(e===gz||e===Av)break e;case wx:if(t.last){h>>>=d&7,d-=d&7,t.mode=Sx;break}for(;d<3;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}switch(t.last=h&1,h>>>=1,d-=1,h&3){case 0:t.mode=pT;break;case 1:if(Cz(t),t.mode=kv,e===Av){h>>>=2,d-=2;break e}break;case 2:t.mode=gT;break;case 3:r.msg="invalid block type",t.mode=mr}h>>>=2,d-=2;break;case pT:for(h>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=mr;break}if(t.length=h&65535,h=0,d=0,t.mode=xx,e===Av)break e;case xx:t.mode=mT;case mT:if(m=t.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;i.set(n.subarray(s,s+m),o),a-=m,s+=m,c-=m,o+=m,t.length-=m;break}t.mode=mu;break;case gT:for(;d<14;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(t.nlen=(h&31)+257,h>>>=5,d-=5,t.ndist=(h&31)+1,h>>>=5,d-=5,t.ncode=(h&15)+4,h>>>=4,d-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=mr;break}t.have=0,t.mode=yT;case yT:for(;t.have<t.ncode;){for(;d<3;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.lens[H[t.have++]]=h&7,h>>>=3,d-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,se={bits:t.lenbits},j=F1(mz,t.lens,0,19,t.lencode,0,t.work,se),t.lenbits=se.bits,j){r.msg="invalid code lengths set",t.mode=mr;break}t.have=0,t.mode=vT;case vT:for(;t.have<t.nlen+t.ndist;){for(;A=t.lencode[h&(1<<t.lenbits)-1],S=A>>>24,N=A>>>16&255,I=A&65535,!(S<=d);){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(I<16)h>>>=S,d-=S,t.lens[t.have++]=I;else{if(I===16){for(F=S+2;d<F;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(h>>>=S,d-=S,t.have===0){r.msg="invalid bit length repeat",t.mode=mr;break}B=t.lens[t.have-1],m=3+(h&3),h>>>=2,d-=2}else if(I===17){for(F=S+3;d<F;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}h>>>=S,d-=S,B=0,m=3+(h&7),h>>>=3,d-=3}else{for(F=S+7;d<F;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}h>>>=S,d-=S,B=0,m=11+(h&127),h>>>=7,d-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=mr;break}for(;m--;)t.lens[t.have++]=B}}if(t.mode===mr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=mr;break}if(t.lenbits=9,se={bits:t.lenbits},j=F1(e6,t.lens,0,t.nlen,t.lencode,0,t.work,se),t.lenbits=se.bits,j){r.msg="invalid literal/lengths set",t.mode=mr;break}if(t.distbits=6,t.distcode=t.distdyn,se={bits:t.distbits},j=F1(t6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,se),t.distbits=se.bits,j){r.msg="invalid distances set",t.mode=mr;break}if(t.mode=kv,e===Av)break e;case kv:t.mode=Cv;case Cv:if(a>=6&&c>=258){r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=a,t.hold=h,t.bits=d,cz(r,y),o=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,a=r.avail_in,h=t.hold,d=t.bits,t.mode===mu&&(t.back=-1);break}for(t.back=0;A=t.lencode[h&(1<<t.lenbits)-1],S=A>>>24,N=A>>>16&255,I=A&65535,!(S<=d);){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(N&&(N&240)===0){for(R=S,O=N,U=I;A=t.lencode[U+((h&(1<<R+O)-1)>>R)],S=A>>>24,N=A>>>16&255,I=A&65535,!(R+S<=d);){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}h>>>=R,d-=R,t.back+=R}if(h>>>=S,d-=S,t.back+=S,t.length=I,N===0){t.mode=ST;break}if(N&32){t.back=-1,t.mode=mu;break}if(N&64){r.msg="invalid literal/length code",t.mode=mr;break}t.extra=N&15,t.mode=bT;case bT:if(t.extra){for(F=t.extra;d<F;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=_T;case _T:for(;A=t.distcode[h&(1<<t.distbits)-1],S=A>>>24,N=A>>>16&255,I=A&65535,!(S<=d);){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if((N&240)===0){for(R=S,O=N,U=I;A=t.distcode[U+((h&(1<<R+O)-1)>>R)],S=A>>>24,N=A>>>16&255,I=A&65535,!(R+S<=d);){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}h>>>=R,d-=R,t.back+=R}if(h>>>=S,d-=S,t.back+=S,N&64){r.msg="invalid distance code",t.mode=mr;break}t.offset=I,t.extra=N&15,t.mode=wT;case wT:if(t.extra){for(F=t.extra;d<F;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=mr;break}t.mode=xT;case xT:if(c===0)break e;if(m=y-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=mr;break}m>t.wnext?(m-=t.wnext,x=t.wsize-m):x=t.wnext-m,m>t.length&&(m=t.length),_=t.window}else _=i,x=o-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do i[o++]=_[x++];while(--m);t.length===0&&(t.mode=Cv);break;case ST:if(c===0)break e;i[o++]=t.length,c--,t.mode=Cv;break;case Sx:if(t.wrap){for(;d<32;){if(a===0)break e;a--,h|=n[s++]<<d,d+=8}if(y-=c,r.total_out+=y,t.total+=y,t.wrap&4&&y&&(r.adler=t.check=t.flags?lc(t.check,i,y,o-y):j5(t.check,i,y,o-y)),y=c,t.wrap&4&&(t.flags?h:CT(h))!==t.check){r.msg="incorrect data check",t.mode=mr;break}h=0,d=0}t.mode=AT;case AT:if(t.wrap&&t.flags){for(;d<32;){if(a===0)break e;a--,h+=n[s++]<<d,d+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=mr;break}h=0,d=0}t.mode=kT;case kT:j=yz;break e;case mr:j=n6;break e;case i6:return r6;case s6:default:return Ya}return r.next_out=o,r.avail_out=c,r.next_in=s,r.avail_in=a,t.hold=h,t.bits=d,(t.wsize||y!==r.avail_out&&t.mode<mr&&(t.mode<Sx||e!==rT))&&u6(r,r.output,r.next_out,y-r.avail_out),p-=r.avail_in,y-=r.avail_out,r.total_in+=p,r.total_out+=y,t.total+=y,t.wrap&4&&y&&(r.adler=t.check=t.flags?lc(t.check,i,y,r.next_out-y):j5(t.check,i,y,r.next_out-y)),r.data_type=t.bits+(t.last?64:0)+(t.mode===mu?128:0)+(t.mode===kv||t.mode===xx?256:0),(p===0&&y===0||e===rT)&&j===Op&&(j=bz),j},Tz=r=>{if(Gp(r))return Ya;let e=r.state;return e.window&&(e.window=null),r.state=null,Op},Nz=(r,e)=>{if(Gp(r))return Ya;const t=r.state;return(t.wrap&2)===0?Ya:(t.head=e,e.done=!1,Op)},Pz=(r,e)=>{const t=e.length;let n,i,s;return Gp(r)||(n=r.state,n.wrap!==0&&n.mode!==i_)?Ya:n.mode===i_&&(i=1,i=j5(i,e,t,0),i!==n.check)?n6:(s=u6(r,e,t,t),s?(n.mode=i6,r6):(n.havedict=1,Op))};var Lz=a6,Rz=l6,Iz=o6,Mz=kz,Oz=c6,Fz=Ez,Dz=Tz,jz=Nz,Bz=Pz,Uz="pako inflate (from Nodeca project)",Su={inflateReset:Lz,inflateReset2:Rz,inflateResetKeep:Iz,inflateInit:Mz,inflateInit2:Oz,inflate:Fz,inflateEnd:Dz,inflateGetHeader:jz,inflateSetDictionary:Bz,inflateInfo:Uz};function zz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qz=zz;const h6=Object.prototype.toString,{Z_NO_FLUSH:$z,Z_FINISH:Hz,Z_OK:ny,Z_STREAM_END:Cx,Z_NEED_DICT:Ex,Z_STREAM_ERROR:Vz,Z_DATA_ERROR:TT,Z_MEM_ERROR:Wz}=JR;function T2(r){this.options=QR.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new az,this.strm.avail_out=0;let t=Su.inflateInit2(this.strm,e.windowBits);if(t!==ny)throw new Error(B5[t]);if(this.header=new qz,Su.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=U5.string2buf(e.dictionary):h6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Su.inflateSetDictionary(this.strm,e.dictionary),t!==ny)))throw new Error(B5[t])}T2.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Hz:$z,h6.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Su.inflate(t,o),s===Ex&&i&&(s=Su.inflateSetDictionary(t,i),s===ny?s=Su.inflate(t,o):s===TT&&(s=Ex));t.avail_in>0&&s===Cx&&t.state.wrap>0&&r[t.next_in]!==0;)Su.inflateReset(t),s=Su.inflate(t,o);switch(s){case Vz:case TT:case Ex:case Wz:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===Cx))if(this.options.to==="string"){let c=U5.utf8border(t.output,t.next_out),h=t.next_out-c,d=U5.buf2string(t.output,c);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===ny&&a===0)){if(s===Cx)return s=Su.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};T2.prototype.onData=function(r){this.chunks.push(r)};T2.prototype.onEnd=function(r){r===ny&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=QR.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Gz(r,e){const t=new T2(e);if(t.push(r),t.err)throw t.msg||B5[t.err];return t.result}var Yz=T2,Xz=Gz,Kz={Inflate:Yz,inflate:Xz};const{Inflate:Jz,inflate:Qz}=Kz;var NT=Jz,Zz=Qz;const d6=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;d6[r]=e}const PT=4294967295;function eq(r,e,t){let n=r;for(let i=0;i<t;i++)n=d6[(n^e[i])&255]^n>>>8;return n}function tq(r,e){return(eq(PT,r,e)^PT)>>>0}function LT(r,e,t){const n=r.readUint32(),i=tq(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function f6(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function p6(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function m6(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function g6(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function y6(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+nq(e[s-i],t[s],t[s-i])&255}}function nq(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),o=Math.abs(n-t);return i<=s&&i<=o?r:s<=o?e:t}function rq(r,e,t,n,i,s){switch(r){case 0:f6(e,t,i);break;case 1:p6(e,t,i,s);break;case 2:m6(e,t,n,i);break;case 3:g6(e,t,n,i,s);break;case 4:y6(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const iq=new Uint16Array([255]),sq=new Uint8Array(iq.buffer),oq=sq[0]===255;function aq(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,c=new Uint8Array(n*t*a);let h=0;for(let d=0;d<7;d++){const p=o[d],y=Math.ceil((t-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(y<=0||m<=0)continue;const x=y*a,_=new Uint8Array(x);for(let A=0;A<m;A++){const S=e[h++],N=e.subarray(h,h+x);h+=x;const I=new Uint8Array(x);rq(S,N,I,_,x,a),_.set(I);for(let R=0;R<y;R++){const O=p.x+R*p.xStep,U=p.y+A*p.yStep;if(!(O>=t||U>=n))for(let B=0;B<a;B++)c[(U*t+O)*a+B]=I[R*a+B]}}}if(s===16){const d=new Uint16Array(c.buffer);if(oq)for(let p=0;p<d.length;p++)d[p]=lq(d[p]);return d}else return c}function lq(r){return(r&255)<<8|r>>8&255}const cq=new Uint16Array([255]),uq=new Uint8Array(cq.buffer),hq=uq[0]===255,dq=new Uint8Array(0);function RT(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*t),c=new Uint8Array(n*a);let h=dq,d=0,p,y;for(let m=0;m<n;m++){switch(p=e.subarray(d+1,d+1+a),y=c.subarray(m*a,(m+1)*a),e[d]){case 0:f6(p,y,a);break;case 1:p6(p,y,a,o);break;case 2:m6(p,y,h,a);break;case 3:g6(p,y,h,a,o);break;case 4:y6(p,y,h,a,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}h=y,d+=a+1}if(s===16){const m=new Uint16Array(c.buffer);if(hq)for(let x=0;x<m.length;x++)m[x]=fq(m[x]);return m}else return c}function fq(r){return(r&255)<<8|r>>8&255}const ob=Uint8Array.of(137,80,78,71,13,10,26,10);function IT(r){if(!pq(r.readBytes(ob.length)))throw new Error("wrong PNG signature")}function pq(r){if(r.length<ob.length)return!1;for(let e=0;e<ob.length;e++)if(r[e]!==ob[e])return!1;return!0}const mq="tEXt",gq=0,v6=new TextDecoder("latin1");function yq(r){if(bq(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const vq=/^[\u0000-\u00FF]*$/;function bq(r){if(!vq.test(r))throw new Error("invalid latin1 text")}function _q(r,e,t){const n=b6(e);r[n]=wq(e,t-n.length-1)}function b6(r){for(r.mark();r.readByte()!==gq;);const e=r.offset;r.reset();const t=v6.decode(r.readBytes(e-r.offset-1));return r.skip(1),yq(t),t}function wq(r,e){return v6.decode(r.readBytes(e))}const Xo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Tx={UNKNOWN:-1,DEFLATE:0},MT={UNKNOWN:-1,ADAPTIVE:0},Nx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ev={NONE:0,BACKGROUND:1,PREVIOUS:2},Px={SOURCE:0,OVER:1};class xq extends ok{constructor(t,n={}){super(t);tt(this,"_checkCrc");tt(this,"_inflator");tt(this,"_png");tt(this,"_apng");tt(this,"_end");tt(this,"_hasPalette");tt(this,"_palette");tt(this,"_hasTransparency");tt(this,"_transparency");tt(this,"_compressionMethod");tt(this,"_filterMethod");tt(this,"_interlaceMethod");tt(this,"_colorType");tt(this,"_isAnimated");tt(this,"_numberOfFrames");tt(this,"_numberOfPlays");tt(this,"_frames");tt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new NT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Tx.UNKNOWN,this._filterMethod=MT.UNKNOWN,this._interlaceMethod=Nx.UNKNOWN,this._colorType=Xo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(IT(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(IT(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case mq:_q(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LT(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LT(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Sq(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Xo.GREYSCALE:i=1;break;case Xo.TRUECOLOUR:i=3;break;case Xo.INDEXED_COLOUR:i=1;break;case Xo.GREYSCALE_ALPHA:i=2;break;case Xo.TRUECOLOUR_ALPHA:i=4;break;case Xo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Tx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Xo.GREYSCALE:case Xo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Xo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Xo.UNKNOWN:case Xo.GREYSCALE_ALPHA:case Xo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=b6(this),i=this.readUint8();if(i!==Tx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Zz(s)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=RT({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case Ev.NONE:break;case Ev.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*t.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[a+c]=0}break;case Ev.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,s=(o,a)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,h=(o*n.width+a)*this._png.channels;return{index:c,frameIndex:h}};switch(n.blendOp){case Px.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:c,frameIndex:h}=s(o,a);for(let d=0;d<this._png.channels;d++)t.data[c+d]=n.data[h+d]}break;case Px.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:c,frameIndex:h}=s(o,a);for(let d=0;d<this._png.channels;d++){const p=n.data[h+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:n.data[h+d],m=Math.floor(p*y+(1-p)*t.data[c+d]);t.data[c+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==MT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Nx.NO_INTERLACE)this._png.data=RT({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Nx.ADAM7)this._png.data=aq({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ev.NONE,blendOp:Px.SOURCE,data:t}),this._inflator=new NT,this._writingDataChunks=!1}}function Sq(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var OT;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(OT||(OT={}));function Aq(r,e){return new xq(r,e).decode()}var qt=function(){return typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this}();function Lx(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Kn={log:Lx,warn:function(r){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):Lx.call(null,arguments))},error:function(r){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):Lx(r))}};function Rx(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){mf(n.response,e,t)},n.onerror=function(){Kn.error("could not download file")},n.send()}function FT(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tv(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var mf=qt.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=qt.URL||qt.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?FT(i.href)?Rx(r,e,t):Tv(i,i.target="_blank"):Tv(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(FT(r))Rx(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Tv(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Un(s)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Rx(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(qt.HTMLElement)||qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},a.readAsDataURL(r)}else{var c=qt.URL||qt.webkitURL,h=c.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _6(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,o=i.exec(r);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+a+c+h}}var ab=qt.atob.bind(qt),DT=qt.btoa.bind(qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ix(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=xs(t,n,i,s,e[0],7,-680876936),s=xs(s,t,n,i,e[1],12,-389564586),i=xs(i,s,t,n,e[2],17,606105819),n=xs(n,i,s,t,e[3],22,-1044525330),t=xs(t,n,i,s,e[4],7,-176418897),s=xs(s,t,n,i,e[5],12,1200080426),i=xs(i,s,t,n,e[6],17,-1473231341),n=xs(n,i,s,t,e[7],22,-45705983),t=xs(t,n,i,s,e[8],7,1770035416),s=xs(s,t,n,i,e[9],12,-1958414417),i=xs(i,s,t,n,e[10],17,-42063),n=xs(n,i,s,t,e[11],22,-1990404162),t=xs(t,n,i,s,e[12],7,1804603682),s=xs(s,t,n,i,e[13],12,-40341101),i=xs(i,s,t,n,e[14],17,-1502002290),t=Ss(t,n=xs(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ss(s,t,n,i,e[6],9,-1069501632),i=Ss(i,s,t,n,e[11],14,643717713),n=Ss(n,i,s,t,e[0],20,-373897302),t=Ss(t,n,i,s,e[5],5,-701558691),s=Ss(s,t,n,i,e[10],9,38016083),i=Ss(i,s,t,n,e[15],14,-660478335),n=Ss(n,i,s,t,e[4],20,-405537848),t=Ss(t,n,i,s,e[9],5,568446438),s=Ss(s,t,n,i,e[14],9,-1019803690),i=Ss(i,s,t,n,e[3],14,-187363961),n=Ss(n,i,s,t,e[8],20,1163531501),t=Ss(t,n,i,s,e[13],5,-1444681467),s=Ss(s,t,n,i,e[2],9,-51403784),i=Ss(i,s,t,n,e[7],14,1735328473),t=As(t,n=Ss(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=As(s,t,n,i,e[8],11,-2022574463),i=As(i,s,t,n,e[11],16,1839030562),n=As(n,i,s,t,e[14],23,-35309556),t=As(t,n,i,s,e[1],4,-1530992060),s=As(s,t,n,i,e[4],11,1272893353),i=As(i,s,t,n,e[7],16,-155497632),n=As(n,i,s,t,e[10],23,-1094730640),t=As(t,n,i,s,e[13],4,681279174),s=As(s,t,n,i,e[0],11,-358537222),i=As(i,s,t,n,e[3],16,-722521979),n=As(n,i,s,t,e[6],23,76029189),t=As(t,n,i,s,e[9],4,-640364487),s=As(s,t,n,i,e[12],11,-421815835),i=As(i,s,t,n,e[15],16,530742520),t=ks(t,n=As(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ks(s,t,n,i,e[7],10,1126891415),i=ks(i,s,t,n,e[14],15,-1416354905),n=ks(n,i,s,t,e[5],21,-57434055),t=ks(t,n,i,s,e[12],6,1700485571),s=ks(s,t,n,i,e[3],10,-1894986606),i=ks(i,s,t,n,e[10],15,-1051523),n=ks(n,i,s,t,e[1],21,-2054922799),t=ks(t,n,i,s,e[8],6,1873313359),s=ks(s,t,n,i,e[15],10,-30611744),i=ks(i,s,t,n,e[6],15,-1560198380),n=ks(n,i,s,t,e[13],21,1309151649),t=ks(t,n,i,s,e[4],6,-145523070),s=ks(s,t,n,i,e[11],10,-1120210379),i=ks(i,s,t,n,e[2],15,718787259),n=ks(n,i,s,t,e[9],21,-343485551),r[0]=xd(t,r[0]),r[1]=xd(n,r[1]),r[2]=xd(i,r[2]),r[3]=xd(s,r[3])}function V_(r,e,t,n,i,s){return e=xd(xd(e,r),xd(n,s)),xd(e<<i|e>>>32-i,t)}function xs(r,e,t,n,i,s,o){return V_(e&t|~e&n,r,e,i,s,o)}function Ss(r,e,t,n,i,s,o){return V_(e&n|t&~n,r,e,i,s,o)}function As(r,e,t,n,i,s,o){return V_(e^t^n,r,e,i,s,o)}function ks(r,e,t,n,i,s,o){return V_(t^(e|~n),r,e,i,s,o)}function w6(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Ix(n,kq(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ix(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Ix(n,i),n}function kq(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var jT="0123456789abcdef".split("");function Cq(r){for(var e="",t=0;t<4;t++)e+=jT[r>>8*t+4&15]+jT[r>>8*t&15];return e}function Eq(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function z5(r){return w6(r).map(Eq).join("")}var Tq=function(r){for(var e=0;e<r.length;e++)r[e]=Cq(r[e]);return r.join("")}(w6("hello"))!="5d41402abc4b2a76b9719d911017c592";function xd(r,e){if(Tq){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q5(r,e){var t,n,i,s;if(r!==t){for(var o=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var h=0;for(c=0;c<256;c++){var d=a[c];h=(h+d+o.charCodeAt(c))%256,a[c]=a[h],a[h]=d}t=r,n=a}else a=n;var p=e.length,y=0,m=0,x="";for(c=0;c<p;c++)m=(m+(d=a[y=(y+1)%256]))%256,a[y]=a[m],a[m]=d,o=a[(a[y]+a[m])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BT={print:4,modify:8,copy:16,"annot-forms":32};function jm(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(a){if(BT.perm!==void 0)throw new Error("Invalid permission: "+a);i+=BT[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=z5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q5(this.encryptionKey,this.padding)}function Bm(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function UT(r){if(Un(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(r,n)}catch(a){qt.console&&Kn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function s_(r){if(!(this instanceof s_))return new s_(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function x6(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function wf(r,e,t,n,i){if(!(this instanceof wf))return new wf(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,x6.call(this,n,i)}function Qm(r,e,t,n,i){if(!(this instanceof Qm))return new Qm(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,x6.call(this,n,i)}function At(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,h="S",d=null;Un(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(d=r.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),h=r.defaultPathOperation||"S"),o=r.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=UT;var x="1.3",_=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(C){x=C};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var S=m.__private__.getPageFormat=function(C){return A[C]};i=i||"a4";var N="compat",I="advanced",R=N;function O(){this.saveGraphicsState(),ce(new Lt(Ct,0,0,-Ct,0,Ri()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),h="n",R=I}function U(){this.restoreGraphicsState(),h="S",R=N}var B=m.__private__.combineFontStyleAndFontWeight=function(C,z){if(C=="bold"&&z=="normal"||C=="bold"&&z==400||C=="normal"&&z=="italic"||C=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(C=z==400||z==="normal"?C==="italic"?"italic":"normal":z!=700&&z!=="bold"||C!=="normal"?(z==700?"bold":z)+""+C:"bold"),C};m.advancedAPI=function(C){var z=R===N;return z&&O.call(this),typeof C!="function"||(C(this),z&&U.call(this)),this},m.compatAPI=function(C){var z=R===I;return z&&U.call(this),typeof C!="function"||(C(this),z&&O.call(this)),this},m.isAdvancedAPI=function(){return R===I};var j,D=function(C){if(R!==I)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=m.roundToPrecision=m.__private__.roundToPrecision=function(C,z){var le=e||z;if(isNaN(C)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(le).replace(/0+$/,"")};j=m.hpf=m.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return se(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return se(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return se(C,16)};var F=m.f2=m.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return se(C,2)},H=m.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return se(C,3)},ne=m.scale=m.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return R===N?C*Ct:R===I?C:void 0},ee=function(C){return ne(function(z){return R===N?Ri()-z:R===I?z:void 0}(C))};m.__private__.setPrecision=m.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var me,ge="00000000000000000000000000000000",de=m.__private__.getFileId=function(){return ge},ie=m.__private__.setFileId=function(C){return ge=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_r=new jm(d.userPermissions,d.userPassword,d.ownerPassword,ge)),ge};m.setFileId=function(C){return ie(C),this},m.getFileId=function(){return de()};var ye=m.__private__.convertDateToPDFDate=function(C){var z=C.getTimezoneOffset(),le=z<0?"+":"-",ve=Math.floor(Math.abs(z/60)),Ee=Math.abs(z%60),ze=[le,re(ve),"'",re(Ee),"'"].join("");return["D:",C.getFullYear(),re(C.getMonth()+1),re(C.getDate()),re(C.getHours()),re(C.getMinutes()),re(C.getSeconds()),ze].join("")},be=m.__private__.convertPDFDateToDate=function(C){var z=parseInt(C.substr(2,4),10),le=parseInt(C.substr(6,2),10)-1,ve=parseInt(C.substr(8,2),10),Ee=parseInt(C.substr(10,2),10),ze=parseInt(C.substr(12,2),10),Ve=parseInt(C.substr(14,2),10);return new Date(z,le,ve,Ee,ze,Ve,0)},Z=m.__private__.setCreationDate=function(C){var z;if(C===void 0&&(C=new Date),C instanceof Date)z=ye(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=C}return me=z},M=m.__private__.getCreationDate=function(C){var z=me;return C==="jsDate"&&(z=be(me)),z};m.setCreationDate=function(C){return Z(C),this},m.getCreationDate=function(C){return M(C)};var J,re=m.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ue=m.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},pe=0,fe=[],Ce=[],ke=0,xe=[],Ue=[],$e=!1,Fe=Ce;m.__private__.setCustomOutputDestination=function(C){$e=!0,Fe=C};var Le=function(C){$e||(Fe=C)};m.__private__.resetCustomOutputDestination=function(){$e=!1,Fe=Ce};var ce=m.__private__.out=function(C){return C=C.toString(),ke+=C.length+1,Fe.push(C),Fe},yt=m.__private__.write=function(C){return ce(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},St=m.__private__.getArrayBuffer=function(C){for(var z=C.length,le=new ArrayBuffer(z),ve=new Uint8Array(le);z--;)ve[z]=C.charCodeAt(z);return le},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return lt};var We=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(C){return We=R===I?C/Ct:C,this};var rt,Je=m.__private__.getFontSize=m.getFontSize=function(){return R===N?We:We*Ct},Dt=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(C){return Dt=C,this},m.__private__.getR2L=m.getR2L=function(){return Dt};var wt,an=m.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))rt=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');rt=C}else rt=parseInt(C,10)};m.__private__.getZoomMode=function(){return rt};var Nt,Pt=m.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');wt=C};m.__private__.getPageMode=function(){return wt};var tn=m.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Nt=C};m.__private__.getLayoutMode=function(){return Nt},m.__private__.setDisplayMode=m.setDisplayMode=function(C,z,le){return an(C),tn(z),Pt(le),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(C){if(Object.keys(Rt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[C]},m.__private__.getDocumentProperties=function(){return Rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(C){for(var z in Rt)Rt.hasOwnProperty(z)&&C[z]&&(Rt[z]=C[z]);return this},m.__private__.setDocumentProperty=function(C,z){if(Object.keys(Rt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[C]=z};var pt,Ct,vt,zn,gn,bt={},$t={},Cn=[],Et={},nn={},Ut={},sr={},er=null,yn=0,Bt=[],bn=new UT(m),$l=r.hotfixes||[],vi={},ya={},so=[],Lt=function C(z,le,ve,Ee,ze,Ve){if(!(this instanceof C))return new C(z,le,ve,Ee,ze,Ve);isNaN(z)&&(z=1),isNaN(le)&&(le=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN(ze)&&(ze=0),isNaN(Ve)&&(Ve=0),this._matrix=[z,le,ve,Ee,ze,Ve]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(C)},Lt.prototype.multiply=function(C){var z=C.sx*this.sx+C.shy*this.shx,le=C.sx*this.shy+C.shy*this.sy,ve=C.shx*this.sx+C.sy*this.shx,Ee=C.shx*this.shy+C.sy*this.sy,ze=C.tx*this.sx+C.ty*this.shx+this.tx,Ve=C.tx*this.shy+C.ty*this.sy+this.ty;return new Lt(z,le,ve,Ee,ze,Ve)},Lt.prototype.decompose=function(){var C=this.sx,z=this.shy,le=this.shx,ve=this.sy,Ee=this.tx,ze=this.ty,Ve=Math.sqrt(C*C+z*z),at=(C/=Ve)*le+(z/=Ve)*ve;le-=C*at,ve-=z*at;var ut=Math.sqrt(le*le+ve*ve);return at/=ut,C*(ve/=ut)<z*(le/=ut)&&(C=-C,z=-z,at=-at,Ve=-Ve),{scale:new Lt(Ve,0,0,ut,0,0),translate:new Lt(1,0,0,1,Ee,ze),rotate:new Lt(C,z,-z,C,0,0),skew:new Lt(1,0,at,1,0,0)}},Lt.prototype.toString=function(C){return this.join(" ")},Lt.prototype.inversed=function(){var C=this.sx,z=this.shy,le=this.shx,ve=this.sy,Ee=this.tx,ze=this.ty,Ve=1/(C*ve-z*le),at=ve*Ve,ut=-z*Ve,It=-le*Ve,Ht=C*Ve;return new Lt(at,ut,It,Ht,-at*Ee-It*ze,-ut*Ee-Ht*ze)},Lt.prototype.applyToPoint=function(C){var z=C.x*this.sx+C.y*this.shx+this.tx,le=C.x*this.shy+C.y*this.sy+this.ty;return new Sa(z,le)},Lt.prototype.applyToRectangle=function(C){var z=this.applyToPoint(C),le=this.applyToPoint(new Sa(C.x+C.w,C.y+C.h));return new Xc(z.x,z.y,le.x-z.x,le.y-z.y)},Lt.prototype.clone=function(){var C=this.sx,z=this.shy,le=this.shx,ve=this.sy,Ee=this.tx,ze=this.ty;return new Lt(C,z,le,ve,Ee,ze)},m.Matrix=Lt;var js=m.matrixMult=function(C,z){return z.multiply(C)},Mo=new Lt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Mo;var Pi=function(C,z){if(!nn[C]){var le=(z instanceof wf?"Sh":"P")+(Object.keys(Et).length+1).toString(10);z.id=le,nn[C]=le,Et[le]=z,bn.publish("addPattern",z)}};m.ShadingPattern=wf,m.TilingPattern=Qm,m.addShadingPattern=function(C,z){return D("addShadingPattern()"),Pi(C,z),this},m.beginTilingPattern=function(C){D("beginTilingPattern()"),uo(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},m.endTilingPattern=function(C,z){D("endTilingPattern()"),z.stream=Ue[J].join(`
`),Pi(C,z),bn.publish("endTilingPattern",z),so.pop().restore()};var oo,qn=m.__private__.newObject=function(){var C=br();return Mr(C,!0),C},br=m.__private__.newObjectDeferred=function(){return pe++,fe[pe]=function(){return ke},pe},Mr=function(C,z){return z=typeof z=="boolean"&&z,fe[C]=ke,z&&ce(C+" 0 obj"),C},Ja=m.__private__.newAdditionalObject=function(){var C={objId:br(),content:""};return xe.push(C),C},Hl=br(),Oo=br(),va=m.__private__.decodeColorString=function(C){var z=C.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var le=parseFloat(z[0]);z=[le,le,le,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(z[Ee])).toString(16)).slice(-2);return ve},bi=m.__private__.encodeColorString=function(C){var z;typeof C=="string"&&(C={ch1:C});var le=C.ch1,ve=C.ch2,Ee=C.ch3,ze=C.ch4,Ve=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var at=new _6(le);if(at.ok)le=at.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var ut=parseInt(le.substr(1),16);le=ut>>16&255,ve=ut>>8&255,Ee=255&ut}if(ve===void 0||ze===void 0&&le===ve&&ve===Ee)z=typeof le=="string"?le+" "+Ve[0]:C.precision===2?F(le/255)+" "+Ve[0]:H(le/255)+" "+Ve[0];else if(ze===void 0||Un(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Ve[1]].join(" ");z=typeof le=="string"?[le,ve,Ee,Ve[1]].join(" "):C.precision===2?[F(le/255),F(ve/255),F(Ee/255),Ve[1]].join(" "):[H(le/255),H(ve/255),H(Ee/255),Ve[1]].join(" ")}else z=typeof le=="string"?[le,ve,Ee,ze,Ve[2]].join(" "):C.precision===2?[F(le),F(ve),F(Ee),F(ze),Ve[2]].join(" "):[H(le),H(ve),H(Ee),H(ze),Ve[2]].join(" ");return z},ao=m.__private__.getFilters=function(){return o},Bs=m.__private__.putStream=function(C){var z=(C=C||{}).data||"",le=C.filters||ao(),ve=C.alreadyAppliedFilters||[],Ee=C.addLength1||!1,ze=z.length,Ve=C.objectId,at=function(Gr){return Gr};if(d!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(at=_r.encryptor(Ve,0));var ut={};le===!0&&(le=["FlateEncode"]);var It=C.additionalKeyValues||[],Ht=(ut=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(z,le):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(ut.data.length!==0&&(It.push({key:"Length",value:ut.data.length}),Ee===!0&&It.push({key:"Length1",value:ze})),Ht.length!=0)if(Ht.split("/").length-1==1)It.push({key:"Filter",value:Ht});else{It.push({key:"Filter",value:"["+Ht+"]"});for(var _n=0;_n<It.length;_n+=1)if(It[_n].key==="DecodeParms"){for(var or=[],Fr=0;Fr<ut.reverseChain.split("/").length-1;Fr+=1)or.push("null");or.push(It[_n].value),It[_n].value="["+or.join(" ")+"]"}}ce("<<");for(var An=0;An<It.length;An++)ce("/"+It[An].key+" "+It[An].value);ce(">>"),ut.data.length!==0&&(ce("stream"),ce(at(ut.data)),ce("endstream"))},Bc=m.__private__.putPage=function(C){var z=C.number,le=C.data,ve=C.objId,Ee=C.contentsObjId;Mr(ve,!0),ce("<</Type /Page"),ce("/Parent "+C.rootDictionaryObjId+" 0 R"),ce("/Resources "+C.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(j(C.mediaBox.bottomLeftX))+" "+parseFloat(j(C.mediaBox.bottomLeftY))+" "+j(C.mediaBox.topRightX)+" "+j(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ce("/CropBox ["+j(C.cropBox.bottomLeftX)+" "+j(C.cropBox.bottomLeftY)+" "+j(C.cropBox.topRightX)+" "+j(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ce("/BleedBox ["+j(C.bleedBox.bottomLeftX)+" "+j(C.bleedBox.bottomLeftY)+" "+j(C.bleedBox.topRightX)+" "+j(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ce("/TrimBox ["+j(C.trimBox.bottomLeftX)+" "+j(C.trimBox.bottomLeftY)+" "+j(C.trimBox.topRightX)+" "+j(C.trimBox.topRightY)+"]"),C.artBox!==null&&ce("/ArtBox ["+j(C.artBox.bottomLeftX)+" "+j(C.artBox.bottomLeftY)+" "+j(C.artBox.topRightX)+" "+j(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ce("/UserUnit "+C.userUnit),bn.publish("putPage",{objId:ve,pageContext:Bt[z],pageNumber:z,page:le}),ce("/Contents "+Ee+" 0 R"),ce(">>"),ce("endobj");var ze=le.join(`
`);return R===I&&(ze+=`
Q`),Mr(Ee,!0),Bs({data:ze,filters:ao(),objectId:Ee}),ce("endobj"),ve},Fo=m.__private__.putPages=function(){var C,z,le=[];for(C=1;C<=yn;C++)Bt[C].objId=br(),Bt[C].contentsObjId=br();for(C=1;C<=yn;C++)le.push(Bc({number:C,data:Ue[C],objId:Bt[C].objId,contentsObjId:Bt[C].contentsObjId,mediaBox:Bt[C].mediaBox,cropBox:Bt[C].cropBox,bleedBox:Bt[C].bleedBox,trimBox:Bt[C].trimBox,artBox:Bt[C].artBox,userUnit:Bt[C].userUnit,rootDictionaryObjId:Hl,resourceDictionaryObjId:Oo}));Mr(Hl,!0),ce("<</Type /Pages");var ve="/Kids [";for(z=0;z<yn;z++)ve+=le[z]+" 0 R ";ce(ve+"]"),ce("/Count "+yn),ce(">>"),ce("endobj"),bn.publish("postPutPages")},Vl=function(C){bn.publish("putFont",{font:C,out:ce,newObject:qn,putStream:Bs}),C.isAlreadyPutted!==!0&&(C.objectNumber=qn(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+Bm(C.postScriptName)),ce("/Subtype /Type1"),typeof C.encoding=="string"&&ce("/Encoding /"+C.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Uc=function(C){C.objectNumber=qn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[j(C.x),j(C.y),j(C.x+C.width),j(C.y+C.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var le=C.pages[1].join(`
`);Bs({data:le,additionalKeyValues:z,objectId:C.objectNumber}),ce("endobj")},zc=function(C,z){z||(z=21);var le=qn(),ve=function(Ve,at){var ut,It=[],Ht=1/(at-1);for(ut=0;ut<1;ut+=Ht)It.push(ut);if(It.push(1),Ve[0].offset!=0){var _n={offset:0,color:Ve[0].color};Ve.unshift(_n)}if(Ve[Ve.length-1].offset!=1){var or={offset:1,color:Ve[Ve.length-1].color};Ve.push(or)}for(var Fr="",An=0,Gr=0;Gr<It.length;Gr++){for(ut=It[Gr];ut>Ve[An+1].offset;)An++;var Dr=Ve[An].offset,_i=(ut-Dr)/(Ve[An+1].offset-Dr),rl=Ve[An].color,Yl=Ve[An+1].color;Fr+=ue(Math.round((1-_i)*rl[0]+_i*Yl[0]).toString(16))+ue(Math.round((1-_i)*rl[1]+_i*Yl[1]).toString(16))+ue(Math.round((1-_i)*rl[2]+_i*Yl[2]).toString(16))}return Fr.trim()}(C.colors,z),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+z+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bs({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),ce("endobj"),C.objectNumber=qn(),ce("<< /ShadingType "+C.type),ce("/ColorSpace /DeviceRGB");var ze="/Coords ["+j(parseFloat(C.coords[0]))+" "+j(parseFloat(C.coords[1]))+" ";C.type===2?ze+=j(parseFloat(C.coords[2]))+" "+j(parseFloat(C.coords[3])):ze+=j(parseFloat(C.coords[2]))+" "+j(parseFloat(C.coords[3]))+" "+j(parseFloat(C.coords[4]))+" "+j(parseFloat(C.coords[5])),ce(ze+="]"),C.matrix&&ce("/Matrix ["+C.matrix.toString()+"]"),ce("/Function "+le+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},ah=function(C,z){var le=br(),ve=qn();z.push({resourcesOid:le,objectOid:ve}),C.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+C.boundingBox.map(j).join(" ")+"]"}),Ee.push({key:"XStep",value:j(C.xStep)}),Ee.push({key:"YStep",value:j(C.yStep)}),Ee.push({key:"Resources",value:le+" 0 R"}),C.matrix&&Ee.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Bs({data:C.stream,additionalKeyValues:Ee,objectId:C.objectNumber}),ce("endobj")},C0=function(C){for(var z in C.objectNumber=qn(),ce("<<"),C)switch(z){case"opacity":ce("/ca "+F(C[z]));break;case"stroke-opacity":ce("/CA "+F(C[z]))}ce(">>"),ce("endobj")},Yn=function(C){Mr(C.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in ce("/Font <<"),bt)bt.hasOwnProperty(z)&&(p===!1||p===!0&&y.hasOwnProperty(z))&&ce("/"+z+" "+bt[z].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(Et).length>0){for(var z in ce("/Shading <<"),Et)Et.hasOwnProperty(z)&&Et[z]instanceof wf&&Et[z].objectNumber>=0&&ce("/"+z+" "+Et[z].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),ce(">>")}}(),function(z){if(Object.keys(Et).length>0){for(var le in ce("/Pattern <<"),Et)Et.hasOwnProperty(le)&&Et[le]instanceof m.TilingPattern&&Et[le].objectNumber>=0&&Et[le].objectNumber<z&&ce("/"+le+" "+Et[le].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),ce(">>")}}(C.objectOid),function(){if(Object.keys(Ut).length>0){var z;for(z in ce("/ExtGState <<"),Ut)Ut.hasOwnProperty(z)&&Ut[z].objectNumber>=0&&ce("/"+z+" "+Ut[z].objectNumber+" 0 R");bn.publish("putGStateDict"),ce(">>")}}(),function(){for(var z in ce("/XObject <<"),vi)vi.hasOwnProperty(z)&&vi[z].objectNumber>=0&&ce("/"+z+" "+vi[z].objectNumber+" 0 R");bn.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},Qp=function(C){$t[C.fontName]=$t[C.fontName]||{},$t[C.fontName][C.fontStyle]=C.id},lh=function(C,z,le,ve,Ee){var ze={id:"F"+(Object.keys(bt).length+1).toString(10),postScriptName:C,fontName:z,fontStyle:le,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return bn.publish("addFont",{font:ze,instance:this}),bt[ze.id]=ze,Qp(ze),ze.id},Us=m.__private__.pdfEscape=m.pdfEscape=function(C,z){return function(le,ve){var Ee,ze,Ve,at,ut,It,Ht,_n,or;if(Ve=(ve=ve||{}).sourceEncoding||"Unicode",ut=ve.outputEncoding,(ve.autoencode||ut)&&bt[pt].metadata&&bt[pt].metadata[Ve]&&bt[pt].metadata[Ve].encoding&&(at=bt[pt].metadata[Ve].encoding,!ut&&bt[pt].encoding&&(ut=bt[pt].encoding),!ut&&at.codePages&&(ut=at.codePages[0]),typeof ut=="string"&&(ut=at[ut]),ut)){for(Ht=!1,It=[],Ee=0,ze=le.length;Ee<ze;Ee++)(_n=ut[le.charCodeAt(Ee)])?It.push(String.fromCharCode(_n)):It.push(le[Ee]),It[Ee].charCodeAt(0)>>8&&(Ht=!0);le=It.join("")}for(Ee=le.length;Ht===void 0&&Ee!==0;)le.charCodeAt(Ee-1)>>8&&(Ht=!0),Ee--;if(!Ht)return le;for(It=ve.noBOM?[]:[254,255],Ee=0,ze=le.length;Ee<ze;Ee++){if((or=(_n=le.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(or),It.push(_n-(or<<8))}return String.fromCharCode.apply(void 0,It)}(C,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wl=m.__private__.beginPage=function(C){Ue[++yn]=[],Bt[yn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},qc(yn),Le(Ue[J])},Zp=function(C,z){var le,ve,Ee;switch(t=z||t,typeof C=="string"&&(le=S(C.toLowerCase()),Array.isArray(le)&&(ve=le[0],Ee=le[1])),Array.isArray(C)&&(ve=C[0]*Ct,Ee=C[1]*Ct),isNaN(ve)&&(ve=i[0],Ee=i[1]),(ve>14400||Ee>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),i=[ve,Ee],t.substr(0,1)){case"l":Ee>ve&&(i=[Ee,ve]);break;case"p":ve>Ee&&(i=[Ee,ve])}Wl(i),Gc(co),ce(Yc),Ud!==0&&ce(Ud+" J"),zd!==0&&ce(zd+" j"),bn.publish("addPage",{pageNumber:yn})},ch=function(C){C>0&&C<=yn&&(Ue.splice(C,1),Bt.splice(C,1),yn--,J>yn&&(J=yn),this.setPage(J))},qc=function(C){C>0&&C<=yn&&(J=C)},zs=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ue.length-1},em=function(C,z,le){var ve,Ee=void 0;return le=le||{},C=C!==void 0?C:bt[pt].fontName,z=z!==void 0?z:bt[pt].fontStyle,ve=C.toLowerCase(),$t[ve]!==void 0&&$t[ve][z]!==void 0?Ee=$t[ve][z]:$t[C]!==void 0&&$t[C][z]!==void 0?Ee=$t[C][z]:le.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+C+"', '"+z+"'. Refer to getFontList() for available fonts."),Ee||le.noFallback||(Ee=$t.times[z])==null&&(Ee=$t.times.normal),Ee},Li=m.__private__.putInfo=function(){var C=qn(),z=function(ve){return ve};for(var le in d!==null&&(z=_r.encryptor(C,0)),ce("<<"),ce("/Producer ("+Us(z("jsPDF "+At.version))+")"),Rt)Rt.hasOwnProperty(le)&&Rt[le]&&ce("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Us(z(Rt[le]))+")");ce("/CreationDate ("+Us(z(me))+")"),ce(">>"),ce("endobj")},E0=m.__private__.putCatalog=function(C){var z=(C=C||{}).rootDictionaryObjId||Hl;switch(qn(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+rt;le.substr(le.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+F(rt)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}wt&&ce("/PageMode /"+wt),bn.publish("putCatalog"),ce(">>"),ce("endobj")},Or=m.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(pe+1)),ce("/Root "+pe+" 0 R"),ce("/Info "+(pe-1)+" 0 R"),d!==null&&ce("/Encrypt "+_r.oid+" 0 R"),ce("/ID [ <"+ge+"> <"+ge+"> ]"),ce(">>")},tm=m.__private__.putHeader=function(){ce("%PDF-"+x),ce("%")},$c=m.__private__.putXRef=function(){var C="0000000000";ce("xref"),ce("0 "+(pe+1)),ce("0000000000 65535 f ");for(var z=1;z<=pe;z++)typeof fe[z]=="function"?ce((C+fe[z]()).slice(-10)+" 00000 n "):fe[z]!==void 0?ce((C+fe[z]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},lo=m.__private__.buildDocument=function(){var C;pe=0,ke=0,Ce=[],fe=[],xe=[],Hl=br(),Oo=br(),Le(Ce),bn.publish("buildDocument"),tm(),Fo(),function(){bn.publish("putAdditionalObjects");for(var le=0;le<xe.length;le++){var ve=xe[le];Mr(ve.objId,!0),ce(ve.content),ce("endobj")}bn.publish("postPutAdditionalObjects")}(),C=[],function(){for(var le in bt)bt.hasOwnProperty(le)&&(p===!1||p===!0&&y.hasOwnProperty(le))&&Vl(bt[le])}(),function(){var le;for(le in Ut)Ut.hasOwnProperty(le)&&C0(Ut[le])}(),function(){for(var le in vi)vi.hasOwnProperty(le)&&Uc(vi[le])}(),function(le){var ve;for(ve in Et)Et.hasOwnProperty(ve)&&(Et[ve]instanceof wf?zc(Et[ve]):Et[ve]instanceof Qm&&ah(Et[ve],le))}(C),bn.publish("putResources"),C.forEach(Yn),Yn({resourcesOid:Oo,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources"),d!==null&&(_r.oid=qn(),ce("<<"),ce("/Filter /Standard"),ce("/V "+_r.v),ce("/R "+_r.r),ce("/U <"+_r.toHexString(_r.U)+">"),ce("/O <"+_r.toHexString(_r.O)+">"),ce("/P "+_r.P),ce(">>"),ce("endobj")),Li(),E0();var z=ke;return $c(),Or(),ce("startxref"),ce(""+z),ce("%%EOF"),Le(Ue[J]),Ce.join(`
`)},Do=m.__private__.getBlob=function(C){return new Blob([St(C)],{type:"application/pdf"})},cs=m.output=m.__private__.output=(oo=function(C,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",C){case void 0:return lo();case"save":m.save(z.filename);break;case"arraybuffer":return St(lo());case"blob":return Do(lo());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Do(lo()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ve=lo();try{le=DT(ve)}catch{le=DT(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+z.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ee=z.pdfObjectUrl,ze="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",at=qt.open();return at!==null&&at.document.write(Ve),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',It=qt.open();if(It!==null){It.document.write(ut);var Ht=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=z.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',or=qt.open();if(or!==null&&(or.document.write(_n),or.document.title=z.filename),or||typeof safari>"u")return or;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",z);default:return null}},oo.foo=function(){try{return oo.apply(this,arguments)}catch(le){var C=le.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var z="Error in function "+C.split(`
`)[0].split("<")[0]+": "+le.message;if(!qt.console)throw new Error(z);qt.console.error(z,le),qt.alert&&alert(z)}},oo.foo.bar=oo,oo.foo),Hc=function(C){return Array.isArray($l)===!0&&$l.indexOf(C)>-1};switch(n){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=Hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ct=n}var _r=null;Z(),ie();var Vc=m.__private__.getPageInfo=m.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[C].objId,pageNumber:C,pageContext:Bt[C]}},nm=m.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Bt)if(Bt[z].objId===C)break;return Vc(z)},Dd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Bt[J].objId,pageNumber:J,pageContext:Bt[J]}};m.addPage=function(){return Zp.apply(this,arguments),this},m.setPage=function(){return qc.apply(this,arguments),Le.call(this,Ue[J]),this},m.insertPage=function(C){return this.addPage(),this.movePage(J,C),this},m.movePage=function(C,z){var le,ve;if(C>z){le=Ue[C],ve=Bt[C];for(var Ee=C;Ee>z;Ee--)Ue[Ee]=Ue[Ee-1],Bt[Ee]=Bt[Ee-1];Ue[z]=le,Bt[z]=ve,this.setPage(z)}else if(C<z){le=Ue[C],ve=Bt[C];for(var ze=C;ze<z;ze++)Ue[ze]=Ue[ze+1],Bt[ze]=Bt[ze+1];Ue[z]=le,Bt[z]=ve,this.setPage(z)}return this},m.deletePage=function(){return ch.apply(this,arguments),this},m.__private__.text=m.text=function(C,z,le,ve,Ee){var ze,Ve,at,ut,It,Ht,_n,or,Fr,An=(ve=ve||{}).scope||this;if(typeof C=="number"&&typeof z=="number"&&(typeof le=="string"||Array.isArray(le))){var Gr=le;le=z,z=C,C=Gr}if(arguments[3]instanceof Lt==0?(at=arguments[4],ut=arguments[5],Un(_n=arguments[3])==="object"&&_n!==null||(typeof at=="string"&&(ut=at,at=null),typeof _n=="string"&&(ut=_n,_n=null),typeof _n=="number"&&(at=_n,_n=null),ve={flags:_n,angle:at,align:ut})):(D("The transform parameter of text() with a Matrix value"),Fr=Ee),isNaN(z)||isNaN(le)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return An;var Dr,_i="",rl=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:us,Yl=An.internal.scaleFactor;function am($n){return $n=$n.split("	").join(Array(ve.TabLen||9).join(" ")),Us($n,_n)}function lm($n){for(var Hn,wr=$n.concat(),xr=[],Xr=wr.length;Xr--;)typeof(Hn=wr.shift())=="string"?xr.push(Hn):Array.isArray($n)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?xr.push(Hn[0]):xr.push([Hn[0],Hn[1],Hn[2]]);return xr}function Jc($n,Hn){var wr;if(typeof $n=="string")wr=Hn($n)[0];else if(Array.isArray($n)){for(var xr,Xr,Ea=$n.concat(),qo=[],wh=Ea.length;wh--;)typeof(xr=Ea.shift())=="string"?qo.push(Hn(xr)[0]):Array.isArray(xr)&&typeof xr[0]=="string"&&(Xr=Hn(xr[0],xr[1],xr[2]),qo.push([Xr[0],Xr[1],Xr[2]]));wr=qo}return wr}var zo=!1,qd=!0;if(typeof C=="string")zo=!0;else if(Array.isArray(C)){var Xl=C.concat();Ve=[];for(var Kl,ai=Xl.length;ai--;)(typeof(Kl=Xl.shift())!="string"||Array.isArray(Kl)&&typeof Kl[0]!="string")&&(qd=!1);zo=qd}if(zo===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var il=We/An.internal.scaleFactor,Aa=il*(rl-1);switch(ve.baseline){case"bottom":le-=Aa;break;case"top":le+=il-Aa;break;case"hanging":le+=il-2*Aa;break;case"middle":le+=il/2-Aa}if((Ht=ve.maxWidth||0)>0&&(typeof C=="string"?C=An.splitTextToSize(C,Ht):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function($n,Hn){return $n.concat(An.splitTextToSize(Hn,Ht))},[]))),ze={text:C,x:z,y:le,options:ve,mutex:{pdfEscape:Us,activeFontKey:pt,fonts:bt,activeFontSize:We}},bn.publish("preProcessText",ze),C=ze.text,at=(ve=ze.options).angle,Fr instanceof Lt==0&&at&&typeof at=="number"){at*=Math.PI/180,ve.rotationDirection===0&&(at=-at),R===I&&(at=-at);var gh=Math.cos(at),$d=Math.sin(at);Fr=new Lt(gh,$d,-$d,gh,0,0)}else at&&at instanceof Lt&&(Fr=at);R!==I||Fr||(Fr=Mo),(It=ve.charSpace||Uo)!==void 0&&(_i+=j(ne(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(or=ve.horizontalScale)!==void 0&&(_i+=j(100*or)+` Tz
`),ve.lang;var Yi=-1,cm=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,yh=An.internal.getCurrentPageInfo().pageContext;switch(cm){case 0:case!1:case"fill":Yi=0;break;case 1:case!0:case"stroke":Yi=1;break;case 2:case"fillThenStroke":Yi=2;break;case 3:case"invisible":Yi=3;break;case 4:case"fillAndAddForClipping":Yi=4;break;case 5:case"strokeAndAddPathForClipping":Yi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yi=6;break;case 7:case"addToPathForClipping":Yi=7}var um=yh.usedRenderingMode!==void 0?yh.usedRenderingMode:-1;Yi!==-1?_i+=Yi+` Tr
`:um!==-1&&(_i+=`0 Tr
`),Yi!==-1&&(yh.usedRenderingMode=Yi),ut=ve.align||"left";var Yr,hs=We*rl,sl=An.internal.pageSize.getWidth(),Hd=bt[pt];It=ve.charSpace||Uo,Ht=ve.maxWidth||0,_n=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var ol=[],Qc=function($n){return An.getStringUnitWidth($n,{font:Hd,charSpace:It,fontSize:We,doKerning:!1})*We/Yl};if(Object.prototype.toString.call(C)==="[object Array]"){var Xi;Ve=lm(C),ut!=="left"&&(Yr=Ve.map(Qc));var Ki,Jl=0;if(ut==="right"){z-=Yr[0],C=[],ai=Ve.length;for(var Ji=0;Ji<ai;Ji++)Ji===0?(Ki=qs(z),Xi=el(le)):(Ki=ne(Jl-Yr[Ji]),Xi=-hs),C.push([Ve[Ji],Ki,Xi]),Jl=Yr[Ji]}else if(ut==="center"){z-=Yr[0]/2,C=[],ai=Ve.length;for(var Ql=0;Ql<ai;Ql++)Ql===0?(Ki=qs(z),Xi=el(le)):(Ki=ne((Jl-Yr[Ql])/2),Xi=-hs),C.push([Ve[Ql],Ki,Xi]),Jl=Yr[Ql]}else if(ut==="left"){C=[],ai=Ve.length;for(var Vd=0;Vd<ai;Vd++)C.push(Ve[Vd])}else if(ut==="justify"&&Hd.encoding==="Identity-H"){C=[],ai=Ve.length,Ht=Ht!==0?Ht:sl;for(var Zl=0,hr=0;hr<ai;hr++)if(Xi=hr===0?el(le):-hs,Ki=hr===0?qs(z):Zl,hr<ai-1){var hm=ne((Ht-Yr[hr])/(Ve[hr].split(" ").length-1)),ds=Ve[hr].split(" ");C.push([ds[0]+" ",Ki,Xi]),Zl=0;for(var fs=1;fs<ds.length;fs++){var vh=(Qc(ds[fs-1]+" "+ds[fs])-Qc(ds[fs]))*Yl+hm;fs==ds.length-1?C.push([ds[fs],vh,0]):C.push([ds[fs]+" ",vh,0]),Zl-=vh}}else C.push([Ve[hr],Ki,Xi]);C.push(["",Zl,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],ai=Ve.length,Ht=Ht!==0?Ht:sl,hr=0;hr<ai;hr++)Xi=hr===0?el(le):-hs,Ki=hr===0?qs(z):0,hr<ai-1?ol.push(j(ne((Ht-Yr[hr])/(Ve[hr].split(" ").length-1)))):ol.push(0),C.push([Ve[hr],Ki,Xi])}}(typeof ve.R2L=="boolean"?ve.R2L:Dt)===!0&&(C=Jc(C,function($n,Hn,wr){return[$n.split("").reverse().join(""),Hn,wr]})),ze={text:C,x:z,y:le,options:ve,mutex:{pdfEscape:Us,activeFontKey:pt,fonts:bt,activeFontSize:We}},bn.publish("postProcessText",ze),C=ze.text,Dr=ze.mutex.isHex||!1;var ec=bt[pt].encoding;ec!=="WinAnsiEncoding"&&ec!=="StandardEncoding"||(C=Jc(C,function($n,Hn,wr){return[am($n),Hn,wr]})),Ve=lm(C),C=[];for(var bh,Zc,al,ll=Array.isArray(Ve[0])?1:0,ka="",_h=function($n,Hn,wr){var xr="";return wr instanceof Lt?(wr=typeof ve.angle=="number"?js(wr,new Lt(1,0,0,1,$n,Hn)):js(new Lt(1,0,0,1,$n,Hn),wr),R===I&&(wr=js(new Lt(1,0,0,-1,0,0),wr)),xr=wr.join(" ")+` Tm
`):xr=j($n)+" "+j(Hn)+` Td
`,xr},ps=0;ps<Ve.length;ps++){switch(ka="",ll){case 1:al=(Dr?"<":"(")+Ve[ps][0]+(Dr?">":")"),bh=parseFloat(Ve[ps][1]),Zc=parseFloat(Ve[ps][2]);break;case 0:al=(Dr?"<":"(")+Ve[ps]+(Dr?">":")"),bh=qs(z),Zc=el(le)}ol!==void 0&&ol[ps]!==void 0&&(ka=ol[ps]+` Tw
`),ps===0?C.push(ka+_h(bh,Zc,Fr)+al):ll===0?C.push(ka+al):ll===1&&C.push(ka+_h(bh,Zc,Fr)+al)}C=ll===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Ca=`BT
/`;return Ca+=pt+" "+We+` Tf
`,Ca+=j(We*rl)+` TL
`,Ca+=Bo+`
`,Ca+=_i,Ca+=C,ce(Ca+="ET"),y[pt]=!0,An};var Wc=m.__private__.clip=m.clip=function(C){return ce(C==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Wc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ce("n"),this};var ba=m.__private__.isValidStyle=function(C){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(z=!0),z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(C){return ba(C)&&(h=C),this};var uh=m.__private__.getStyle=m.getStyle=function(C){var z=h;switch(C){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=C}return z},vn=m.close=function(){return ce("h"),this};m.stroke=function(){return ce("S"),this},m.fill=function(C){return Qa("f",C),this},m.fillEvenOdd=function(C){return Qa("f*",C),this},m.fillStroke=function(C){return Qa("B",C),this},m.fillStrokeEvenOdd=function(C){return Qa("B*",C),this};var Qa=function(C,z){Un(z)==="object"?rm(z,C):ce(C)},hh=function(C){C===null||R===I&&C===void 0||(C=uh(C),ce(C))};function jd(C,z,le,ve,Ee){var ze=new Qm(z||this.boundingBox,le||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);ze.stream=this.stream;var Ve=C+"$$"+this.cloneIndex+++"$$";return Pi(Ve,ze),ze}var rm=function(C,z){var le=nn[C.key],ve=Et[le];if(ve instanceof wf)ce("q"),ce(im(z)),ve.gState&&m.setGState(ve.gState),ce(C.matrix.toString()+" cm"),ce("/"+le+" sh"),ce("Q");else if(ve instanceof Qm){var Ee=new Lt(1,0,0,-1,0,Ri());C.matrix&&(Ee=Ee.multiply(C.matrix||Mo),le=jd.call(ve,C.key,C.boundingBox,C.xStep,C.yStep,Ee).id),ce("q"),ce("/Pattern cs"),ce("/"+le+" scn"),ve.gState&&m.setGState(ve.gState),ce(z),ce("Q")}},im=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dh=m.moveTo=function(C,z){return ce(j(ne(C))+" "+j(ee(z))+" m"),this},Za=m.lineTo=function(C,z){return ce(j(ne(C))+" "+j(ee(z))+" l"),this},jo=m.curveTo=function(C,z,le,ve,Ee,ze){return ce([j(ne(C)),j(ee(z)),j(ne(le)),j(ee(ve)),j(ne(Ee)),j(ee(ze)),"c"].join(" ")),this};m.__private__.line=m.line=function(C,z,le,ve,Ee){if(isNaN(C)||isNaN(z)||isNaN(le)||isNaN(ve)||!ba(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return R===N?this.lines([[le-C,ve-z]],C,z,[1,1],Ee||"S"):this.lines([[le-C,ve-z]],C,z,[1,1]).stroke()},m.__private__.lines=m.lines=function(C,z,le,ve,Ee,ze){var Ve,at,ut,It,Ht,_n,or,Fr,An,Gr,Dr,_i;if(typeof C=="number"&&(_i=le,le=z,z=C,C=_i),ve=ve||[1,1],ze=ze||!1,isNaN(z)||isNaN(le)||!Array.isArray(C)||!Array.isArray(ve)||!ba(Ee)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dh(z,le),Ve=ve[0],at=ve[1],It=C.length,Gr=z,Dr=le,ut=0;ut<It;ut++)(Ht=C[ut]).length===2?(Gr=Ht[0]*Ve+Gr,Dr=Ht[1]*at+Dr,Za(Gr,Dr)):(_n=Ht[0]*Ve+Gr,or=Ht[1]*at+Dr,Fr=Ht[2]*Ve+Gr,An=Ht[3]*at+Dr,Gr=Ht[4]*Ve+Gr,Dr=Ht[5]*at+Dr,jo(_n,or,Fr,An,Gr,Dr));return ze&&vn(),hh(Ee),this},m.path=function(C){for(var z=0;z<C.length;z++){var le=C[z],ve=le.c;switch(le.op){case"m":dh(ve[0],ve[1]);break;case"l":Za(ve[0],ve[1]);break;case"c":jo.apply(this,ve);break;case"h":vn()}}return this},m.__private__.rect=m.rect=function(C,z,le,ve,Ee){if(isNaN(C)||isNaN(z)||isNaN(le)||isNaN(ve)||!ba(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return R===N&&(ve=-ve),ce([j(ne(C)),j(ee(z)),j(ne(le)),j(ne(ve)),"re"].join(" ")),hh(Ee),this},m.__private__.triangle=m.triangle=function(C,z,le,ve,Ee,ze,Ve){if(isNaN(C)||isNaN(z)||isNaN(le)||isNaN(ve)||isNaN(Ee)||isNaN(ze)||!ba(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-C,ve-z],[Ee-le,ze-ve],[C-Ee,z-ze]],C,z,[1,1],Ve,!0),this},m.__private__.roundedRect=m.roundedRect=function(C,z,le,ve,Ee,ze,Ve){if(isNaN(C)||isNaN(z)||isNaN(le)||isNaN(ve)||isNaN(Ee)||isNaN(ze)||!ba(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*le),ze=Math.min(ze,.5*ve),this.lines([[le-2*Ee,0],[Ee*at,0,Ee,ze-ze*at,Ee,ze],[0,ve-2*ze],[0,ze*at,-Ee*at,ze,-Ee,ze],[2*Ee-le,0],[-Ee*at,0,-Ee,-ze*at,-Ee,-ze],[0,2*ze-ve],[0,-ze*at,Ee*at,-ze,Ee,-ze]],C+Ee,z,[1,1],Ve,!0),this},m.__private__.ellipse=m.ellipse=function(C,z,le,ve,Ee){if(isNaN(C)||isNaN(z)||isNaN(le)||isNaN(ve)||!ba(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*le,Ve=4/3*(Math.SQRT2-1)*ve;return dh(C+le,z),jo(C+le,z-Ve,C+ze,z-ve,C,z-ve),jo(C-ze,z-ve,C-le,z-Ve,C-le,z),jo(C-le,z+Ve,C-ze,z+ve,C,z+ve),jo(C+ze,z+ve,C+le,z+Ve,C+le,z),hh(Ee),this},m.__private__.circle=m.circle=function(C,z,le,ve){if(isNaN(C)||isNaN(z)||isNaN(le)||!ba(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,z,le,le,ve)},m.setFont=function(C,z,le){return le&&(z=B(z,le)),pt=em(C,z,{disableWarning:!1}),this};var _a=m.__private__.getFont=m.getFont=function(){return bt[em.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var C,z,le={};for(C in $t)if($t.hasOwnProperty(C))for(z in le[C]=[],$t[C])$t[C].hasOwnProperty(z)&&le[C].push(z);return le},m.addFont=function(C,z,le,ve,Ee){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(le=B(le,ve)),lh.call(this,C,z,le,Ee=Ee||"Identity-H")};var us,co=r.lineWidth||.200025,Ft=m.__private__.getLineWidth=m.getLineWidth=function(){return co},Gc=m.__private__.setLineWidth=m.setLineWidth=function(C){return co=C,ce(j(ne(C))+" w"),this};m.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(C,z){if(C=C||[],z=z||0,isNaN(z)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(le){return j(ne(le))}).join(" "),z=j(ne(z)),ce("["+C+"] "+z+" d"),this};var wa=m.__private__.getLineHeight=m.getLineHeight=function(){return We*us};m.__private__.getLineHeight=m.getLineHeight=function(){return We*us};var T0=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(us=C),this},sm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return us};T0(r.lineHeight);var qs=m.__private__.getHorizontalCoordinate=function(C){return ne(C)},el=m.__private__.getVerticalCoordinate=function(C){return R===I?C:Bt[J].mediaBox.topRightY-Bt[J].mediaBox.bottomLeftY-ne(C)},om=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(C){return j(qs(C))},fh=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(C){return j(el(C))},Yc=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return va(Yc)},m.__private__.setStrokeColor=m.setDrawColor=function(C,z,le,ve){return Yc=bi({ch1:C,ch2:z,ch3:le,ch4:ve,pdfColorType:"draw",precision:2}),ce(Yc),this};var Bd=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return va(Bd)},m.__private__.setFillColor=m.setFillColor=function(C,z,le,ve){return Bd=bi({ch1:C,ch2:z,ch3:le,ch4:ve,pdfColorType:"fill",precision:2}),ce(Bd),this};var Bo=r.textColor||"0 g",xa=m.__private__.getTextColor=m.getTextColor=function(){return va(Bo)};m.__private__.setTextColor=m.setTextColor=function(C,z,le,ve){return Bo=bi({ch1:C,ch2:z,ch3:le,ch4:ve,pdfColorType:"text",precision:3}),this};var Uo=r.charSpace,ph=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Uo||0)};m.__private__.setCharSpace=m.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Uo=C,this};var Ud=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(C){var z=m.CapJoinStyles[C];if(z===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ud=z,ce(z+" J"),this};var zd=0;m.__private__.setLineJoin=m.setLineJoin=function(C){var z=m.CapJoinStyles[C];if(z===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zd=z,ce(z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(j(ne(C))+" M"),this},m.GState=s_,m.setGState=function(C){(C=typeof C=="string"?Ut[sr[C]]:tl(null,C)).equals(er)||(ce("/"+C.id+" gs"),er=C)};var tl=function(C,z){if(!C||!sr[C]){var le=!1;for(var ve in Ut)if(Ut.hasOwnProperty(ve)&&Ut[ve].equals(z)){le=!0;break}if(le)z=Ut[ve];else{var Ee="GS"+(Object.keys(Ut).length+1).toString(10);Ut[Ee]=z,z.id=Ee}return C&&(sr[C]=z.id),bn.publish("addGState",z),z}};m.addGState=function(C,z){return tl(C,z),this},m.saveGraphicsState=function(){return ce("q"),Cn.push({key:pt,size:We,color:Bo}),this},m.restoreGraphicsState=function(){ce("Q");var C=Cn.pop();return pt=C.key,We=C.size,Bo=C.color,er=null,this},m.setCurrentTransformationMatrix=function(C){return ce(C.toString()+" cm"),this},m.comment=function(C){return ce("#"+C),this};var Sa=function(C,z){var le=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(ze){isNaN(ze)||(le=parseFloat(ze))}});var ve=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(ze){isNaN(ze)||(ve=parseFloat(ze))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(ze){Ee=ze.toString()}}),this},Xc=function(C,z,le,ve){Sa.call(this,C,z),this.type="rect";var Ee=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Ve){isNaN(Ve)||(Ee=parseFloat(Ve))}});var ze=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Ve){isNaN(Ve)||(ze=parseFloat(Ve))}}),this},Kc=function(){this.page=yn,this.currentPage=J,this.pages=Ue.slice(0),this.pagesContext=Bt.slice(0),this.x=vt,this.y=zn,this.matrix=gn,this.width=Gl(J),this.height=Ri(J),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Kc.prototype.restore=function(){yn=this.page,J=this.currentPage,Bt=this.pagesContext,Ue=this.pages,vt=this.x,zn=this.y,gn=this.matrix,mh(J,this.width),$s(J,this.height),Fe=this.outputDestination};var uo=function(C,z,le,ve,Ee){so.push(new Kc),yn=J=0,Ue=[],vt=C,zn=z,gn=Ee,Wl([le,ve])};for(var nl in m.beginFormObject=function(C,z,le,ve,Ee){return uo(C,z,le,ve,Ee),this},m.endFormObject=function(C){return function(z){if(ya[z])so.pop().restore();else{var le=new Kc,ve="Xo"+(Object.keys(vi).length+1).toString(10);le.id=ve,ya[z]=ve,vi[ve]=le,bn.publish("addFormObject",le),so.pop().restore()}}(C),this},m.doFormObject=function(C,z){var le=vi[ya[C]];return ce("q"),ce(z.toString()+" cm"),ce("/"+le.id+" Do"),ce("Q"),this},m.getFormObject=function(C){var z=vi[ya[C]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},m.save=function(C,z){return C=C||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(mf(Do(lo()),C),typeof mf.unload=="function"&&qt.setTimeout&&setTimeout(mf.unload,911),this):new Promise(function(le,ve){try{var Ee=mf(Do(lo()),C);typeof mf.unload=="function"&&qt.setTimeout&&setTimeout(mf.unload,911),le(Ee)}catch(ze){ve(ze.message)}})},At.API)At.API.hasOwnProperty(nl)&&(nl==="events"&&At.API.events.length?function(C,z){var le,ve,Ee;for(Ee=z.length-1;Ee!==-1;Ee--)le=z[Ee][0],ve=z[Ee][1],C.subscribe.apply(C,[le].concat(typeof ve=="function"?[ve]:ve))}(bn,At.API.events):m[nl]=At.API[nl]);var Gl=m.getPageWidth=function(C){return(Bt[C=C||J].mediaBox.topRightX-Bt[C].mediaBox.bottomLeftX)/Ct},mh=m.setPageWidth=function(C,z){Bt[C].mediaBox.topRightX=z*Ct+Bt[C].mediaBox.bottomLeftX},Ri=m.getPageHeight=function(C){return(Bt[C=C||J].mediaBox.topRightY-Bt[C].mediaBox.bottomLeftY)/Ct},$s=m.setPageHeight=function(C,z){Bt[C].mediaBox.topRightY=z*Ct+Bt[C].mediaBox.bottomLeftY};return m.internal={pdfEscape:Us,getStyle:uh,getFont:_a,getFontSize:Je,getCharSpace:ph,getTextColor:xa,getLineHeight:wa,getLineHeightFactor:sm,getLineWidth:Ft,write:yt,getHorizontalCoordinate:qs,getVerticalCoordinate:el,getCoordinateString:om,getVerticalCoordinateString:fh,collections:{},newObject:qn,newAdditionalObject:Ja,newObjectDeferred:br,newObjectDeferredBegin:Mr,getFilters:ao,putStream:Bs,events:bn,scaleFactor:Ct,pageSize:{getWidth:function(){return Gl(J)},setWidth:function(C){mh(J,C)},getHeight:function(){return Ri(J)},setHeight:function(C){$s(J,C)}},encryptionOptions:d,encryption:_r,getEncryptor:function(C){return d!==null?_r.encryptor(C,0):function(z){return z}},output:cs,getNumberOfPages:zs,pages:Ue,out:ce,f2:F,f3:H,getPageInfo:Vc,getPageInfoByObjId:nm,getCurrentPageInfo:Dd,getPDFVersion:_,Point:Sa,Rectangle:Xc,Matrix:Lt,hasHotfix:Hc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Gl(J)},set:function(C){mh(J,C)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ri(J)},set:function(C){$s(J,C)},enumerable:!0,configurable:!0}),(function(C){for(var z=0,le=lt.length;z<le;z++){var ve=lh.call(this,C[z][0],C[z][1],C[z][2],lt[z][3],!0);p===!1&&(y[ve]=!0);var Ee=C[z][0].split("-");Qp({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}bn.publish("addFonts",{fonts:bt,dictionary:$t})}).call(m,lt),pt="F1",Zp(i,t),bn.publish("initialized"),m}jm.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},jm.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jm.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},jm.prototype.processOwnerPassword=function(r,e){return q5(z5(e).substr(0,5),r)},jm.prototype.encryptor=function(r,e){var t=z5(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return q5(t,n)}},s_.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Un(r)!==Un(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="3.0.2";var Hr=At.API,ak=1,Yp=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fm=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(r){return r.toFixed(2)},zh=function(r){return r.toFixed(5)};Hr.__acroform__={};var Io=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},zT=function(r){return r*ak},uc=function(r){var e=new A6,t=ft.internal.getHeight(r)||0,n=ft.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Yt(n)),Number(Yt(t))],e},Nq=Hr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Pq=Hr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Lq=Hr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},ti=Hr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Lq(r,e-1)},ni=Hr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nq(r,e-1)},ri=Hr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pq(r,e-1)},Rq=Hr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],o=r[2],a=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(s+a)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=n(s)||0,[Number(Yt(c.lowerLeft_X)),Number(Yt(c.lowerLeft_Y)),Number(Yt(c.upperRight_X)),Number(Yt(c.upperRight_Y))]},Iq=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=$5(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Yt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=uc(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},$5=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var s=t,o=ft.internal.getHeight(r)||0;o=o<0?-o:o;var a=ft.internal.getWidth(r)||0;a=a<0?-a:a;var c=function(F,H,ne){if(F+1<i.length){var ee=H+" "+i[F+1][0];return Nv(ee,r,ne).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,p=Nv("3",r,s).height,y=r.multiline?o-s:(o-p)/2,m=y+=2,x=0,_=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Nv(e,r,s=12).width+", FieldWidth:"+a+`
`;break}for(var S="",N=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var R=!1;if(i[I].length!==1&&A!==i[I].length-1){if((p+2)*(N+2)+2>o)continue e;S+=i[I][A],R=!0,_=I,I--}else{S=(S+=i[I][A]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var O=parseInt(I),U=c(O,S,s),B=I>=i.length-1;if(U&&!B){S+=" ",A=0;continue}if(U||B){if(B)_=O;else if(r.multiline&&(p+2)*(N+2)+2>o)continue e}else{if(!r.multiline||(p+2)*(N+2)+2>o)continue e;_=O}}for(var j="",D=x;D<=_;D++){var se=i[D];if(r.multiline){if(D===_){j+=se[A]+" ",A=(A+1)%se.length;continue}if(D===x){j+=se[se.length-1]+" ";continue}}j+=se[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=Nv(j,r,s).width,r.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;default:h=2}e+=Yt(h)+" "+Yt(m)+` Td
`,e+="("+Yp(j)+`) Tj
`,e+=-Yt(h)+` 0 Td
`,m=-(s+2),d=0,x=R?_:_+1,N++,S=""}break}return n.text=e,n.fontSize=s,n},Nv=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Mq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Oq=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Fq=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Mq)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ak=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new k6,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Oq(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],c=[],h=a.Rect;if(a.Rect&&(a.Rect=Rq(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ft.createDefaultAppearanceStream(a),Un(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=Iq(a);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var p="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var m=a.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,a)),p+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,a)),p+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&function(_,A){for(var S in _)if(_.hasOwnProperty(S)){var N=S,I=_[S];A.internal.newObjectDeferredBegin(I.objId,!0),Un(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete _[N]}}(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},S6=Hr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(o){return o};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Un(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+Yp(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mx=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Yp(n(r))+")"},Ic=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ic.prototype.toString=function(){return this.objId+" 0 R"},Ic.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ic.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:S6(i,this.objId,this.scope)}):i instanceof Ic?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var A6=function(){Ic.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Io(A6,Ic);var k6=function(){Ic.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Yp(t(r))+")"}},set:function(t){r=t}})};Io(k6,Ic);var zl=function r(){Ic.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(S){S?this.F=ni(e,3):this.F=ri(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof o_)return;s="FieldObject"+r.FieldNum++}var S=function(N){return N};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Yp(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ak:h},set:function(S){h=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof o_||this instanceof Pp))return Mx(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Vi==0?Mx(y,this.objId,this.scope):y},set:function(S){S=S.toString(),y=this instanceof Vi==0?S.substr(0,1)==="("?Fm(S.substr(1,S.length-2)):Fm(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Fm(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof Vi==1?"/"+S:S}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Vi==0?Mx(m,this.objId,this.scope):m},set:function(S){S=S.toString(),m=this instanceof Vi==0?S.substr(0,1)==="("?Fm(S.substr(1,S.length-2)):Fm(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vi==1?Fm(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof Vi==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(S){S=!!S,_=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(S){S?this.Ff=ni(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(S){S?this.Ff=ni(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(S){S?this.Ff=ni(this.Ff,3):this.Ff=ri(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');A=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(A){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Io(zl,Ic);var sg=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S6(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,h=[];c=o.exec(s);)h.push(c[a]);return h}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(t){t?this.Ff=ni(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ni(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(t){t?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(t){t?this.Ff=ni(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(t){t?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(t){t?this.Ff=ni(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(sg,zl);var og=function(){sg.call(this),this.fontName="helvetica",this.combo=!1};Io(og,sg);var ag=function(){og.call(this),this.combo=!0};Io(ag,og);var lb=function(){ag.call(this),this.edit=!0};Io(lb,ag);var Vi=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(t){t?this.Ff=ni(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(t){t?this.Ff=ni(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(t){t?this.Ff=ni(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(t){t?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Yp(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Un(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Io(Vi,zl);var cb=function(){Vi.call(this),this.pushButton=!0};Io(cb,Vi);var lg=function(){Vi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Io(lg,Vi);var o_=function(){var r,e;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Yp(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Un(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(o_,zl),lg.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},lg.prototype.createOption=function(r){var e=new o_;return e.Parent=this,e.optionName=r,this.Kids.push(e),Dq.call(this.scope,e),e};var ub=function(){Vi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Io(ub,Vi);var Pp=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(Pp,zl);var hb=function(){Pp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(r){r?this.Ff=ni(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};Io(hb,Pp);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=$5(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Yt(ft.internal.getWidth(r))+" "+Yt(ft.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Yt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=uc(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=ft.internal.getHeight(r),o=ft.internal.getWidth(r),a=$5(r,r.caption);return i.push("1 g"),i.push("0 0 "+Yt(o)+" "+Yt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Yt(o-1)+" "+Yt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Yt(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yt(ft.internal.getWidth(r))+" "+Yt(ft.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=ft.RadioButton.Circle.YesNormal,e.D[r]=ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=uc(r);e.scope=r.scope;var t=[],n=ft.internal.getWidth(r)<=ft.internal.getHeight(r)?ft.internal.getWidth(r)/4:ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=ft.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zh(ft.internal.getWidth(r)/2)+" "+zh(ft.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=[],n=ft.internal.getWidth(r)<=ft.internal.getHeight(r)?ft.internal.getWidth(r)/4:ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5)),o=Number((n*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(ft.internal.getWidth(r)/2)+" "+zh(ft.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zh(ft.internal.getWidth(r)/2)+" "+zh(ft.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=[],n=ft.internal.getWidth(r)<=ft.internal.getHeight(r)?ft.internal.getWidth(r)/4:ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ft.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(ft.internal.getWidth(r)/2)+" "+zh(ft.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=ft.RadioButton.Cross.YesNormal,e.D[r]=ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=uc(r);e.scope=r.scope;var t=[],n=ft.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Yt(ft.internal.getWidth(r)-2)+" "+Yt(ft.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),t.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),t.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),t.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=ft.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(ft.internal.getWidth(r))+" "+Yt(ft.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Yt(ft.internal.getWidth(r)-2)+" "+Yt(ft.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(t.x1.x)+" "+Yt(t.x1.y)+" m"),n.push(Yt(t.x2.x)+" "+Yt(t.x2.y)+" l"),n.push(Yt(t.x4.x)+" "+Yt(t.x4.y)+" m"),n.push(Yt(t.x3.x)+" "+Yt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=uc(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yt(ft.internal.getWidth(r))+" "+Yt(ft.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};ft.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=ft.internal.getWidth(r),t=ft.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},ft.internal.getWidth=function(r){var e=0;return Un(r)==="object"&&(e=zT(r.Rect[2])),e},ft.internal.getHeight=function(r){var e=0;return Un(r)==="object"&&(e=zT(r.Rect[3])),e};var Dq=Hr.addField=function(r){if(Fq(this,r),!(r instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=sg,Hr.AcroFormListBox=og,Hr.AcroFormComboBox=ag,Hr.AcroFormEditBox=lb,Hr.AcroFormButton=Vi,Hr.AcroFormPushButton=cb,Hr.AcroFormRadioButton=lg,Hr.AcroFormCheckBox=ub,Hr.AcroFormTextField=Pp,Hr.AcroFormPasswordField=hb,Hr.AcroFormAppearance=ft,Hr.AcroForm={ChoiceField:sg,ListBox:og,ComboBox:ag,EditBox:lb,Button:Vi,PushButton:cb,RadioButton:lg,CheckBox:ub,TextField:Pp,PasswordField:hb,Appearance:ft},At.AcroForm={ChoiceField:sg,ListBox:og,ComboBox:ag,EditBox:lb,Button:Vi,PushButton:cb,RadioButton:lg,CheckBox:ub,TextField:Pp,PasswordField:hb,Appearance:ft};At.AcroForm;function C6(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(F,H){var ne,ee,me,ge,de,ie=t;if((H=H||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(U(F))for(de in n)for(me=n[de],ne=0;ne<me.length;ne+=1){for(ge=!0,ee=0;ee<me[ne].length;ee+=1)if(me[ne][ee]!==void 0&&me[ne][ee]!==F[ee]){ge=!1;break}if(ge===!0){ie=de;break}}else for(de in n)for(me=n[de],ne=0;ne<me.length;ne+=1){for(ge=!0,ee=0;ee<me[ne].length;ee+=1)if(me[ne][ee]!==void 0&&me[ne][ee]!==F.charCodeAt(ee)){ge=!1;break}if(ge===!0){ie=de;break}}return ie===t&&H!==t&&(ie=H),ie},s=function F(H){for(var ne=this.internal.write,ee=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:H.width}),ge.push({key:"Height",value:H.height}),H.colorSpace===S.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===S.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var de="",ie=0,ye=H.transparency.length;ie<ye;ie++)de+=H.transparency[ie]+" "+H.transparency[ie]+" ";ge.push({key:"Mask",value:"["+de+"]"})}H.sMask!==void 0&&ge.push({key:"SMask",value:H.objectId+1+" 0 R"});var be=H.filter!==void 0?["/"+H.filter]:void 0;if(ee({data:H.data,additionalKeyValues:ge,alreadyAppliedFilters:be,objectId:H.objectId}),ne("endobj"),"sMask"in H&&H.sMask!==void 0){var Z=(H.predictor!=null?"/Predictor "+H.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+H.width,M={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:Z,data:H.sMask};"filter"in H&&(M.filter=H.filter),F.call(this,M)}if(H.colorSpace===S.INDEXED){var J=this.internal.newObject();ee({data:j(new Uint8Array(H.palette)),objectId:J}),ne("endobj")}},o=function(){var F=this.internal.collections[e+"images"];for(var H in F)s.call(this,F[H])},a=function(){var F,H=this.internal.collections[e+"images"],ne=this.internal.write;for(var ee in H)ne("/I"+(F=H[ee]).index,F.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var F=this.internal.collections[e+"images"];return c.call(this),F},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(F){return typeof r["process"+F.toUpperCase()]=="function"},y=function(F){return Un(F)==="object"&&F.nodeType===1},m=function(F,H){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var ne=""+F.getAttribute("src");if(ne.indexOf("data:image/")===0)return ab(unescape(ne).split("base64,").pop());var ee=r.loadFile(ne,!0);if(ee!==void 0)return ee}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var me;switch(H){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return ab(F.toDataURL(me,1).split("base64,").pop())}},x=function(F){var H=this.internal.collections[e+"images"];if(H){for(var ne in H)if(F===H[ne].alias)return H[ne]}},_=function(F,H,ne){return F||H||(F=-96,H=-96),F<0&&(F=-1*ne.width*72/F/this.internal.scaleFactor),H<0&&(H=-1*ne.height*72/H/this.internal.scaleFactor),F===0&&(F=H*ne.width/ne.height),H===0&&(H=F*ne.height/ne.width),[F,H]},A=function(F,H,ne,ee,me,ge){var de=_.call(this,ne,ee,me),ie=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,be=h.call(this);if(ne=de[0],ee=de[1],be[me.index]=me,ge){ge*=Math.PI/180;var Z=Math.cos(ge),M=Math.sin(ge),J=function(ue){return ue.toFixed(4)},re=[J(Z),J(M),J(-1*M),J(Z),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,ie(F),ye(H+ee),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ie(ne),"0","0",ie(ee),"0","0","cm"].join(" "))):this.internal.write([ie(ne),"0","0",ie(ee),ie(F),ye(H+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},S=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=r.__addimage__.sHashCode=function(F){var H,ne,ee=0;if(typeof F=="string")for(ne=F.length,H=0;H<ne;H++)ee=(ee<<5)-ee+F.charCodeAt(H),ee|=0;else if(U(F))for(ne=F.byteLength/2,H=0;H<ne;H++)ee=(ee<<5)-ee+F[H],ee|=0;return ee},R=r.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var H=!0;return F.length===0&&(H=!1),F.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(H=!1),H},O=r.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var H=F.indexOf(",");return H<0?null:F.substring(0,H).trim().endsWith("base64")?F.substring(H+1):null};r.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var U=r.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},B=r.__addimage__.binaryStringToUint8Array=function(F){for(var H=F.length,ne=new Uint8Array(H),ee=0;ee<H;ee++)ne[ee]=F.charCodeAt(ee);return ne},j=r.__addimage__.arrayBufferToBinaryString=function(F){for(var H="",ne=U(F)?F:new Uint8Array(F),ee=0;ee<ne.length;ee+=8192)H+=String.fromCharCode.apply(null,ne.subarray(ee,ee+8192));return H};r.addImage=function(){var F,H,ne,ee,me,ge,de,ie,ye;if(typeof arguments[1]=="number"?(H=t,ne=arguments[1],ee=arguments[2],me=arguments[3],ge=arguments[4],de=arguments[5],ie=arguments[6],ye=arguments[7]):(H=arguments[1],ne=arguments[2],ee=arguments[3],me=arguments[4],ge=arguments[5],de=arguments[6],ie=arguments[7],ye=arguments[8]),Un(F=arguments[0])==="object"&&!y(F)&&"imageData"in F){var be=F;F=be.imageData,H=be.format||H||t,ne=be.x||ne||0,ee=be.y||ee||0,me=be.w||be.width||me,ge=be.h||be.height||ge,de=be.alias||de,ie=be.compression||ie,ye=be.rotation||be.angle||ye}var Z=this.internal.getFilters();if(ie===void 0&&Z.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(ne)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=D.call(this,F,H,de,ie);return A.call(this,ne,ee,me,ge,M,ye),this};var D=function(F,H,ne,ee){var me,ge,de;if(typeof F=="string"&&i(F)===t){F=unescape(F);var ie=se(F,!1);(ie!==""||(ie=r.loadFile(F,!0))!==void 0)&&(F=ie)}if(y(F)&&(F=m(F,H)),H=i(F,H),!p(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((de=ne)==null||de.length===0)&&(ne=function(ye){return typeof ye=="string"||U(ye)?I(ye):U(ye.data)?I(ye.data):null}(F)),(me=x.call(this,ne))||(F instanceof Uint8Array||H==="RGBA"||(ge=F,F=B(F)),me=this["process"+H.toUpperCase()](F,d.call(this),ne,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in r.image_compression?ye:N.NONE}(ee),ge)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},se=r.__addimage__.convertBase64ToBinaryString=function(F,H){H=typeof H!="boolean"||H;var ne,ee="";if(typeof F=="string"){var me;ne=(me=O(F))!==null&&me!==void 0?me:F;try{ee=ab(ne)}catch(ge){if(H)throw R(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};r.getImageProperties=function(F){var H,ne,ee="";if(y(F)&&(F=m(F)),typeof F=="string"&&i(F)===t&&((ee=se(F,!1))===""&&(ee=r.loadFile(F)||""),F=ee),ne=i(F),!p(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(F instanceof Uint8Array||(F=B(F)),!(H=this["process"+ne.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ne,H}})(At.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};At.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,d=!1,p=0;p<h.length&&!d;p++)switch((n=h[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(_.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+m(S(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(S(N))+") >>",_.content=s;var I=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(_.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var U=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(t),y:h(n),w:c(t+i),h:h(n+s)},options:o,type:"link"})},r.textWithLink=function(t,n,i,s){var o,a,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(t,a).length;o=Math.ceil(h*d)}else a=c,o=h;return this.text(t,n,i,s),i+=.2*h,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-h,a,o,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(At.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=r.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var d=r.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(_){var A=0,S=t,N="",I=0;for(A=0;A<_.length;A+=1)S[_.charCodeAt(A)]!==void 0?(I++,typeof(S=S[_.charCodeAt(A)])=="number"&&(N+=String.fromCharCode(S),S=t,I=0),A===_.length-1&&(S=t,N+=_.charAt(A-(I-1)),A-=I-1,I=0)):(S=t,N+=_.charAt(A-I),A-=I,I=0);return N};r.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=r.__arabicParser__.getCorrectForm=function(_,A,S){return o(_)?s(_)===!1?-1:!h(_)||!o(A)&&!o(S)||!o(S)&&a(A)||a(_)&&!o(A)||a(_)&&c(A)||a(_)&&a(A)?0:d(_)&&o(A)&&!a(A)&&o(S)&&h(S)?3:a(_)||!o(S)?1:2:-1},m=function(_){var A=0,S=0,N=0,I="",R="",O="",U=(_=_||"").split("\\s+"),B=[];for(A=0;A<U.length;A+=1){for(B.push(""),S=0;S<U[A].length;S+=1)I=U[A][S],R=U[A][S-1],O=U[A][S+1],o(I)?(N=y(I,R,O),B[A]+=N!==-1?String.fromCharCode(e[I.charCodeAt(0)][N]):I):B[A]+=I;B[A]=p(B[A])}return B.join(" ")},x=r.__arabicParser__.processArabic=r.processArabic=function(){var _,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(A)){var N=0;for(S=[],N=0;N<A.length;N+=1)Array.isArray(A[N])?S.push([m(A[N][0]),A[N][1],A[N][2]]):S.push([m(A[N])]);_=S}else _=m(A);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};r.events.push(["preProcessText",x])}(At.API),At.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(_){x=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,h){n.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,m=0,x=0,_=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=h.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,R){return I.concat(A.splitTextToSize(R,S))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)m<(_=this.getStringUnitWidth(c[N],{font:p})*d)&&(m=_);return m!==0&&(x=c.length),{w:m/=y,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};r.table=function(c,h,d,p,y){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,x,_,A,S=[],N=[],I=[],R={},O={},U=[],B=[],j=(y=y||{}).autoSize||!1,D=y.printHeaders!==!1,se=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,F=y.margins||Object.assign({width:this.getPageWidth()},e),H=typeof y.padding=="number"?y.padding:3,ne=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=ee,this.setFontSize(se),p==null)N=S=Object.keys(d[0]),I=S.map(function(){return"left"});else if(Array.isArray(p)&&Un(p[0])==="object")for(S=p.map(function(be){return be.name}),N=p.map(function(be){return be.prompt||be.name||""}),I=p.map(function(be){return be.align||"left"}),m=0;m<p.length;m+=1)O[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(N=S=p,I=S.map(function(){return"left"}));if(j||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<S.length;m+=1){for(R[A=S[m]]=d.map(function(be){return be[A]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=R[A],this.setFont(void 0,"normal"),_=0;_<x.length;_+=1)U.push(this.getTextDimensions(x[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[A]=Math.max.apply(null,U)+H+H,U=[]}if(D){var me={};for(m=0;m<S.length;m+=1)me[S[m]]={},me[S[m]].text=N[m],me[S[m]].align=I[m];var ge=a.call(this,me,O);B=S.map(function(be){return new s(c,h,O[be],ge,me[be].text,void 0,me[be].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var de=p.reduce(function(be,Z){return be[Z.name]=Z.align,be},{});for(m=0;m<d.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:d[m]},this);var ie=a.call(this,d[m],O);for(_=0;_<S.length;_+=1){var ye=d[m][S[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:_,data:ye},this),o.call(this,new s(c,h,O[S[_]],ie,ye,m+2,de[S[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var a=function(c,h){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/y+d+d},this).reduce(function(m,x){return Math.max(m,x)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(At.API);var E6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H5=C6(T6),N6=[100,200,300,400,500,600,700,800,900],jq=C6(N6);function Ox(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return E6[s=s||"normal"]?s:"normal"}(r.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),i=function(s){return typeof H5[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function qT(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var Bq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$T={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HT(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function VT(r){return r.trimLeft()}function Uq(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function zq(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Pv,WT,GT,Dm,Lv,YT,XT,KT,Fx=["times"];function JT(r,e,t,n){var i=4,s=ZT;switch(n){case At.API.image_compression.FAST:i=1,s=QT;break;case At.API.image_compression.MEDIUM:i=6,s=eN;break;case At.API.image_compression.SLOW:i=9,s=tN}r=function(a,c,h,d){for(var p,y=a.length/c,m=new Uint8Array(a.length+y),x=[qq,QT,ZT,eN,tN],_=0;_<y;_+=1){var A=_*c,S=a.subarray(A,A+c);if(d)m.set(d(S,h,p),A+_);else{for(var N=x.length,I=[],R=0;R<N;R+=1)I[R]=x[R](S,h,p);var O=Hq(I.concat());m.set(I[O],A+_)}p=S}return m}(r,e,t,s);var o=D5(r,{level:i});return At.API.__addimage__.arrayBufferToBinaryString(o)}function qq(r){var e=Array.apply([],r);return e.unshift(0),e}function QT(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function ZT(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=t&&t[s]||0;i[s+1]=r[s]-o+256&255}return i}function eN(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=r[s-e]||0,a=t&&t[s]||0;i[s+1]=r[s]+256-(o+a>>>1)&255}return i}function tN(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=$q(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-o+256&255}return i}function $q(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function Hq(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Dx(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),o=(1<<t)-1;return P6(r,i)>>s&o}function nN(r,e,t,n){var i=t*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,c=(e&a)<<o;(function(h,d,p){if(d+1<h.byteLength)h.setUint16(d,p,!1);else{var y=p>>8&255;h.setUint8(d,y)}})(r,s,P6(r,s)&~(a<<o)&65535|c)}function P6(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Vq(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,o=1<<1+(7&i);r[e++],r[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var h=!0,d=[],p=0,y=null,m=0,x=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,x=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=r[e++];p=r[e++]|r[e++]<<8,y=r[e++],1&_||(y=null),m=_>>2&7,e++;break;case 254:for(;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var A=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,R=r[e++],O=R>>6&1,U=1<<1+(7&R),B=a,j=c,D=!1;R>>7&&(D=!0,B=e,j=U,e+=3*U);var se=e;for(e++;;){var F;if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}d.push({x:A,y:S,width:N,height:I,has_local_palette:D,palette_offset:B,palette_size:j,data_offset:se,data_length:e-se,transparent_index:y,interlaced:!!O,delay:p,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(H){if(H<0||H>=d.length)throw new Error("Frame index out of range.");return d[H]},this.decodeAndBlitFrameBGRA=function(H,ne){var ee=this.frameInfo(H),me=ee.width*ee.height,ge=new Uint8Array(me);rN(r,ee.data_offset,ge,me);var de=ee.palette_offset,ie=ee.transparent_index;ie===null&&(ie=256);var ye=ee.width,be=t-ye,Z=ye,M=4*(ee.y*t+ee.x),J=4*((ee.y+ee.height)*t+ee.x),re=M,ue=4*be;ee.interlaced===!0&&(ue+=4*t*7);for(var pe=8,fe=0,Ce=ge.length;fe<Ce;++fe){var ke=ge[fe];if(Z===0&&(Z=ye,(re+=ue)>=J&&(ue=4*be+4*t*(pe-1),re=M+(ye+be)*(pe<<1),pe>>=1)),ke===ie)re+=4;else{var xe=r[de+3*ke],Ue=r[de+3*ke+1],$e=r[de+3*ke+2];ne[re++]=$e,ne[re++]=Ue,ne[re++]=xe,ne[re++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(H,ne){var ee=this.frameInfo(H),me=ee.width*ee.height,ge=new Uint8Array(me);rN(r,ee.data_offset,ge,me);var de=ee.palette_offset,ie=ee.transparent_index;ie===null&&(ie=256);var ye=ee.width,be=t-ye,Z=ye,M=4*(ee.y*t+ee.x),J=4*((ee.y+ee.height)*t+ee.x),re=M,ue=4*be;ee.interlaced===!0&&(ue+=4*t*7);for(var pe=8,fe=0,Ce=ge.length;fe<Ce;++fe){var ke=ge[fe];if(Z===0&&(Z=ye,(re+=ue)>=J&&(ue=4*be+4*t*(pe-1),re=M+(ye+be)*(pe<<1),pe>>=1)),ke===ie)re+=4;else{var xe=r[de+3*ke],Ue=r[de+3*ke+1],$e=r[de+3*ke+2];ne[re++]=xe,ne[re++]=Ue,ne[re++]=$e,ne[re++]=255}--Z}}}function rN(r,e,t,n){for(var i=r[e++],s=1<<i,o=s+1,a=o+1,c=i+1,h=(1<<c)-1,d=0,p=0,y=0,m=r[e++],x=new Int32Array(4096),_=null;;){for(;d<16&&m!==0;)p|=r[e++]<<d,d+=8,m===1?m=r[e++]:--m;if(d<c)break;var A=p&h;if(p>>=c,d-=c,A!==s){if(A===o)break;for(var S=A<a?A:_,N=0,I=S;I>s;)I=x[I]>>8,++N;var R=I;if(y+N+(S!==A?1:0)>n)return void Kn.log("Warning, gif stream longer than expected.");t[y++]=R;var O=y+=N;for(S!==A&&(t[y++]=R),I=S;N--;)I=x[I],t[--O]=255&I,I>>=8;_!==null&&a<4096&&(x[a++]=_<<8|R,a>=h+1&&c<12&&(++c,h=h<<1|1)),_=A}else a=o+1,h=(1<<(c=i+1))-1,_=null}return y!==n&&Kn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jx(r){var e,t,n,i,s,o=Math.floor,a=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),p=new Array(65535),y=new Array(65535),m=new Array(64),x=new Array(64),_=[],A=0,S=7,N=new Array(64),I=new Array(64),R=new Array(64),O=new Array(256),U=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(M,J){for(var re=0,ue=0,pe=new Array,fe=1;fe<=16;fe++){for(var Ce=1;Ce<=M[fe];Ce++)pe[J[ue]]=[],pe[J[ue]][0]=re,pe[J[ue]][1]=fe,ue++,re++;re*=2}return pe}function de(M){for(var J=M[0],re=M[1]-1;re>=0;)J&1<<re&&(A|=1<<S),re--,--S<0&&(A==255?(ie(255),ie(0)):ie(A),S=7,A=0)}function ie(M){_.push(M)}function ye(M){ie(M>>8&255),ie(255&M)}function be(M,J,re,ue,pe){for(var fe,Ce=pe[0],ke=pe[240],xe=function(We,rt){var Je,Dt,wt,an,Nt,Pt,tn,Rt,pt,Ct,vt=0;for(pt=0;pt<8;++pt){Je=We[vt],Dt=We[vt+1],wt=We[vt+2],an=We[vt+3],Nt=We[vt+4],Pt=We[vt+5],tn=We[vt+6];var zn=Je+(Rt=We[vt+7]),gn=Je-Rt,bt=Dt+tn,$t=Dt-tn,Cn=wt+Pt,Et=wt-Pt,nn=an+Nt,Ut=an-Nt,sr=zn+nn,er=zn-nn,yn=bt+Cn,Bt=bt-Cn;We[vt]=sr+yn,We[vt+4]=sr-yn;var bn=.707106781*(Bt+er);We[vt+2]=er+bn,We[vt+6]=er-bn;var $l=.382683433*((sr=Ut+Et)-(Bt=$t+gn)),vi=.5411961*sr+$l,ya=1.306562965*Bt+$l,so=.707106781*(yn=Et+$t),Lt=gn+so,js=gn-so;We[vt+5]=js+vi,We[vt+3]=js-vi,We[vt+1]=Lt+ya,We[vt+7]=Lt-ya,vt+=8}for(vt=0,pt=0;pt<8;++pt){Je=We[vt],Dt=We[vt+8],wt=We[vt+16],an=We[vt+24],Nt=We[vt+32],Pt=We[vt+40],tn=We[vt+48];var Mo=Je+(Rt=We[vt+56]),Pi=Je-Rt,oo=Dt+tn,qn=Dt-tn,br=wt+Pt,Mr=wt-Pt,Ja=an+Nt,Hl=an-Nt,Oo=Mo+Ja,va=Mo-Ja,bi=oo+br,ao=oo-br;We[vt]=Oo+bi,We[vt+32]=Oo-bi;var Bs=.707106781*(ao+va);We[vt+16]=va+Bs,We[vt+48]=va-Bs;var Bc=.382683433*((Oo=Hl+Mr)-(ao=qn+Pi)),Fo=.5411961*Oo+Bc,Vl=1.306562965*ao+Bc,Uc=.707106781*(bi=Mr+qn),zc=Pi+Uc,ah=Pi-Uc;We[vt+40]=ah+Fo,We[vt+24]=ah-Fo,We[vt+8]=zc+Vl,We[vt+56]=zc-Vl,vt++}for(pt=0;pt<64;++pt)Ct=We[pt]*rt[pt],m[pt]=Ct>0?Ct+.5|0:Ct-.5|0;return m}(M,J),Ue=0;Ue<64;++Ue)x[B[Ue]]=xe[Ue];var $e=x[0]-re;re=x[0],$e==0?de(ue[0]):(de(ue[y[fe=32767+$e]]),de(p[fe]));for(var Fe=63;Fe>0&&x[Fe]==0;)Fe--;if(Fe==0)return de(Ce),re;for(var Le,ce=1;ce<=Fe;){for(var yt=ce;x[ce]==0&&ce<=Fe;)++ce;var St=ce-yt;if(St>=16){Le=St>>4;for(var lt=1;lt<=Le;++lt)de(ke);St&=15}fe=32767+x[ce],de(pe[(St<<4)+y[fe]]),de(p[fe]),ce++}return Fe!=63&&de(Ce),re}function Z(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(J){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var pe=o((re[ue]*J+50)/100);pe=Math.min(Math.max(pe,1),255),a[B[ue]]=pe}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var ke=o((fe[Ce]*J+50)/100);ke=Math.min(Math.max(ke,1),255),c[B[Ce]]=ke}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,$e=0;$e<8;$e++)for(var Fe=0;Fe<8;Fe++)h[Ue]=1/(a[B[Ue]]*xe[$e]*xe[Fe]*8),d[Ue]=1/(c[B[Ue]]*xe[$e]*xe[Fe]*8),Ue++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,J){J&&Z(J),_=new Array,A=0,S=7,ye(65496),ye(65504),ye(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ye(1),ye(1),ie(0),ie(0),function(){ye(65499),ye(132),ie(0);for(var Dt=0;Dt<64;Dt++)ie(a[Dt]);ie(1);for(var wt=0;wt<64;wt++)ie(c[wt])}(),function(Dt,wt){ye(65472),ye(17),ie(8),ye(wt),ye(Dt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(M.width,M.height),function(){ye(65476),ye(418),ie(0);for(var Dt=0;Dt<16;Dt++)ie(j[Dt+1]);for(var wt=0;wt<=11;wt++)ie(D[wt]);ie(16);for(var an=0;an<16;an++)ie(se[an+1]);for(var Nt=0;Nt<=161;Nt++)ie(F[Nt]);ie(1);for(var Pt=0;Pt<16;Pt++)ie(H[Pt+1]);for(var tn=0;tn<=11;tn++)ie(ne[tn]);ie(17);for(var Rt=0;Rt<16;Rt++)ie(ee[Rt+1]);for(var pt=0;pt<=161;pt++)ie(me[pt])}(),ye(65498),ye(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var re=0,ue=0,pe=0;A=0,S=7,this.encode.displayName="_encode_";for(var fe,Ce,ke,xe,Ue,$e,Fe,Le,ce,yt=M.data,St=M.width,lt=M.height,We=4*St,rt=0;rt<lt;){for(fe=0;fe<We;){for(Ue=We*rt+fe,Fe=-1,Le=0,ce=0;ce<64;ce++)$e=Ue+(Le=ce>>3)*We+(Fe=4*(7&ce)),rt+Le>=lt&&($e-=We*(rt+1+Le-lt)),fe+Fe>=We&&($e-=fe+Fe-We+4),Ce=yt[$e++],ke=yt[$e++],xe=yt[$e++],N[ce]=(U[Ce]+U[ke+256|0]+U[xe+512|0]>>16)-128,I[ce]=(U[Ce+768|0]+U[ke+1024|0]+U[xe+1280|0]>>16)-128,R[ce]=(U[Ce+1280|0]+U[ke+1536|0]+U[xe+1792|0]>>16)-128;re=be(N,h,re,e,n),ue=be(I,d,ue,t,i),pe=be(R,d,pe,t,i),fe+=32}rt+=8}if(S>=0){var Je=[];Je[1]=S+1,Je[0]=(1<<S+1)-1,de(Je)}return ye(65497),new Uint8Array(_)},r=r||50,function(){for(var M=String.fromCharCode,J=0;J<256;J++)O[J]=M(J)}(),e=ge(j,D),t=ge(H,ne),n=ge(se,F),i=ge(ee,me),function(){for(var M=1,J=2,re=1;re<=15;re++){for(var ue=M;ue<J;ue++)y[32767+ue]=re,p[32767+ue]=[],p[32767+ue][1]=re,p[32767+ue][0]=ue;for(var pe=-(J-1);pe<=-M;pe++)y[32767+pe]=re,p[32767+pe]=[],p[32767+pe][1]=re,p[32767+pe][0]=J-1+pe;M<<=1,J<<=1}}(),function(){for(var M=0;M<256;M++)U[M]=19595*M,U[M+256|0]=38470*M,U[M+512|0]=7471*M+32768,U[M+768|0]=-11059*M,U[M+1024|0]=-21709*M,U[M+1280|0]=32768*M+8421375,U[M+1536|0]=-27439*M,U[M+1792|0]=-5329*M}(),Z(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iN(r){function e(D){if(!D)throw Error("assert :P")}function t(D,se,F){for(var H=0;4>H;H++)if(D[se+H]!=F.charCodeAt(H))return!0;return!1}function n(D,se,F,H,ne){for(var ee=0;ee<ne;ee++)D[se+ee]=F[H+ee]}function i(D,se,F,H){for(var ne=0;ne<H;ne++)D[se+ne]=F}function s(D){return new Int32Array(D)}function o(D,se){for(var F=[],H=0;H<D;H++)F.push(new se);return F}function a(D,se){var F=[];return function H(ne,ee,me){for(var ge=me[ee],de=0;de<ge&&(ne.push(me.length>ee+1?[]:new se),!(me.length<ee+1));de++)H(ne[de],ee+1,me)}(F,0,D),F}var c=function(){var D=this;function se(v,w){for(var T=1<<w-1>>>0;v&T;)T>>>=1;return T?(v&T-1)+T:v}function F(v,w,T,L,q){e(!(L%T));do v[w+(L-=T)]=q;while(0<L)}function H(v,w,T,L,q){if(e(2328>=q),512>=q)var G=s(512);else if((G=s(q))==null)return 0;return function(X,Q,te,oe,_e,Ne){var ae,Se,Te=Q,Be=1<<te,Re=s(16),Oe=s(16);for(e(_e!=0),e(oe!=null),e(X!=null),e(0<te),Se=0;Se<_e;++Se){if(15<oe[Se])return 0;++Re[oe[Se]]}if(Re[0]==_e)return 0;for(Oe[1]=0,ae=1;15>ae;++ae){if(Re[ae]>1<<ae)return 0;Oe[ae+1]=Oe[ae]+Re[ae]}for(Se=0;Se<_e;++Se)ae=oe[Se],0<oe[Se]&&(Ne[Oe[ae]++]=Se);if(Oe[15]==1)return(oe=new ne).g=0,oe.value=Ne[0],F(X,Te,1,Be,oe),Be;var De,qe=-1,He=Be-1,_t=0,st=1,Vt=1,ht=1<<te;for(Se=0,ae=1,_e=2;ae<=te;++ae,_e<<=1){if(st+=Vt<<=1,0>(Vt-=Re[ae]))return 0;for(;0<Re[ae];--Re[ae])(oe=new ne).g=ae,oe.value=Ne[Se++],F(X,Te+_t,_e,ht,oe),_t=se(_t,ae)}for(ae=te+1,_e=2;15>=ae;++ae,_e<<=1){if(st+=Vt<<=1,0>(Vt-=Re[ae]))return 0;for(;0<Re[ae];--Re[ae]){if(oe=new ne,(_t&He)!=qe){for(Te+=ht,De=1<<(qe=ae)-te;15>qe&&!(0>=(De-=Re[qe]));)++qe,De<<=1;Be+=ht=1<<(De=qe-te),X[Q+(qe=_t&He)].g=De+te,X[Q+qe].value=Te-Q-qe}oe.g=ae-te,oe.value=Ne[Se++],F(X,Te+(_t>>te),_e,ht,oe),_t=se(_t,ae)}}return st!=2*Oe[15]-1?0:Be}(v,w,T,L,q,G)}function ne(){this.value=this.g=0}function ee(){this.value=this.g=0}function me(){this.G=o(5,ne),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ji,ee)}function ge(v,w,T,L){e(v!=null),e(w!=null),e(2147483648>L),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=w,v.pa=T,v.Jd=w,v.Yc=T+L,v.Zc=4<=L?T+L-4+1:T,Ce(v)}function de(v,w){for(var T=0;0<w--;)T|=xe(v,128)<<w;return T}function ie(v,w){var T=de(v,w);return ke(v)?-T:T}function ye(v,w,T,L){var q,G=0;for(e(v!=null),e(w!=null),e(4294967288>L),v.Sb=L,v.Ra=0,v.u=0,v.h=0,4<L&&(L=4),q=0;q<L;++q)G+=w[T+q]<<8*q;v.Ra=G,v.bb=L,v.oa=w,v.pa=T}function be(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Zl-8>>>0,++v.bb,v.u-=8;ue(v)&&(v.h=1,v.u=0)}function Z(v,w){if(e(0<=w),!v.h&&w<=Vd){var T=re(v)&Ql[w];return v.u+=w,be(v),T}return v.h=1,v.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(v){return v.Ra>>>(v.u&Zl-1)>>>0}function ue(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Zl}function pe(v,w){v.u=w,v.h=ue(v)}function fe(v){v.u>=hr&&(e(v.u>=hr),be(v))}function Ce(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ke(v){return de(v,1)}function xe(v,w){var T=v.Ca;0>v.b&&Ce(v);var L=v.b,q=T*w>>>8,G=(v.I>>>L>q)+0;for(G?(T-=q,v.I-=q+1<<L>>>0):T=q+1,L=T,q=0;256<=L;)q+=8,L>>=8;return L=7^q+hm[L],v.b-=L,v.Ca=(T<<L)-1,G}function Ue(v,w,T){v[w+0]=T>>24&255,v[w+1]=T>>16&255,v[w+2]=T>>8&255,v[w+3]=255&T}function $e(v,w){return v[w+0]|v[w+1]<<8}function Fe(v,w){return $e(v,w)|v[w+2]<<16}function Le(v,w){return $e(v,w)|$e(v,w+2)<<16}function ce(v,w){var T=1<<w;return e(v!=null),e(0<w),v.X=s(T),v.X==null?0:(v.Mb=32-w,v.Xa=w,1)}function yt(v,w){e(v!=null),e(w!=null),e(v.Xa==w.Xa),n(w.X,0,v.X,0,1<<w.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function lt(v,w,T,L){e(T!=null),e(L!=null);var q=T[0],G=L[0];return q==0&&(q=(v*G+w/2)/w),G==0&&(G=(w*q+v/2)/v),0>=q||0>=G?0:(T[0]=q,L[0]=G,1)}function We(v,w){return v+(1<<w)-1>>>w}function rt(v,w){return((4278255360&v)+(4278255360&w)>>>0&4278255360)+((16711935&v)+(16711935&w)>>>0&16711935)>>>0}function Je(v,w){D[w]=function(T,L,q,G,X,Q,te){var oe;for(oe=0;oe<X;++oe){var _e=D[v](Q[te+oe-1],q,G+oe);Q[te+oe]=rt(T[L+oe],_e)}}}function Dt(){this.ud=this.hd=this.jd=0}function wt(v,w){return((4278124286&(v^w))>>>1)+(v&w)>>>0}function an(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Nt(v,w){return an(v+(v-w+.5>>1))}function Pt(v,w,T){return Math.abs(w-T)-Math.abs(v-T)}function tn(v,w,T,L,q,G,X){for(L=G[X-1],T=0;T<q;++T)G[X+T]=L=rt(v[w+T],L)}function Rt(v,w,T,L,q){var G;for(G=0;G<T;++G){var X=v[w+G],Q=X>>8&255,te=16711935&(te=(te=16711935&X)+((Q<<16)+Q));L[q+G]=(4278255360&X)+te>>>0}}function pt(v,w){w.jd=255&v,w.hd=v>>8&255,w.ud=v>>16&255}function Ct(v,w,T,L,q,G){var X;for(X=0;X<L;++X){var Q=w[T+X],te=Q>>>8,oe=Q,_e=255&(_e=(_e=Q>>>16)+((v.jd<<24>>24)*(te<<24>>24)>>>5));oe=255&(oe=(oe+=(v.hd<<24>>24)*(te<<24>>24)>>>5)+((v.ud<<24>>24)*(_e<<24>>24)>>>5)),q[G+X]=(4278255360&Q)+(_e<<16)+oe}}function vt(v,w,T,L,q){D[w]=function(G,X,Q,te,oe,_e,Ne,ae,Se){for(te=Ne;te<ae;++te)for(Ne=0;Ne<Se;++Ne)oe[_e++]=q(Q[L(G[X++])])},D[v]=function(G,X,Q,te,oe,_e,Ne){var ae=8>>G.b,Se=G.Ea,Te=G.K[0],Be=G.w;if(8>ae)for(G=(1<<G.b)-1,Be=(1<<ae)-1;X<Q;++X){var Re,Oe=0;for(Re=0;Re<Se;++Re)Re&G||(Oe=L(te[oe++])),_e[Ne++]=q(Te[Oe&Be]),Oe>>=ae}else D["VP8LMapColor"+T](te,oe,Te,Be,_e,Ne,X,Q,Se)}}function zn(v,w,T,L,q){for(T=w+T;w<T;){var G=v[w++];L[q++]=G>>16&255,L[q++]=G>>8&255,L[q++]=255&G}}function gn(v,w,T,L,q){for(T=w+T;w<T;){var G=v[w++];L[q++]=G>>16&255,L[q++]=G>>8&255,L[q++]=255&G,L[q++]=G>>24&255}}function bt(v,w,T,L,q){for(T=w+T;w<T;){var G=(X=v[w++])>>16&240|X>>12&15,X=240&X|X>>28&15;L[q++]=G,L[q++]=X}}function $t(v,w,T,L,q){for(T=w+T;w<T;){var G=(X=v[w++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;L[q++]=G,L[q++]=X}}function Cn(v,w,T,L,q){for(T=w+T;w<T;){var G=v[w++];L[q++]=255&G,L[q++]=G>>8&255,L[q++]=G>>16&255}}function Et(v,w,T,L,q,G){if(G==0)for(T=w+T;w<T;)Ue(L,((G=v[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else n(L,q,v,w,T)}function nn(v,w){D[w][0]=D[v+"0"],D[w][1]=D[v+"1"],D[w][2]=D[v+"2"],D[w][3]=D[v+"3"],D[w][4]=D[v+"4"],D[w][5]=D[v+"5"],D[w][6]=D[v+"6"],D[w][7]=D[v+"7"],D[w][8]=D[v+"8"],D[w][9]=D[v+"9"],D[w][10]=D[v+"10"],D[w][11]=D[v+"11"],D[w][12]=D[v+"12"],D[w][13]=D[v+"13"],D[w][14]=D[v+"0"],D[w][15]=D[v+"0"]}function Ut(v){return v==Ah||v==ru||v==Kd||v==Jd}function sr(){this.eb=[],this.size=this.A=this.fb=0}function er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sr,this.f.kb=new er,this.sd=null}function Bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $l(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function vi(v,w){var T=v.T,L=w.ba.f.RGBA,q=L.eb,G=L.fb+v.ka*L.A,X=gs[w.ba.S],Q=v.y,te=v.O,oe=v.f,_e=v.N,Ne=v.ea,ae=v.W,Se=w.cc,Te=w.dc,Be=w.Mc,Re=w.Nc,Oe=v.ka,De=v.ka+v.T,qe=v.U,He=qe+1>>1;for(Oe==0?X(Q,te,null,null,oe,_e,Ne,ae,oe,_e,Ne,ae,q,G,null,null,qe):(X(w.ec,w.fc,Q,te,Se,Te,Be,Re,oe,_e,Ne,ae,q,G-L.A,q,G,qe),++T);Oe+2<De;Oe+=2)Se=oe,Te=_e,Be=Ne,Re=ae,_e+=v.Rc,ae+=v.Rc,G+=2*L.A,X(Q,(te+=2*v.fa)-v.fa,Q,te,Se,Te,Be,Re,oe,_e,Ne,ae,q,G-L.A,q,G,qe);return te+=v.fa,v.j+De<v.o?(n(w.ec,w.fc,Q,te,qe),n(w.cc,w.dc,oe,_e,He),n(w.Mc,w.Nc,Ne,ae,He),T--):1&De||X(Q,te,null,null,oe,_e,Ne,ae,oe,_e,Ne,ae,q,G+L.A,null,null,qe),T}function ya(v,w,T){var L=v.F,q=[v.J];if(L!=null){var G=v.U,X=w.ba.S,Q=X==Xd||X==Kd;w=w.ba.f.RGBA;var te=[0],oe=v.ka;te[0]=v.T,v.Kb&&(oe==0?--te[0]:(--oe,q[0]-=v.width),v.j+v.ka+v.T==v.o&&(te[0]=v.o-v.j-oe));var _e=w.eb;oe=w.fb+oe*w.A,v=Gd(L,q[0],v.width,G,te,_e,oe+(Q?0:3),w.A),e(T==te),v&&Ut(X)&&nu(_e,oe,Q,G,te,w.A)}return 0}function so(v){var w=v.ma,T=w.ba.S,L=11>T,q=T==tc||T==Yd||T==Xd||T==In||T==12||Ut(T);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Xi(w.Oa,v,q?11:12))return 0;if(q&&Ut(T)&&qd(),v.da)alert("todo:use_scaling");else{if(L){if(w.Ib=$l,v.Kb){if(T=v.U+1>>1,w.memory=s(v.U+2*T),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+v.U,w.Mc=w.cc,w.Nc=w.dc+T,w.Ib=vi,qd()}}else alert("todo:EmitYUV");q&&(w.Jb=ya,L&&Jc())}if(L&&!wi){for(v=0;256>v;++v)ys[v]=89858*(v-128)+$o>>cl,vs[v]=-22014*(v-128)+$o,Th[v]=-45773*(v-128),au[v]=113618*(v-128)+$o>>cl;for(v=En;v<Pn;++v)w=76283*(v-16)+$o>>cl,bm[v-En]=Yr(w,255),U2[v-En]=Yr(w+8>>4,15);wi=1}return 1}function Lt(v){var w=v.ma,T=v.U,L=v.T;return e(!(1&v.ka)),0>=T||0>=L?0:(T=w.Ib(v,w),w.Jb!=null&&w.Jb(v,w,T),w.Dc+=T,1)}function js(v){v.ma.memory=null}function Mo(v,w,T,L){return Z(v,8)!=47?0:(w[0]=Z(v,14)+1,T[0]=Z(v,14)+1,L[0]=Z(v,1),Z(v,3)!=0?0:!v.h)}function Pi(v,w){if(4>v)return v+1;var T=v-2>>1;return(2+(1&v)<<T)+Z(w,T)+1}function oo(v,w){return 120<w?w-120:1<=(T=((T=sw[w-1])>>4)*v+(8-(15&T)))?T:1;var T}function qn(v,w,T){var L=re(T),q=v[w+=255&L].g-8;return 0<q&&(pe(T,T.u+8),L=re(T),w+=v[w].value,w+=L&(1<<q)-1),pe(T,T.u+v[w].g),v[w].value}function br(v,w,T){return T.g+=v.g,T.value+=v.value<<w>>>0,e(8>=T.g),v.g}function Mr(v,w,T){var L=v.xc;return e((w=L==0?0:v.vc[v.md*(T>>L)+(w>>L)])<v.Wb),v.Ya[w]}function Ja(v,w,T,L){var q=v.ab,G=v.c*w,X=v.C;w=X+w;var Q=T,te=L;for(L=v.Ta,T=v.Ua;0<q--;){var oe=v.gc[q],_e=X,Ne=w,ae=Q,Se=te,Te=(te=L,Q=T,oe.Ea);switch(e(_e<Ne),e(Ne<=oe.nc),oe.hc){case 2:vh(ae,Se,(Ne-_e)*Te,te,Q);break;case 0:var Be=_e,Re=Ne,Oe=te,De=Q,qe=(ht=oe).Ea;Be==0&&(ds(ae,Se,null,null,1,Oe,De),tn(ae,Se+1,0,0,qe-1,Oe,De+1),Se+=qe,De+=qe,++Be);for(var He=1<<ht.b,_t=He-1,st=We(qe,ht.b),Vt=ht.K,ht=ht.w+(Be>>ht.b)*st;Be<Re;){var ln=Vt,dr=ht,Gt=1;for(fs(ae,Se,Oe,De-qe,1,Oe,De);Gt<qe;){var ot=(Gt&~_t)+He;ot>qe&&(ot=qe),(0,ll[ln[dr++]>>8&15])(ae,Se+ +Gt,Oe,De+Gt-qe,ot-Gt,Oe,De+Gt),Gt=ot}Se+=qe,De+=qe,++Be&_t||(ht+=st)}Ne!=oe.nc&&n(te,Q-Te,te,Q+(Ne-_e-1)*Te,Te);break;case 1:for(Te=ae,Re=Se,qe=(ae=oe.Ea)-(De=ae&~(Oe=(Se=1<<oe.b)-1)),Be=We(ae,oe.b),He=oe.K,oe=oe.w+(_e>>oe.b)*Be;_e<Ne;){for(_t=He,st=oe,Vt=new Dt,ht=Re+De,ln=Re+ae;Re<ht;)pt(_t[st++],Vt),ka(Vt,Te,Re,Se,te,Q),Re+=Se,Q+=Se;Re<ln&&(pt(_t[st++],Vt),ka(Vt,Te,Re,qe,te,Q),Re+=qe,Q+=qe),++_e&Oe||(oe+=Be)}break;case 3:if(ae==te&&Se==Q&&0<oe.b){for(Re=te,ae=Te=Q+(Ne-_e)*Te-(De=(Ne-_e)*We(oe.Ea,oe.b)),Se=te,Oe=Q,Be=[],De=(qe=De)-1;0<=De;--De)Be[De]=Se[Oe+De];for(De=qe-1;0<=De;--De)Re[ae+De]=Be[De];ec(oe,_e,Ne,te,Te,te,Q)}else ec(oe,_e,Ne,ae,Se,te,Q)}Q=L,te=T}te!=T&&n(L,T,Q,te,G)}function Hl(v,w){var T=v.V,L=v.Ba+v.c*v.C,q=w-v.C;if(e(w<=v.l.o),e(16>=q),0<q){var G=v.l,X=v.Ta,Q=v.Ua,te=G.width;if(Ja(v,q,T,L),q=Q=[Q],e((T=v.C)<(L=w)),e(G.v<G.va),L>G.o&&(L=G.o),T<G.j){var oe=G.j-T;T=G.j,q[0]+=oe*te}if(T>=L?T=0:(q[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=L-T,T=1),T){if(Q=Q[0],11>(T=v.ca).S){var _e=T.f.RGBA,Ne=(L=T.S,q=G.U,G=G.T,oe=_e.eb,_e.A),ae=G;for(_e=_e.fb+v.Ma*_e.A;0<ae--;){var Se=X,Te=Q,Be=q,Re=oe,Oe=_e;switch(L){case mm:_h(Se,Te,Be,Re,Oe);break;case tc:ps(Se,Te,Be,Re,Oe);break;case Ah:ps(Se,Te,Be,Re,Oe),nu(Re,Oe,0,Be,1,0);break;case O2:Hn(Se,Te,Be,Re,Oe);break;case Yd:Et(Se,Te,Be,Re,Oe,1);break;case ru:Et(Se,Te,Be,Re,Oe,1),nu(Re,Oe,0,Be,1,0);break;case Xd:Et(Se,Te,Be,Re,Oe,0);break;case Kd:Et(Se,Te,Be,Re,Oe,0),nu(Re,Oe,1,Be,1,0);break;case In:Ca(Se,Te,Be,Re,Oe);break;case Jd:Ca(Se,Te,Be,Re,Oe),R0(Re,Oe,Be,1,0);break;case gm:$n(Se,Te,Be,Re,Oe);break;default:e(0)}Q+=te,_e+=Ne}v.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=T.height)}}v.C=w,e(v.C<=v.i)}function Oo(v){var w;if(0<v.ua)return 0;for(w=0;w<v.Wb;++w){var T=v.Ya[w].G,L=v.Ya[w].H;if(0<T[1][L[1]+0].g||0<T[2][L[2]+0].g||0<T[3][L[3]+0].g)return 0}return 1}function va(v,w,T,L,q,G){if(v.Z!=0){var X=v.qd,Q=v.rd;for(e(Ii[v.Z]!=null);w<T;++w)Ii[v.Z](X,Q,L,q,L,q,G),X=L,Q=q,q+=G;v.qd=X,v.rd=Q}}function bi(v,w){var T=v.l.ma,L=T.Z==0||T.Z==1?v.l.j:v.C;if(L=v.C<L?L:v.C,e(w<=v.l.o),w>L){var q=v.l.width,G=T.ca,X=T.tb+q*L,Q=v.V,te=v.Ba+v.c*L,oe=v.gc;e(v.ab==1),e(oe[0].hc==3),Zc(oe[0],L,w,Q,te,G,X),va(T,L,w,G,X,q)}v.C=v.Ma=w}function ao(v,w,T,L,q,G,X){var Q=v.$/L,te=v.$%L,oe=v.m,_e=v.s,Ne=T+v.$,ae=Ne;q=T+L*q;var Se=T+L*G,Te=280+_e.ua,Be=v.Pb?Q:16777216,Re=0<_e.ua?_e.Wa:null,Oe=_e.wc,De=Ne<Se?Mr(_e,te,Q):null;e(v.C<G),e(Se<=q);var qe=!1;e:for(;;){for(;qe||Ne<Se;){var He=0;if(Q>=Be){var _t=Ne-T;e((Be=v).Pb),Be.wd=Be.m,Be.xd=_t,0<Be.s.ua&&yt(Be.s.Wa,Be.s.vb),Be=Q+vm}if(te&Oe||(De=Mr(_e,te,Q)),e(De!=null),De.Qb&&(w[Ne]=De.qb,qe=!0),!qe)if(fe(oe),De.jc){He=oe,_t=w;var st=Ne,Vt=De.pd[re(He)&Ji-1];e(De.jc),256>Vt.g?(pe(He,He.u+Vt.g),_t[st]=Vt.value,He=0):(pe(He,He.u+Vt.g-256),e(256<=Vt.value),He=Vt.value),He==0&&(qe=!0)}else He=qn(De.G[0],De.H[0],oe);if(oe.h)break;if(qe||256>He){if(!qe)if(De.nd)w[Ne]=(De.qb|He<<8)>>>0;else{if(fe(oe),qe=qn(De.G[1],De.H[1],oe),fe(oe),_t=qn(De.G[2],De.H[2],oe),st=qn(De.G[3],De.H[3],oe),oe.h)break;w[Ne]=(st<<24|qe<<16|He<<8|_t)>>>0}if(qe=!1,++Ne,++te>=L&&(te=0,++Q,X!=null&&Q<=G&&!(Q%16)&&X(v,Q),Re!=null))for(;ae<Ne;)He=w[ae++],Re.X[(506832829*He&4294967295)>>>Re.Mb]=He}else if(280>He){if(He=Pi(He-256,oe),_t=qn(De.G[4],De.H[4],oe),fe(oe),_t=oo(L,_t=Pi(_t,oe)),oe.h)break;if(Ne-T<_t||q-Ne<He)break e;for(st=0;st<He;++st)w[Ne+st]=w[Ne+st-_t];for(Ne+=He,te+=He;te>=L;)te-=L,++Q,X!=null&&Q<=G&&!(Q%16)&&X(v,Q);if(e(Ne<=q),te&Oe&&(De=Mr(_e,te,Q)),Re!=null)for(;ae<Ne;)He=w[ae++],Re.X[(506832829*He&4294967295)>>>Re.Mb]=He}else{if(!(He<Te))break e;for(qe=He-280,e(Re!=null);ae<Ne;)He=w[ae++],Re.X[(506832829*He&4294967295)>>>Re.Mb]=He;He=Ne,e(!(qe>>>(_t=Re).Xa)),w[He]=_t.X[qe],qe=!0}qe||e(oe.h==ue(oe))}if(v.Pb&&oe.h&&Ne<q)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&yt(v.s.vb,v.s.Wa);else{if(oe.h)break e;X!=null&&X(v,Q>G?G:Q),v.a=0,v.$=Ne-T}return 1}return v.a=3,0}function Bs(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var w=v.Wa;w!=null&&(w.X=null),v.vb=null,e(v!=null)}function Bc(){var v=new or;return v==null?null:(v.a=0,v.xb=Ch,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),vh=Rt,ka=Ct,_h=zn,ps=gn,Ca=bt,$n=$t,Hn=Cn,D.VP8LMapColor32b=bh,D.VP8LMapColor8b=al,v)}function Fo(v,w,T,L,q){var G=1,X=[v],Q=[w],te=L.m,oe=L.s,_e=null,Ne=0;e:for(;;){if(T)for(;G&&Z(te,1);){var ae=X,Se=Q,Te=L,Be=1,Re=Te.m,Oe=Te.gc[Te.ab],De=Z(Re,2);if(Te.Oc&1<<De)G=0;else{switch(Te.Oc|=1<<De,Oe.hc=De,Oe.Ea=ae[0],Oe.nc=Se[0],Oe.K=[null],++Te.ab,e(4>=Te.ab),De){case 0:case 1:Oe.b=Z(Re,3)+2,Be=Fo(We(Oe.Ea,Oe.b),We(Oe.nc,Oe.b),0,Te,Oe.K),Oe.K=Oe.K[0];break;case 3:var qe,He=Z(Re,8)+1,_t=16<He?0:4<He?1:2<He?2:3;if(ae[0]=We(Oe.Ea,_t),Oe.b=_t,qe=Be=Fo(He,1,0,Te,Oe.K)){var st,Vt=He,ht=Oe,ln=1<<(8>>ht.b),dr=s(ln);if(dr==null)qe=0;else{var Gt=ht.K[0],ot=ht.w;for(dr[0]=ht.K[0][0],st=1;st<1*Vt;++st)dr[st]=rt(Gt[ot+st],dr[st-1]);for(;st<4*ln;++st)dr[st]=0;ht.K[0]=null,ht.K[0]=dr,qe=1}}Be=qe;break;case 2:break;default:e(0)}G=Be}}if(X=X[0],Q=Q[0],G&&Z(te,1)&&!(G=1<=(Ne=Z(te,4))&&11>=Ne)){L.a=3;break e}var Qe;if(Qe=G)t:{var Sr,jt,rn,Vn=L,li=X,jr=Q,ar=Ne,Kr=T,ci=Vn.m,tr=Vn.s,hn=[null],wn=1,nr=0,xn=D2[ar];n:for(;;){if(Kr&&Z(ci,1)){var fr=Z(ci,3)+2,pr=We(li,fr),Mn=We(jr,fr),Mi=pr*Mn;if(!Fo(pr,Mn,0,Vn,hn))break n;for(hn=hn[0],tr.xc=fr,Sr=0;Sr<Mi;++Sr){var Ln=hn[Sr]>>8&65535;hn[Sr]=Ln,Ln>=wn&&(wn=Ln+1)}}if(ci.h)break n;for(jt=0;5>jt;++jt){var On=iu[jt];!jt&&0<ar&&(On+=1<<ar),nr<On&&(nr=On)}var Br=o(wn*xn,ne),xi=wn,bs=o(xi,me);if(bs==null)var Ar=null;else e(65536>=xi),Ar=bs;var kr=s(nr);if(Ar==null||kr==null||Br==null){Vn.a=1;break n}var Oi=Br;for(Sr=rn=0;Sr<wn;++Sr){var Fn=Ar[Sr],Fi=Fn.G,po=Fn.H,Ho=0,ui=1,Cr=0;for(jt=0;5>jt;++jt){On=iu[jt],Fi[jt]=Oi,po[jt]=rn,!jt&&0<ar&&(On+=1<<ar);i:{var ic,hl=On,Nh=Vn,Pa=kr,q2=Oi,H0=rn,Xn=0,Vo=Nh.m,V0=Z(Vo,1);if(i(Pa,0,0,hl),V0){var W0=Z(Vo,1)+1,_m=Z(Vo,1),wm=Z(Vo,_m==0?1:8);Pa[wm]=1,W0==2&&(Pa[wm=Z(Vo,8)]=1);var La=1}else{var rr=s(19),Ur=Z(Vo,4)+4;if(19<Ur){Nh.a=3;var Er=0;break i}for(ic=0;ic<Ur;++ic)rr[iw[ic]]=Z(Vo,3);var Ph=void 0,dl=void 0,Lh=Nh,uw=rr,Jr=hl,xm=Pa,nf=0,Ra=Lh.m,Wo=8,Hs=o(128,ne);r:for(;H(Hs,0,7,uw,19);){if(Z(Ra,1)){var rf=2+2*Z(Ra,3);if((Ph=2+Z(Ra,rf))>Jr)break r}else Ph=Jr;for(dl=0;dl<Jr&&Ph--;){fe(Ra);var Sm=Hs[0+(127&re(Ra))];pe(Ra,Ra.u+Sm.g);var sc=Sm.value;if(16>sc)xm[dl++]=sc,sc!=0&&(Wo=sc);else{var $2=sc==16,G0=sc-16,H2=ym[G0],Y0=Z(Ra,Qd[G0])+H2;if(dl+Y0>Jr)break r;for(var V2=$2?Wo:0;0<Y0--;)xm[dl++]=V2}}nf=1;break r}nf||(Lh.a=3),La=nf}(La=La&&!Vo.h)&&(Xn=H(q2,H0,8,Pa,hl)),La&&Xn!=0?Er=Xn:(Nh.a=3,Er=0)}if(Er==0)break n;if(ui&&F2[jt]==1&&(ui=Oi[rn].g==0),Ho+=Oi[rn].g,rn+=Er,3>=jt){var Rh,Am=kr[0];for(Rh=1;Rh<On;++Rh)kr[Rh]>Am&&(Am=kr[Rh]);Cr+=Am}}if(Fn.nd=ui,Fn.Qb=0,ui&&(Fn.qb=(Fi[3][po[3]+0].value<<24|Fi[1][po[1]+0].value<<16|Fi[2][po[2]+0].value)>>>0,Ho==0&&256>Fi[0][po[0]+0].value&&(Fn.Qb=1,Fn.qb+=Fi[0][po[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Cr,Fn.jc){var sf,Vs=Fn;for(sf=0;sf<Ji;++sf){var fl=sf,Go=Vs.pd[fl],cu=Vs.G[0][Vs.H[0]+fl];256<=cu.value?(Go.g=cu.g+256,Go.value=cu.value):(Go.g=0,Go.value=0,fl>>=br(cu,8,Go),fl>>=br(Vs.G[1][Vs.H[1]+fl],16,Go),fl>>=br(Vs.G[2][Vs.H[2]+fl],0,Go),br(Vs.G[3][Vs.H[3]+fl],24,Go))}}}tr.vc=hn,tr.Wb=wn,tr.Ya=Ar,tr.yc=Br,Qe=1;break t}Qe=0}if(!(G=Qe)){L.a=3;break e}if(0<Ne){if(oe.ua=1<<Ne,!ce(oe.Wa,Ne)){L.a=1,G=0;break e}}else oe.ua=0;var km=L,Cm=X,W2=Q,Em=km.s,Tm=Em.xc;if(km.c=Cm,km.i=W2,Em.md=We(Cm,Tm),Em.wc=Tm==0?-1:(1<<Tm)-1,T){L.xb=Na;break e}if((_e=s(X*Q))==null){L.a=1,G=0;break e}G=(G=ao(L,_e,0,X,Q,Q,null))&&!te.h;break e}return G?(q!=null?q[0]=_e:(e(_e==null),e(T)),L.$=0,T||Bs(oe)):Bs(oe),G}function Vl(v,w){var T=v.c*v.i,L=T+w+16*w;return e(v.c<=w),v.V=s(L),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+T+w,1)}function Uc(v,w){var T=v.C,L=w-T,q=v.V,G=v.Ba+v.c*T;for(e(w<=v.l.o);0<L;){var X=16<L?16:L,Q=v.l.ma,te=v.l.width,oe=te*X,_e=Q.ca,Ne=Q.tb+te*T,ae=v.Ta,Se=v.Ua;Ja(v,X,q,G),I0(ae,Se,_e,Ne,oe),va(Q,T,T+X,_e,Ne,te),L-=X,q+=X*v.c,T+=X}e(T==w),v.C=v.Ma=w}function zc(){this.ub=this.yd=this.td=this.Rb=0}function ah(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function C0(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yn(){this.Yb=function(){var v=[];return function w(T,L,q){for(var G=q[L],X=0;X<G&&(T.push(q.length>L+1?[]:0),!(q.length<L+1));X++)w(T[X],L+1,q)}(v,0,[3,11]),v}()}function Qp(){this.jb=s(3),this.Wc=a([4,8],Yn),this.Xc=a([4,17],Yn)}function lh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function Wl(){this.Na=this.la=0}function Zp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ch(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new ch),this.aa=0,this.l=new Li}function zs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function em(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new zc,this.Kc=new ah,this.ed=new lh,this.Qa=new C0,this.Ic=this.$c=this.Aa=0,this.D=new qc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Zp),this.Pa=new Qp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zs),this.Hd=0,this.rb=Array(new Wl),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ch),this.L=this.aa=0,this.gd=a([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Li(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function E0(){var v=new em;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,su||(su=lo)),v}function Or(v,w,T){return v.a==0&&(v.a=w,v.sc=T,v.cb=0),0}function tm(v,w,T){return 3<=T&&v[w+0]==157&&v[w+1]==1&&v[w+2]==42}function $c(v,w){if(v==null)return 0;if(v.a=0,v.sc="OK",w==null)return Or(v,2,"null VP8Io passed to VP8GetHeaders()");var T=w.data,L=w.w,q=w.ha;if(4>q)return Or(v,7,"Truncated header.");var G=T[L+0]|T[L+1]<<8|T[L+2]<<16,X=v.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return Or(v,3,"Incorrect keyframe parameters.");if(!X.yd)return Or(v,4,"Frame not displayable.");L+=3,q-=3;var Q=v.Kc;if(X.Rb){if(7>q)return Or(v,7,"cannot parse picture header");if(!tm(T,L,q))return Or(v,3,"Bad code word");Q.c=16383&(T[L+4]<<8|T[L+3]),Q.Td=T[L+4]>>6,Q.i=16383&(T[L+6]<<8|T[L+5]),Q.Ud=T[L+6]>>6,L+=7,q-=7,v.za=Q.c+15>>4,v.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((G=v.Pa).jb,0,255,G.jb.length),e((G=v.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(X.ub>q)return Or(v,7,"bad partition length");ge(G=v.m,T,L,X.ub),L+=X.ub,q-=X.ub,X.Rb&&(Q.Ld=ke(G),Q.Kd=ke(G)),Q=v.Qa;var te,oe=v.Pa;if(e(G!=null),e(Q!=null),Q.Cb=ke(G),Q.Cb){if(Q.Bb=ke(G),ke(G)){for(Q.Fb=ke(G),te=0;4>te;++te)Q.Zb[te]=ke(G)?ie(G,7):0;for(te=0;4>te;++te)Q.Lb[te]=ke(G)?ie(G,6):0}if(Q.Bb)for(te=0;3>te;++te)oe.jb[te]=ke(G)?de(G,8):255}else Q.Bb=0;if(G.Ka)return Or(v,3,"cannot parse segment header");if((Q=v.ed).zd=ke(G),Q.Tb=de(G,6),Q.wb=de(G,3),Q.Pc=ke(G),Q.Pc&&ke(G)){for(oe=0;4>oe;++oe)ke(G)&&(Q.vd[oe]=ie(G,6));for(oe=0;4>oe;++oe)ke(G)&&(Q.od[oe]=ie(G,6))}if(v.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return Or(v,3,"cannot parse filter header");var _e=q;if(q=te=L,L=te+_e,Q=_e,v.Xb=(1<<de(v.m,2))-1,_e<3*(oe=v.Xb))T=7;else{for(te+=3*oe,Q-=3*oe,_e=0;_e<oe;++_e){var Ne=T[q+0]|T[q+1]<<8|T[q+2]<<16;Ne>Q&&(Ne=Q),ge(v.Jc[+_e],T,te,Ne),te+=Ne,Q-=Ne,q+=3}ge(v.Jc[+oe],T,te,Q),T=te<L?0:5}if(T!=0)return Or(v,T,"cannot parse partitions");for(T=de(te=v.m,7),q=ke(te)?ie(te,4):0,L=ke(te)?ie(te,4):0,Q=ke(te)?ie(te,4):0,oe=ke(te)?ie(te,4):0,te=ke(te)?ie(te,4):0,_e=v.Qa,Ne=0;4>Ne;++Ne){if(_e.Cb){var ae=_e.Zb[Ne];_e.Fb||(ae+=T)}else{if(0<Ne){v.pb[Ne]=v.pb[0];continue}ae=T}var Se=v.pb[Ne];Se.Sc[0]=kh[Yr(ae+q,127)],Se.Sc[1]=Zd[Yr(ae+0,127)],Se.Eb[0]=2*kh[Yr(ae+L,127)],Se.Eb[1]=101581*Zd[Yr(ae+Q,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=kh[Yr(ae+oe,117)],Se.Qc[1]=Zd[Yr(ae+te,127)],Se.lc=ae+te}if(!X.Rb)return Or(v,4,"Not a key frame.");for(ke(G),X=v.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(L=0;3>L;++L)for(Q=0;11>Q;++Q)oe=xe(G,aw[T][q][L][Q])?de(G,8):B2[T][q][L][Q],X.Wc[T][q].Yb[L][Q]=oe;for(q=0;17>q;++q)X.Xc[T][q]=X.Wc[T][z0[q]]}return v.kc=ke(G),v.kc&&(v.Bd=de(G,8)),v.cb=1}function lo(v,w,T,L,q,G,X){var Q=w[q].Yb[T];for(T=0;16>q;++q){if(!xe(v,Q[T+0]))return q;for(;!xe(v,Q[T+1]);)if(Q=w[++q].Yb[0],T=0,q==16)return 16;var te=w[q+1].Yb;if(xe(v,Q[T+2])){var oe=v,_e=0;if(xe(oe,(ae=Q)[(Ne=T)+3]))if(xe(oe,ae[Ne+6])){for(Q=0,Ne=2*(_e=xe(oe,ae[Ne+8]))+(ae=xe(oe,ae[Ne+9+_e])),_e=0,ae=B0[Ne];ae[Q];++Q)_e+=_e+xe(oe,ae[Q]);_e+=3+(8<<Ne)}else xe(oe,ae[Ne+7])?(_e=7+2*xe(oe,165),_e+=xe(oe,145)):_e=5+xe(oe,159);else _e=xe(oe,ae[Ne+4])?3+xe(oe,ae[Ne+5]):2;Q=te[2]}else _e=1,Q=te[1];te=X+U0[q],0>(oe=v).b&&Ce(oe);var Ne,ae=oe.b,Se=(Ne=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=Se,oe.Ca|=1,oe.I-=(Ne+1&Se)<<ae,G[te]=((_e^Se)-Se)*L[(0<q)+0]}return 16}function Do(v){var w=v.rb[v.sb-1];w.la=0,w.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function cs(v,w,T,L,q){q=v[w+T+32*L]+(q>>3),v[w+T+32*L]=-256&q?0>q?0:255:q}function Hc(v,w,T,L,q,G){cs(v,w,0,T,L+q),cs(v,w,1,T,L+G),cs(v,w,2,T,L-G),cs(v,w,3,T,L-q)}function _r(v){return(20091*v>>16)+v}function Vc(v,w,T,L){var q,G=0,X=s(16);for(q=0;4>q;++q){var Q=v[w+0]+v[w+8],te=v[w+0]-v[w+8],oe=(35468*v[w+4]>>16)-_r(v[w+12]),_e=_r(v[w+4])+(35468*v[w+12]>>16);X[G+0]=Q+_e,X[G+1]=te+oe,X[G+2]=te-oe,X[G+3]=Q-_e,G+=4,w++}for(q=G=0;4>q;++q)Q=(v=X[G+0]+4)+X[G+8],te=v-X[G+8],oe=(35468*X[G+4]>>16)-_r(X[G+12]),cs(T,L,0,0,Q+(_e=_r(X[G+4])+(35468*X[G+12]>>16))),cs(T,L,1,0,te+oe),cs(T,L,2,0,te-oe),cs(T,L,3,0,Q-_e),G++,L+=32}function nm(v,w,T,L){var q=v[w+0]+4,G=35468*v[w+4]>>16,X=_r(v[w+4]),Q=35468*v[w+1]>>16;Hc(T,L,0,q+X,v=_r(v[w+1]),Q),Hc(T,L,1,q+G,v,Q),Hc(T,L,2,q-G,v,Q),Hc(T,L,3,q-X,v,Q)}function Dd(v,w,T,L,q){Vc(v,w,T,L),q&&Vc(v,w+16,T,L+4)}function Wc(v,w,T,L){xr(v,w+0,T,L,1),xr(v,w+32,T,L+128,1)}function ba(v,w,T,L){var q;for(v=v[w+0]+4,q=0;4>q;++q)for(w=0;4>w;++w)cs(T,L,w,q,v)}function uh(v,w,T,L){v[w+0]&&qo(v,w+0,T,L),v[w+16]&&qo(v,w+16,T,L+4),v[w+32]&&qo(v,w+32,T,L+128),v[w+48]&&qo(v,w+48,T,L+128+4)}function vn(v,w,T,L){var q,G=s(16);for(q=0;4>q;++q){var X=v[w+0+q]+v[w+12+q],Q=v[w+4+q]+v[w+8+q],te=v[w+4+q]-v[w+8+q],oe=v[w+0+q]-v[w+12+q];G[0+q]=X+Q,G[8+q]=X-Q,G[4+q]=oe+te,G[12+q]=oe-te}for(q=0;4>q;++q)X=(v=G[0+4*q]+3)+G[3+4*q],Q=G[1+4*q]+G[2+4*q],te=G[1+4*q]-G[2+4*q],oe=v-G[3+4*q],T[L+0]=X+Q>>3,T[L+16]=oe+te>>3,T[L+32]=X-Q>>3,T[L+48]=oe-te>>3,L+=64}function Qa(v,w,T){var L,q=w-32,G=Qi,X=255-v[q-1];for(L=0;L<T;++L){var Q,te=G,oe=X+v[w-1];for(Q=0;Q<T;++Q)v[w+Q]=te[oe+v[q+Q]];w+=32}}function hh(v,w){Qa(v,w,4)}function jd(v,w){Qa(v,w,8)}function rm(v,w){Qa(v,w,16)}function im(v,w){var T;for(T=0;16>T;++T)n(v,w+32*T,v,w-32,16)}function dh(v,w){var T;for(T=16;0<T;--T)i(v,w,v[w-1],16),w+=32}function Za(v,w,T){var L;for(L=0;16>L;++L)i(w,T+32*L,v,16)}function jo(v,w){var T,L=16;for(T=0;16>T;++T)L+=v[w-1+32*T]+v[w+T-32];Za(L>>5,v,w)}function _a(v,w){var T,L=8;for(T=0;16>T;++T)L+=v[w-1+32*T];Za(L>>4,v,w)}function us(v,w){var T,L=8;for(T=0;16>T;++T)L+=v[w+T-32];Za(L>>4,v,w)}function co(v,w){Za(128,v,w)}function Ft(v,w,T){return v+2*w+T+2>>2}function Gc(v,w){var T,L=w-32;for(L=new Uint8Array([Ft(v[L-1],v[L+0],v[L+1]),Ft(v[L+0],v[L+1],v[L+2]),Ft(v[L+1],v[L+2],v[L+3]),Ft(v[L+2],v[L+3],v[L+4])]),T=0;4>T;++T)n(v,w+32*T,L,0,L.length)}function wa(v,w){var T=v[w-1],L=v[w-1+32],q=v[w-1+64],G=v[w-1+96];Ue(v,w+0,16843009*Ft(v[w-1-32],T,L)),Ue(v,w+32,16843009*Ft(T,L,q)),Ue(v,w+64,16843009*Ft(L,q,G)),Ue(v,w+96,16843009*Ft(q,G,G))}function T0(v,w){var T,L=4;for(T=0;4>T;++T)L+=v[w+T-32]+v[w-1+32*T];for(L>>=3,T=0;4>T;++T)i(v,w+32*T,L,4)}function sm(v,w){var T=v[w-1+0],L=v[w-1+32],q=v[w-1+64],G=v[w-1-32],X=v[w+0-32],Q=v[w+1-32],te=v[w+2-32],oe=v[w+3-32];v[w+0+96]=Ft(L,q,v[w-1+96]),v[w+1+96]=v[w+0+64]=Ft(T,L,q),v[w+2+96]=v[w+1+64]=v[w+0+32]=Ft(G,T,L),v[w+3+96]=v[w+2+64]=v[w+1+32]=v[w+0+0]=Ft(X,G,T),v[w+3+64]=v[w+2+32]=v[w+1+0]=Ft(Q,X,G),v[w+3+32]=v[w+2+0]=Ft(te,Q,X),v[w+3+0]=Ft(oe,te,Q)}function qs(v,w){var T=v[w+1-32],L=v[w+2-32],q=v[w+3-32],G=v[w+4-32],X=v[w+5-32],Q=v[w+6-32],te=v[w+7-32];v[w+0+0]=Ft(v[w+0-32],T,L),v[w+1+0]=v[w+0+32]=Ft(T,L,q),v[w+2+0]=v[w+1+32]=v[w+0+64]=Ft(L,q,G),v[w+3+0]=v[w+2+32]=v[w+1+64]=v[w+0+96]=Ft(q,G,X),v[w+3+32]=v[w+2+64]=v[w+1+96]=Ft(G,X,Q),v[w+3+64]=v[w+2+96]=Ft(X,Q,te),v[w+3+96]=Ft(Q,te,te)}function el(v,w){var T=v[w-1+0],L=v[w-1+32],q=v[w-1+64],G=v[w-1-32],X=v[w+0-32],Q=v[w+1-32],te=v[w+2-32],oe=v[w+3-32];v[w+0+0]=v[w+1+64]=G+X+1>>1,v[w+1+0]=v[w+2+64]=X+Q+1>>1,v[w+2+0]=v[w+3+64]=Q+te+1>>1,v[w+3+0]=te+oe+1>>1,v[w+0+96]=Ft(q,L,T),v[w+0+64]=Ft(L,T,G),v[w+0+32]=v[w+1+96]=Ft(T,G,X),v[w+1+32]=v[w+2+96]=Ft(G,X,Q),v[w+2+32]=v[w+3+96]=Ft(X,Q,te),v[w+3+32]=Ft(Q,te,oe)}function om(v,w){var T=v[w+0-32],L=v[w+1-32],q=v[w+2-32],G=v[w+3-32],X=v[w+4-32],Q=v[w+5-32],te=v[w+6-32],oe=v[w+7-32];v[w+0+0]=T+L+1>>1,v[w+1+0]=v[w+0+64]=L+q+1>>1,v[w+2+0]=v[w+1+64]=q+G+1>>1,v[w+3+0]=v[w+2+64]=G+X+1>>1,v[w+0+32]=Ft(T,L,q),v[w+1+32]=v[w+0+96]=Ft(L,q,G),v[w+2+32]=v[w+1+96]=Ft(q,G,X),v[w+3+32]=v[w+2+96]=Ft(G,X,Q),v[w+3+64]=Ft(X,Q,te),v[w+3+96]=Ft(Q,te,oe)}function fh(v,w){var T=v[w-1+0],L=v[w-1+32],q=v[w-1+64],G=v[w-1+96];v[w+0+0]=T+L+1>>1,v[w+2+0]=v[w+0+32]=L+q+1>>1,v[w+2+32]=v[w+0+64]=q+G+1>>1,v[w+1+0]=Ft(T,L,q),v[w+3+0]=v[w+1+32]=Ft(L,q,G),v[w+3+32]=v[w+1+64]=Ft(q,G,G),v[w+3+64]=v[w+2+64]=v[w+0+96]=v[w+1+96]=v[w+2+96]=v[w+3+96]=G}function Yc(v,w){var T=v[w-1+0],L=v[w-1+32],q=v[w-1+64],G=v[w-1+96],X=v[w-1-32],Q=v[w+0-32],te=v[w+1-32],oe=v[w+2-32];v[w+0+0]=v[w+2+32]=T+X+1>>1,v[w+0+32]=v[w+2+64]=L+T+1>>1,v[w+0+64]=v[w+2+96]=q+L+1>>1,v[w+0+96]=G+q+1>>1,v[w+3+0]=Ft(Q,te,oe),v[w+2+0]=Ft(X,Q,te),v[w+1+0]=v[w+3+32]=Ft(T,X,Q),v[w+1+32]=v[w+3+64]=Ft(L,T,X),v[w+1+64]=v[w+3+96]=Ft(q,L,T),v[w+1+96]=Ft(G,q,L)}function Bd(v,w){var T;for(T=0;8>T;++T)n(v,w+32*T,v,w-32,8)}function Bo(v,w){var T;for(T=0;8>T;++T)i(v,w,v[w-1],8),w+=32}function xa(v,w,T){var L;for(L=0;8>L;++L)i(w,T+32*L,v,8)}function Uo(v,w){var T,L=8;for(T=0;8>T;++T)L+=v[w+T-32]+v[w-1+32*T];xa(L>>4,v,w)}function ph(v,w){var T,L=4;for(T=0;8>T;++T)L+=v[w+T-32];xa(L>>3,v,w)}function Ud(v,w){var T,L=4;for(T=0;8>T;++T)L+=v[w-1+32*T];xa(L>>3,v,w)}function zd(v,w){xa(128,v,w)}function tl(v,w,T){var L=v[w-T],q=v[w+0],G=3*(q-L)+Ta[1020+v[w-2*T]-v[w+T]],X=Sh[112+(G+4>>3)];v[w-T]=Qi[255+L+Sh[112+(G+3>>3)]],v[w+0]=Qi[255+q-X]}function Sa(v,w,T,L){var q=v[w+0],G=v[w+T];return ho[255+v[w-2*T]-v[w-T]]>L||ho[255+G-q]>L}function Xc(v,w,T,L){return 4*ho[255+v[w-T]-v[w+0]]+ho[255+v[w-2*T]-v[w+T]]<=L}function Kc(v,w,T,L,q){var G=v[w-3*T],X=v[w-2*T],Q=v[w-T],te=v[w+0],oe=v[w+T],_e=v[w+2*T],Ne=v[w+3*T];return 4*ho[255+Q-te]+ho[255+X-oe]>L?0:ho[255+v[w-4*T]-G]<=q&&ho[255+G-X]<=q&&ho[255+X-Q]<=q&&ho[255+Ne-_e]<=q&&ho[255+_e-oe]<=q&&ho[255+oe-te]<=q}function uo(v,w,T,L){var q=2*L+1;for(L=0;16>L;++L)Xc(v,w+L,T,q)&&tl(v,w+L,T)}function nl(v,w,T,L){var q=2*L+1;for(L=0;16>L;++L)Xc(v,w+L*T,1,q)&&tl(v,w+L*T,1)}function Gl(v,w,T,L){var q;for(q=3;0<q;--q)uo(v,w+=4*T,T,L)}function mh(v,w,T,L){var q;for(q=3;0<q;--q)nl(v,w+=4,T,L)}function Ri(v,w,T,L,q,G,X,Q){for(G=2*G+1;0<q--;){if(Kc(v,w,T,G,X))if(Sa(v,w,T,Q))tl(v,w,T);else{var te=v,oe=w,_e=T,Ne=te[oe-2*_e],ae=te[oe-_e],Se=te[oe+0],Te=te[oe+_e],Be=te[oe+2*_e],Re=27*(De=Ta[1020+3*(Se-ae)+Ta[1020+Ne-Te]])+63>>7,Oe=18*De+63>>7,De=9*De+63>>7;te[oe-3*_e]=Qi[255+te[oe-3*_e]+De],te[oe-2*_e]=Qi[255+Ne+Oe],te[oe-_e]=Qi[255+ae+Re],te[oe+0]=Qi[255+Se-Re],te[oe+_e]=Qi[255+Te-Oe],te[oe+2*_e]=Qi[255+Be-De]}w+=L}}function $s(v,w,T,L,q,G,X,Q){for(G=2*G+1;0<q--;){if(Kc(v,w,T,G,X))if(Sa(v,w,T,Q))tl(v,w,T);else{var te=v,oe=w,_e=T,Ne=te[oe-_e],ae=te[oe+0],Se=te[oe+_e],Te=Sh[112+(4+(Be=3*(ae-Ne))>>3)],Be=Sh[112+(Be+3>>3)],Re=Te+1>>1;te[oe-2*_e]=Qi[255+te[oe-2*_e]+Re],te[oe-_e]=Qi[255+Ne+Be],te[oe+0]=Qi[255+ae-Te],te[oe+_e]=Qi[255+Se-Re]}w+=L}}function C(v,w,T,L,q,G){Ri(v,w,T,1,16,L,q,G)}function z(v,w,T,L,q,G){Ri(v,w,1,T,16,L,q,G)}function le(v,w,T,L,q,G){var X;for(X=3;0<X;--X)$s(v,w+=4*T,T,1,16,L,q,G)}function ve(v,w,T,L,q,G){var X;for(X=3;0<X;--X)$s(v,w+=4,1,T,16,L,q,G)}function Ee(v,w,T,L,q,G,X,Q){Ri(v,w,q,1,8,G,X,Q),Ri(T,L,q,1,8,G,X,Q)}function ze(v,w,T,L,q,G,X,Q){Ri(v,w,1,q,8,G,X,Q),Ri(T,L,1,q,8,G,X,Q)}function Ve(v,w,T,L,q,G,X,Q){$s(v,w+4*q,q,1,8,G,X,Q),$s(T,L+4*q,q,1,8,G,X,Q)}function at(v,w,T,L,q,G,X,Q){$s(v,w+4,1,q,8,G,X,Q),$s(T,L+4,1,q,8,G,X,Q)}function ut(){this.ba=new yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function It(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _n(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new ne}function or(){this.xb=this.a=0,this.l=new Li,this.ca=new yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _n,this.ab=0,this.gc=o(4,Ht),this.Oc=0}function Fr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Li,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(v,w,T,L,q,G,X){for(v=v==null?0:v[w+0],w=0;w<X;++w)q[G+w]=v+T[L+w]&255,v=q[G+w]}function Gr(v,w,T,L,q,G,X){var Q;if(v==null)An(null,null,T,L,q,G,X);else for(Q=0;Q<X;++Q)q[G+Q]=v[w+Q]+T[L+Q]&255}function Dr(v,w,T,L,q,G,X){if(v==null)An(null,null,T,L,q,G,X);else{var Q,te=v[w+0],oe=te,_e=te;for(Q=0;Q<X;++Q)oe=_e+(te=v[w+Q])-oe,_e=T[L+Q]+(-256&oe?0>oe?0:255:oe)&255,oe=te,q[G+Q]=_e}}function _i(v,w,T,L){var q=w.width,G=w.o;if(e(v!=null&&w!=null),0>T||0>=L||T+L>G)return null;if(!v.Cc){if(v.ga==null){var X;if(v.ga=new Fr,(X=v.ga==null)||(X=w.width*w.o,e(v.Gb.length==0),v.Gb=s(X),v.Uc=0,v.Gb==null?X=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,X=1),X=!X),!X){X=v.ga;var Q=v.Fa,te=v.P,oe=v.qc,_e=v.mb,Ne=v.nb,ae=te+1,Se=oe-1,Te=X.l;if(e(Q!=null&&_e!=null&&w!=null),Ii[0]=null,Ii[1]=An,Ii[2]=Gr,Ii[3]=Dr,X.ca=_e,X.tb=Ne,X.c=w.width,X.i=w.height,e(0<X.c&&0<X.i),1>=oe)w=0;else if(X.$a=3&Q[te+0],X.Z=Q[te+0]>>2&3,X.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||te)w=0;else if(Te.put=Lt,Te.ac=so,Te.bc=js,Te.ma=X,Te.width=w.width,Te.height=w.height,Te.Da=w.Da,Te.v=w.v,Te.va=w.va,Te.j=w.j,Te.o=w.o,X.$a)e:{e(X.$a==1),w=Bc();t:for(;;){if(w==null){w=0;break e}if(e(X!=null),X.mc=w,w.c=X.c,w.i=X.i,w.l=X.l,w.l.ma=X,w.l.width=X.c,w.l.height=X.i,w.a=0,ye(w.m,Q,ae,Se),!Fo(X.c,X.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Oo(w.s)?(X.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(X.ic=0,w=Vl(w,X.c)),!w))break t;w=1;break e}X.mc=null,w=0}else w=Se>=X.c*X.i;X=!w}if(X)return null;v.ga.Lc!=1?v.Ga=0:L=G-T}e(v.ga!=null),e(T+L<=G);e:{if(w=(Q=v.ga).c,G=Q.l.o,Q.$a==0){if(ae=v.rc,Se=v.Vc,Te=v.Fa,te=v.P+1+T*w,oe=v.mb,_e=v.nb+T*w,e(te<=v.P+v.qc),Q.Z!=0)for(e(Ii[Q.Z]!=null),X=0;X<L;++X)Ii[Q.Z](ae,Se,Te,te,oe,_e,w),ae=oe,Se=_e,_e+=w,te+=w;else for(X=0;X<L;++X)n(oe,_e,Te,te,w),ae=oe,Se=_e,_e+=w,te+=w;v.rc=ae,v.Vc=Se}else{if(e(Q.mc!=null),w=T+L,e((X=Q.mc)!=null),e(w<=X.i),X.C>=w)w=1;else if(Q.ic||Jc(),Q.ic){Q=X.V,ae=X.Ba,Se=X.c;var Be=X.i,Re=(Te=1,te=X.$/Se,oe=X.$%Se,_e=X.m,Ne=X.s,X.$),Oe=Se*Be,De=Se*w,qe=Ne.wc,He=Re<De?Mr(Ne,oe,te):null;e(Re<=Oe),e(w<=Be),e(Oo(Ne));t:for(;;){for(;!_e.h&&Re<De;){if(oe&qe||(He=Mr(Ne,oe,te)),e(He!=null),fe(_e),256>(Be=qn(He.G[0],He.H[0],_e)))Q[ae+Re]=Be,++Re,++oe>=Se&&(oe=0,++te<=w&&!(te%16)&&bi(X,te));else{if(!(280>Be)){Te=0;break t}Be=Pi(Be-256,_e);var _t,st=qn(He.G[4],He.H[4],_e);if(fe(_e),!(Re>=(st=oo(Se,st=Pi(st,_e)))&&Oe-Re>=Be)){Te=0;break t}for(_t=0;_t<Be;++_t)Q[ae+Re+_t]=Q[ae+Re+_t-st];for(Re+=Be,oe+=Be;oe>=Se;)oe-=Se,++te<=w&&!(te%16)&&bi(X,te);Re<De&&oe&qe&&(He=Mr(Ne,oe,te))}e(_e.h==ue(_e))}bi(X,te>w?w:te);break t}!Te||_e.h&&Re<Oe?(Te=0,X.a=_e.h?5:3):X.$=Re,w=Te}else w=ao(X,X.V,X.Ba,X.c,X.i,w,Uc);if(!w){L=0;break e}}T+L>=G&&(v.Cc=1),L=1}if(!L)return null;if(v.Cc&&((L=v.ga)!=null&&(L.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+T*q}function rl(v,w,T,L,q,G){for(;0<q--;){var X,Q=v,te=w+(T?1:0),oe=v,_e=w+(T?0:3);for(X=0;X<L;++X){var Ne=oe[_e+4*X];Ne!=255&&(Ne*=32897,Q[te+4*X+0]=Q[te+4*X+0]*Ne>>23,Q[te+4*X+1]=Q[te+4*X+1]*Ne>>23,Q[te+4*X+2]=Q[te+4*X+2]*Ne>>23)}w+=G}}function Yl(v,w,T,L,q){for(;0<L--;){var G;for(G=0;G<T;++G){var X=v[w+2*G+0],Q=15&(oe=v[w+2*G+1]),te=4369*Q,oe=(240&oe|oe>>4)*te>>16;v[w+2*G+0]=(240&X|X>>4)*te>>16&240|(15&X|X<<4)*te>>16>>4&15,v[w+2*G+1]=240&oe|Q}w+=q}}function am(v,w,T,L,q,G,X,Q){var te,oe,_e=255;for(oe=0;oe<q;++oe){for(te=0;te<L;++te){var Ne=v[w+te];G[X+4*te]=Ne,_e&=Ne}w+=T,X+=Q}return _e!=255}function lm(v,w,T,L,q){var G;for(G=0;G<q;++G)T[L+G]=v[w+G]>>8}function Jc(){nu=rl,R0=Yl,Gd=am,I0=lm}function zo(v,w,T){D[v]=function(L,q,G,X,Q,te,oe,_e,Ne,ae,Se,Te,Be,Re,Oe,De,qe){var He,_t=qe-1>>1,st=Q[te+0]|oe[_e+0]<<16,Vt=Ne[ae+0]|Se[Te+0]<<16;e(L!=null);var ht=3*st+Vt+131074>>2;for(w(L[q+0],255&ht,ht>>16,Be,Re),G!=null&&(ht=3*Vt+st+131074>>2,w(G[X+0],255&ht,ht>>16,Oe,De)),He=1;He<=_t;++He){var ln=Q[te+He]|oe[_e+He]<<16,dr=Ne[ae+He]|Se[Te+He]<<16,Gt=st+ln+Vt+dr+524296,ot=Gt+2*(ln+Vt)>>3;ht=ot+st>>1,st=(Gt=Gt+2*(st+dr)>>3)+ln>>1,w(L[q+2*He-1],255&ht,ht>>16,Be,Re+(2*He-1)*T),w(L[q+2*He-0],255&st,st>>16,Be,Re+(2*He-0)*T),G!=null&&(ht=Gt+Vt>>1,st=ot+dr>>1,w(G[X+2*He-1],255&ht,ht>>16,Oe,De+(2*He-1)*T),w(G[X+2*He+0],255&st,st>>16,Oe,De+(2*He+0)*T)),st=ln,Vt=dr}1&qe||(ht=3*st+Vt+131074>>2,w(L[q+qe-1],255&ht,ht>>16,Be,Re+(qe-1)*T),G!=null&&(ht=3*Vt+st+131074>>2,w(G[X+qe-1],255&ht,ht>>16,Oe,De+(qe-1)*T)))}}function qd(){gs[mm]=lw,gs[tc]=nc,gs[O2]=cw,gs[Yd]=Eh,gs[Xd]=ou,gs[In]=ef,gs[gm]=q0,gs[Ah]=nc,gs[ru]=Eh,gs[Kd]=ou,gs[Jd]=ef}function Xl(v){return v&-16384?0>v?0:255:v>>rc}function Kl(v,w){return Xl((19077*v>>8)+(26149*w>>8)-14234)}function ai(v,w,T){return Xl((19077*v>>8)-(6419*w>>8)-(13320*T>>8)+8708)}function il(v,w){return Xl((19077*v>>8)+(33050*w>>8)-17685)}function Aa(v,w,T,L,q){L[q+0]=Kl(v,T),L[q+1]=ai(v,w,T),L[q+2]=il(v,w)}function gh(v,w,T,L,q){L[q+0]=il(v,w),L[q+1]=ai(v,w,T),L[q+2]=Kl(v,T)}function $d(v,w,T,L,q){var G=ai(v,w,T);w=G<<3&224|il(v,w)>>3,L[q+0]=248&Kl(v,T)|G>>5,L[q+1]=w}function Yi(v,w,T,L,q){var G=240&il(v,w)|15;L[q+0]=240&Kl(v,T)|ai(v,w,T)>>4,L[q+1]=G}function cm(v,w,T,L,q){L[q+0]=255,Aa(v,w,T,L,q+1)}function yh(v,w,T,L,q){gh(v,w,T,L,q),L[q+3]=255}function um(v,w,T,L,q){Aa(v,w,T,L,q),L[q+3]=255}function Yr(v,w){return 0>v?0:v>w?w:v}function hs(v,w,T){D[v]=function(L,q,G,X,Q,te,oe,_e,Ne){for(var ae=_e+(-2&Ne)*T;_e!=ae;)w(L[q+0],G[X+0],Q[te+0],oe,_e),w(L[q+1],G[X+0],Q[te+0],oe,_e+T),q+=2,++X,++te,_e+=2*T;1&Ne&&w(L[q+0],G[X+0],Q[te+0],oe,_e)}}function sl(v,w,T){return T==0?v==0?w==0?6:5:w==0?4:0:T}function Hd(v,w,T,L,q){switch(v>>>30){case 3:xr(w,T,L,q,0);break;case 2:Xr(w,T,L,q);break;case 1:qo(w,T,L,q)}}function ol(v,w){var T,L,q=w.M,G=w.Nb,X=v.oc,Q=v.pc+40,te=v.oc,oe=v.pc+584,_e=v.oc,Ne=v.pc+600;for(T=0;16>T;++T)X[Q+32*T-1]=129;for(T=0;8>T;++T)te[oe+32*T-1]=129,_e[Ne+32*T-1]=129;for(0<q?X[Q-1-32]=te[oe-1-32]=_e[Ne-1-32]=129:(i(X,Q-32-1,127,21),i(te,oe-32-1,127,9),i(_e,Ne-32-1,127,9)),L=0;L<v.za;++L){var ae=w.ya[w.aa+L];if(0<L){for(T=-1;16>T;++T)n(X,Q+32*T-4,X,Q+32*T+12,4);for(T=-1;8>T;++T)n(te,oe+32*T-4,te,oe+32*T+4,4),n(_e,Ne+32*T-4,_e,Ne+32*T+4,4)}var Se=v.Gd,Te=v.Hd+L,Be=ae.ad,Re=ae.Hc;if(0<q&&(n(X,Q-32,Se[Te].y,0,16),n(te,oe-32,Se[Te].f,0,8),n(_e,Ne-32,Se[Te].ea,0,8)),ae.Za){var Oe=X,De=Q-32+16;for(0<q&&(L>=v.za-1?i(Oe,De,Se[Te].y[15],4):n(Oe,De,Se[Te+1].y,0,4)),T=0;4>T;T++)Oe[De+128+T]=Oe[De+256+T]=Oe[De+384+T]=Oe[De+0+T];for(T=0;16>T;++T,Re<<=2)Oe=X,De=Q+$0[T],fo[ae.Ob[T]](Oe,De),Hd(Re,Be,16*+T,Oe,De)}else if(Oe=sl(L,q,ae.Ob[0]),Zi[Oe](X,Q),Re!=0)for(T=0;16>T;++T,Re<<=2)Hd(Re,Be,16*+T,X,Q+$0[T]);for(T=ae.Gc,Oe=sl(L,q,ae.Dd),ms[Oe](te,oe),ms[Oe](_e,Ne),Re=Be,Oe=te,De=oe,255&(ae=0|T)&&(170&ae?Ea(Re,256,Oe,De):wh(Re,256,Oe,De)),ae=_e,Re=Ne,255&(T>>=8)&&(170&T?Ea(Be,320,ae,Re):wh(Be,320,ae,Re)),q<v.Ub-1&&(n(Se[Te].y,0,X,Q+480,16),n(Se[Te].f,0,te,oe+224,8),n(Se[Te].ea,0,_e,Ne+224,8)),T=8*G*v.B,Se=v.sa,Te=v.ta+16*L+16*G*v.R,Be=v.qa,ae=v.ra+8*L+T,Re=v.Ha,Oe=v.Ia+8*L+T,T=0;16>T;++T)n(Se,Te+T*v.R,X,Q+32*T,16);for(T=0;8>T;++T)n(Be,ae+T*v.B,te,oe+32*T,8),n(Re,Oe+T*v.B,_e,Ne+32*T,8)}}function Qc(v,w,T,L,q,G,X,Q,te){var oe=[0],_e=[0],Ne=0,ae=te!=null?te.kd:0,Se=te??new It;if(v==null||12>T)return 7;Se.data=v,Se.w=w,Se.ha=T,w=[w],T=[T],Se.gb=[Se.gb];e:{var Te=w,Be=T,Re=Se.gb;if(e(v!=null),e(Be!=null),e(Re!=null),Re[0]=0,12<=Be[0]&&!t(v,Te[0],"RIFF")){if(t(v,Te[0]+8,"WEBP")){Re=3;break e}var Oe=Le(v,Te[0]+4);if(12>Oe||4294967286<Oe){Re=3;break e}if(ae&&Oe>Be[0]-8){Re=7;break e}Re[0]=Oe,Te[0]+=12,Be[0]-=12}Re=0}if(Re!=0)return Re;for(Oe=0<Se.gb[0],T=T[0];;){e:{var De=v;Be=w,Re=T;var qe=oe,He=_e,_t=Te=[0];if((ht=Ne=[Ne])[0]=0,8>Re[0])Re=7;else{if(!t(De,Be[0],"VP8X")){if(Le(De,Be[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var st=Le(De,Be[0]+8),Vt=1+Fe(De,Be[0]+12);if(2147483648<=Vt*(De=1+Fe(De,Be[0]+15))){Re=3;break e}_t!=null&&(_t[0]=st),qe!=null&&(qe[0]=Vt),He!=null&&(He[0]=De),Be[0]+=18,Re[0]-=18,ht[0]=1}Re=0}}if(Ne=Ne[0],Te=Te[0],Re!=0)return Re;if(Be=!!(2&Te),!Oe&&Ne)return 3;if(G!=null&&(G[0]=!!(16&Te)),X!=null&&(X[0]=Be),Q!=null&&(Q[0]=0),X=oe[0],Te=_e[0],Ne&&Be&&te==null){Re=0;break}if(4>T){Re=7;break}if(Oe&&Ne||!Oe&&!Ne&&!t(v,w[0],"ALPH")){T=[T],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{st=v,Re=w,Oe=T;var ht=Se.gb;qe=Se.na,He=Se.P,_t=Se.Sa,Vt=22,e(st!=null),e(Oe!=null),De=Re[0];var ln=Oe[0];for(e(qe!=null),e(_t!=null),qe[0]=null,He[0]=null,_t[0]=0;;){if(Re[0]=De,Oe[0]=ln,8>ln){Re=7;break e}var dr=Le(st,De+4);if(4294967286<dr){Re=3;break e}var Gt=8+dr+1&-2;if(Vt+=Gt,0<ht&&Vt>ht){Re=3;break e}if(!t(st,De,"VP8 ")||!t(st,De,"VP8L")){Re=0;break e}if(ln[0]<Gt){Re=7;break e}t(st,De,"ALPH")||(qe[0]=st,He[0]=De+8,_t[0]=dr),De+=Gt,ln-=Gt}}if(T=T[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Re!=0)break}T=[T],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(ht=v,Re=w,Oe=T,qe=Se.gb[0],He=Se.Ja,_t=Se.xa,st=Re[0],De=!t(ht,st,"VP8 "),Vt=!t(ht,st,"VP8L"),e(ht!=null),e(Oe!=null),e(He!=null),e(_t!=null),8>Oe[0])Re=7;else{if(De||Vt){if(ht=Le(ht,st+4),12<=qe&&ht>qe-12){Re=3;break e}if(ae&&ht>Oe[0]-8){Re=7;break e}He[0]=ht,Re[0]+=8,Oe[0]-=8,_t[0]=Vt}else _t[0]=5<=Oe[0]&&ht[st+0]==47&&!(ht[st+4]>>5),He[0]=Oe[0];Re=0}if(T=T[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],w=w[0],Re!=0)break;if(4294967286<Se.Ja)return 3;if(Q==null||Be||(Q[0]=Se.xa?2:1),X=[X],Te=[Te],Se.xa){if(5>T){Re=7;break}Q=X,ae=Te,Be=G,v==null||5>T?v=0:5<=T&&v[w+0]==47&&!(v[w+4]>>5)?(Oe=[0],ht=[0],qe=[0],ye(He=new J,v,w,T),Mo(He,Oe,ht,qe)?(Q!=null&&(Q[0]=Oe[0]),ae!=null&&(ae[0]=ht[0]),Be!=null&&(Be[0]=qe[0]),v=1):v=0):v=0}else{if(10>T){Re=7;break}Q=Te,v==null||10>T||!tm(v,w+3,T-3)?v=0:(ae=v[w+0]|v[w+1]<<8|v[w+2]<<16,Be=16383&(v[w+7]<<8|v[w+6]),v=16383&(v[w+9]<<8|v[w+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=Se.Ja||!Be||!v?v=0:(X&&(X[0]=Be),Q&&(Q[0]=v),v=1))}if(!v||(X=X[0],Te=Te[0],Ne&&(oe[0]!=X||_e[0]!=Te)))return 3;te!=null&&(te[0]=Se,te.offset=w-te.w,e(4294967286>w-te.w),e(te.offset==te.ha-T));break}return Re==0||Re==7&&Ne&&te==null?(G!=null&&(G[0]|=Se.na!=null&&0<Se.na.length),L!=null&&(L[0]=X),q!=null&&(q[0]=Te),0):Re}function Xi(v,w,T){var L=w.width,q=w.height,G=0,X=0,Q=L,te=q;if(w.Da=v!=null&&0<v.Da,w.Da&&(Q=v.cd,te=v.bd,G=v.v,X=v.j,11>T||(G&=-2,X&=-2),0>G||0>X||0>=Q||0>=te||G+Q>L||X+te>q))return 0;if(w.v=G,w.j=X,w.va=G+Q,w.o=X+te,w.U=Q,w.T=te,w.da=v!=null&&0<v.da,w.da){if(!lt(Q,te,T=[v.ib],G=[v.hb]))return 0;w.ib=T[0],w.hb=G[0]}return w.ob=v!=null&&v.ob,w.Kb=v==null||!v.Sd,w.da&&(w.ob=w.ib<3*L/4&&w.hb<3*q/4,w.Kb=0),1}function Ki(v){if(v==null)return 2;if(11>v.S){var w=v.f.RGBA;w.fb+=(v.height-1)*w.A,w.A=-w.A}else w=v.f.kb,v=v.height,w.O+=(v-1)*w.fa,w.fa=-w.fa,w.N+=(v-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(v-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(v-1)*w.lb,w.lb=-w.lb);return 0}function Jl(v,w,T,L){if(L==null||0>=v||0>=w)return 2;if(T!=null){if(T.Da){var q=T.cd,G=T.bd,X=-2&T.v,Q=-2&T.j;if(0>X||0>Q||0>=q||0>=G||X+q>v||Q+G>w)return 2;v=q,w=G}if(T.da){if(!lt(v,w,q=[T.ib],G=[T.hb]))return 2;v=q[0],w=G[0]}}L.width=v,L.height=w;e:{var te=L.width,oe=L.height;if(v=L.S,0>=te||0>=oe||!(v>=mm&&13>v))v=2;else{if(0>=L.Rd&&L.sd==null){X=G=q=w=0;var _e=(Q=te*tf[v])*oe;if(11>v||(G=(oe+1)/2*(w=(te+1)/2),v==12&&(X=(q=te)*oe)),(oe=s(_e+2*G+X))==null){v=1;break e}L.sd=oe,11>v?((te=L.f.RGBA).eb=oe,te.fb=0,te.A=Q,te.size=_e):((te=L.f.kb).y=oe,te.O=0,te.fa=Q,te.Fd=_e,te.f=oe,te.N=0+_e,te.Ab=w,te.Cd=G,te.ea=oe,te.W=0+_e+G,te.Db=w,te.Ed=G,v==12&&(te.F=oe,te.J=0+_e+2*G),te.Tc=X,te.lb=q)}if(w=1,q=L.S,G=L.width,X=L.height,q>=mm&&13>q)if(11>q)v=L.f.RGBA,w&=(Q=Math.abs(v.A))*(X-1)+G<=v.size,w&=Q>=G*tf[q],w&=v.eb!=null;else{v=L.f.kb,Q=(G+1)/2,_e=(X+1)/2,te=Math.abs(v.fa),oe=Math.abs(v.Ab);var Ne=Math.abs(v.Db),ae=Math.abs(v.lb),Se=ae*(X-1)+G;w&=te*(X-1)+G<=v.Fd,w&=oe*(_e-1)+Q<=v.Cd,w=(w&=Ne*(_e-1)+Q<=v.Ed)&te>=G&oe>=Q&Ne>=Q,w&=v.y!=null,w&=v.f!=null,w&=v.ea!=null,q==12&&(w&=ae>=G,w&=Se<=v.Tc,w&=v.F!=null)}else w=0;v=w?0:2}}return v!=0||T!=null&&T.fd&&(v=Ki(L)),v}var Ji=64,Ql=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vd=24,Zl=32,hr=8,hm=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(v){return v},D.Predictor2=function(v,w,T){return w[T+0]},D.Predictor3=function(v,w,T){return w[T+1]},D.Predictor4=function(v,w,T){return w[T-1]},D.Predictor5=function(v,w,T){return wt(wt(v,w[T+1]),w[T+0])},D.Predictor6=function(v,w,T){return wt(v,w[T-1])},D.Predictor7=function(v,w,T){return wt(v,w[T+0])},D.Predictor8=function(v,w,T){return wt(w[T-1],w[T+0])},D.Predictor9=function(v,w,T){return wt(w[T+0],w[T+1])},D.Predictor10=function(v,w,T){return wt(wt(v,w[T-1]),wt(w[T+0],w[T+1]))},D.Predictor11=function(v,w,T){var L=w[T+0];return 0>=Pt(L>>24&255,v>>24&255,(w=w[T-1])>>24&255)+Pt(L>>16&255,v>>16&255,w>>16&255)+Pt(L>>8&255,v>>8&255,w>>8&255)+Pt(255&L,255&v,255&w)?L:v},D.Predictor12=function(v,w,T){var L=w[T+0];return(an((v>>24&255)+(L>>24&255)-((w=w[T-1])>>24&255))<<24|an((v>>16&255)+(L>>16&255)-(w>>16&255))<<16|an((v>>8&255)+(L>>8&255)-(w>>8&255))<<8|an((255&v)+(255&L)-(255&w)))>>>0},D.Predictor13=function(v,w,T){var L=w[T-1];return(Nt((v=wt(v,w[T+0]))>>24&255,L>>24&255)<<24|Nt(v>>16&255,L>>16&255)<<16|Nt(v>>8&255,L>>8&255)<<8|Nt(255&v,255&L))>>>0};var ds=D.PredictorAdd0;D.PredictorAdd1=tn,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var fs=D.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var vh,ec=D.ColorIndexInverseTransform,bh=D.MapARGB,Zc=D.VP8LColorIndexInverseTransformAlpha,al=D.MapAlpha,ll=D.VP8LPredictorsAdd=[];ll.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ka,_h,ps,Ca,$n,Hn,wr,xr,Xr,Ea,qo,wh,N0,P0,dm,I2,M2,eu,fm,xh,pm,L0,Wd,tu,nu,R0,Gd,I0,M0=s(511),O0=s(2041),F0=s(225),D0=s(767),j0=0,Ta=O0,Sh=F0,Qi=D0,ho=M0,mm=0,tc=1,O2=2,Yd=3,Xd=4,In=5,gm=6,Ah=7,ru=8,Kd=9,Jd=10,Qd=[2,3,7],ym=[3,3,11],iu=[280,256,256,256,40],F2=[0,1,1,1,0],iw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],D2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vm=8,kh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],su=null,B0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],U0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],j2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],B2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ow=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zi=[],fo=[],ms=[],Na=1,Ch=2,Ii=[],gs=[];zo("UpsampleRgbLinePair",Aa,3),zo("UpsampleBgrLinePair",gh,3),zo("UpsampleRgbaLinePair",um,4),zo("UpsampleBgraLinePair",yh,4),zo("UpsampleArgbLinePair",cm,4),zo("UpsampleRgba4444LinePair",Yi,2),zo("UpsampleRgb565LinePair",$d,2);var lw=D.UpsampleRgbLinePair,cw=D.UpsampleBgrLinePair,nc=D.UpsampleRgbaLinePair,Eh=D.UpsampleBgraLinePair,ou=D.UpsampleArgbLinePair,ef=D.UpsampleRgba4444LinePair,q0=D.UpsampleRgb565LinePair,cl=16,$o=1<<cl-1,En=-227,Pn=482,rc=6,wi=0,ys=s(256),au=s(256),Th=s(256),vs=s(256),bm=s(Pn-En),U2=s(Pn-En);hs("YuvToRgbRow",Aa,3),hs("YuvToBgrRow",gh,3),hs("YuvToRgbaRow",um,4),hs("YuvToBgraRow",yh,4),hs("YuvToArgbRow",cm,4),hs("YuvToRgba4444Row",Yi,2),hs("YuvToRgb565Row",$d,2);var $0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lu=[0,2,8],z2=[8,7,6,4,4,2,2,2,1,1,1,1],ul=1;this.WebPDecodeRGBA=function(v,w,T,L,q){var G=tc,X=new ut,Q=new yn;X.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,oe=Q.height,_e=new Bt;if(_e==null||v==null)var Ne=2;else e(_e!=null),Ne=Qc(v,w,T,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ne!=0?te=0:(te!=null&&(te[0]=_e.width[0]),oe!=null&&(oe[0]=_e.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],L!=null&&(L[0]=Q.width),q!=null&&(q[0]=Q.height);e:{if(L=new Li,(q=new It).data=v,q.w=w,q.ha=T,q.kd=1,w=[0],e(q!=null),((v=Qc(q.data,q.w,q.ha,null,null,null,w,null,q))==0||v==7)&&w[0]&&(v=4),(w=v)==0){if(e(X!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=Lt,L.ac=so,L.bc=js,L.ma=X,q.xa){if((v=Bc())==null){X=1;break e}if(function(ae,Se){var Te=[0],Be=[0],Re=[0];t:for(;;){if(ae==null)return 0;if(Se==null)return ae.a=2,0;if(ae.l=Se,ae.a=0,ye(ae.m,Se.data,Se.w,Se.ha),!Mo(ae.m,Te,Be,Re)){ae.a=3;break t}if(ae.xb=Ch,Se.width=Te[0],Se.height=Be[0],!Fo(Te[0],Be[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(v,L)){if(L=(w=Jl(L.width,L.height,X.Oa,X.ba))==0){t:{L=v;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((T=L.l)!=null),e((q=T.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Xi(q.Oa,T,Yd)){L.a=2;break n}if(!Vl(L,T.width)||T.da)break n;if((T.da||Ut(L.ca.S))&&Jc(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Jc()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!ce(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!ao(L,L.V,L.Ba,L.c,L.i,T.o,Hl))break n;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(w=v.a)}else w=v.a}else{if((v=new E0)==null){X=1;break e}if(v.Fa=q.na,v.P=q.P,v.qc=q.Sa,$c(v,L)){if((w=Jl(L.width,L.height,X.Oa,X.ba))==0){if(v.Aa=0,T=X.Oa,e((q=v)!=null),T!=null){if(0<(te=0>(te=T.Md)?0:100<te?255:255*te/100)){for(oe=_e=0;4>oe;++oe)12>(Ne=q.pb[oe]).lc&&(Ne.ia=te*z2[0>Ne.lc?0:Ne.lc]>>3),_e|=Ne.ia;_e&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ae,Se){if(ae==null)return 0;if(Se==null)return Or(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!$c(ae,Se))return 0;if(e(ae.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(ae.L=0);var Te=lu[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=Se.v-Te>>4,ae.zb=Se.j-Te>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=Se.o+15+Te>>4,ae.Hb=Se.va+15+Te>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Be=ae.ed;for(Te=0;4>Te;++Te){var Re;if(ae.Qa.Cb){var Oe=ae.Qa.Lb[Te];ae.Qa.Fb||(Oe+=Be.Tb)}else Oe=Be.Tb;for(Re=0;1>=Re;++Re){var De=ae.gd[Te][Re],qe=Oe;if(Be.Pc&&(qe+=Be.vd[0],Re&&(qe+=Be.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var He=qe;0<Be.wb&&(He=4<Be.wb?He>>2:He>>1)>9-Be.wb&&(He=9-Be.wb),1>He&&(He=1),De.dd=He,De.tc=2*qe+He,De.ld=40<=qe?2:15<=qe?1:0}else De.tc=0;De.La=Re}}}Te=0}else Or(ae,6,"Frame setup failed"),Te=ae.a;if(Te=Te==0){if(Te){ae.$c=0,0<ae.Aa||(ae.Ic=ul);t:{Te=ae.Ic,Be=4*(He=ae.za);var _t=32*He,st=He+1,Vt=0<ae.L?He*(0<ae.Aa?2:1):0,ht=(ae.Aa==2?2:1)*He;if((De=Be+832+(Re=3*(16*Te+lu[ae.L])/2*_t)+(Oe=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=De)Te=0;else{if(De>ae.Vb){if(ae.Vb=0,ae.Ec=s(De),ae.Fc=0,ae.Ec==null){Te=Or(ae,1,"no memory during frame initialization.");break t}ae.Vb=De}De=ae.Ec,qe=ae.Fc,ae.Ac=De,ae.Bc=qe,qe+=Be,ae.Gd=o(_t,zs),ae.Hd=0,ae.rb=o(st+1,Wl),ae.sb=1,ae.wa=Vt?o(Vt,Us):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=He),e(!0),ae.oc=De,ae.pc=qe,qe+=832,ae.ya=o(ht,ch),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=He),ae.R=16*He,ae.B=8*He,He=(_t=lu[ae.L])*ae.R,_t=_t/2*ae.B,ae.sa=De,ae.ta=qe+He,ae.qa=ae.sa,ae.ra=ae.ta+16*Te*ae.R+_t,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Te*ae.B+_t,ae.$c=0,qe+=Re,ae.mb=Oe?De:null,ae.nb=Oe?qe:null,e(qe+Oe<=ae.Fc+ae.Vb),Do(ae),i(ae.Ac,ae.Bc,0,Be),Te=1}}if(Te){if(Se.ka=0,Se.y=ae.sa,Se.O=ae.ta,Se.f=ae.qa,Se.N=ae.ra,Se.ea=ae.Ha,Se.Vd=ae.Ia,Se.fa=ae.R,Se.Rc=ae.B,Se.F=null,Se.J=0,!j0){for(Te=-255;255>=Te;++Te)M0[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)O0[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)F0[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)D0[255+Te]=0>Te?0:255<Te?255:Te;j0=1}wr=vn,xr=Dd,Ea=Wc,qo=ba,wh=uh,Xr=nm,N0=C,P0=z,dm=Ee,I2=ze,M2=le,eu=ve,fm=Ve,xh=at,pm=uo,L0=nl,Wd=Gl,tu=mh,fo[0]=T0,fo[1]=hh,fo[2]=Gc,fo[3]=wa,fo[4]=sm,fo[5]=el,fo[6]=qs,fo[7]=om,fo[8]=Yc,fo[9]=fh,Zi[0]=jo,Zi[1]=rm,Zi[2]=im,Zi[3]=dh,Zi[4]=_a,Zi[5]=us,Zi[6]=co,ms[0]=Uo,ms[1]=jd,ms[2]=Bd,ms[3]=Bo,ms[4]=Ud,ms[5]=ph,ms[6]=zd,Te=1}else Te=0}Te&&(Te=function(ln,dr){for(ln.M=0;ln.M<ln.Va;++ln.M){var Gt,ot=ln.Jc[ln.M&ln.Xb],Qe=ln.m,Sr=ln;for(Gt=0;Gt<Sr.za;++Gt){var jt=Qe,rn=Sr,Vn=rn.Ac,li=rn.Bc+4*Gt,jr=rn.zc,ar=rn.ya[rn.aa+Gt];if(rn.Qa.Bb?ar.$b=xe(jt,rn.Pa.jb[0])?2+xe(jt,rn.Pa.jb[2]):xe(jt,rn.Pa.jb[1]):ar.$b=0,rn.kc&&(ar.Ad=xe(jt,rn.Bd)),ar.Za=!xe(jt,145)+0,ar.Za){var Kr=ar.Ob,ci=0;for(rn=0;4>rn;++rn){var tr,hn=jr[0+rn];for(tr=0;4>tr;++tr){hn=ow[Vn[li+tr]][hn];for(var wn=j2[xe(jt,hn[0])];0<wn;)wn=j2[2*wn+xe(jt,hn[wn])];hn=-wn,Vn[li+tr]=hn}n(Kr,ci,Vn,li,4),ci+=4,jr[0+rn]=hn}}else hn=xe(jt,156)?xe(jt,128)?1:3:xe(jt,163)?2:0,ar.Ob[0]=hn,i(Vn,li,hn,4),i(jr,0,hn,4);ar.Dd=xe(jt,142)?xe(jt,114)?xe(jt,183)?1:3:2:0}if(Sr.m.Ka)return Or(ln,7,"Premature end-of-partition0 encountered.");for(;ln.ja<ln.za;++ln.ja){if(Sr=ot,jt=(Qe=ln).rb[Qe.sb-1],Vn=Qe.rb[Qe.sb+Qe.ja],Gt=Qe.ya[Qe.aa+Qe.ja],li=Qe.kc?Gt.Ad:0)jt.la=Vn.la=0,Gt.Za||(jt.Na=Vn.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var nr,xn;if(jt=Vn,Vn=Sr,li=Qe.Pa.Xc,jr=Qe.ya[Qe.aa+Qe.ja],ar=Qe.pb[jr.$b],rn=jr.ad,Kr=0,ci=Qe.rb[Qe.sb-1],hn=tr=0,i(rn,Kr,0,384),jr.Za)var fr=0,pr=li[3];else{wn=s(16);var Mn=jt.Na+ci.Na;if(Mn=su(Vn,li[1],Mn,ar.Eb,0,wn,0),jt.Na=ci.Na=(0<Mn)+0,1<Mn)wr(wn,0,rn,Kr);else{var Mi=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)rn[Kr+wn]=Mi}fr=1,pr=li[0]}var Ln=15&jt.la,On=15&ci.la;for(wn=0;4>wn;++wn){var Br=1&On;for(Mi=xn=0;4>Mi;++Mi)Ln=Ln>>1|(Br=(Mn=su(Vn,pr,Mn=Br+(1&Ln),ar.Sc,fr,rn,Kr))>fr)<<7,xn=xn<<2|(3<Mn?3:1<Mn?2:rn[Kr+0]!=0),Kr+=16;Ln>>=4,On=On>>1|Br<<7,tr=(tr<<8|xn)>>>0}for(pr=Ln,fr=On>>4,nr=0;4>nr;nr+=2){for(xn=0,Ln=jt.la>>4+nr,On=ci.la>>4+nr,wn=0;2>wn;++wn){for(Br=1&On,Mi=0;2>Mi;++Mi)Mn=Br+(1&Ln),Ln=Ln>>1|(Br=0<(Mn=su(Vn,li[2],Mn,ar.Qc,0,rn,Kr)))<<3,xn=xn<<2|(3<Mn?3:1<Mn?2:rn[Kr+0]!=0),Kr+=16;Ln>>=2,On=On>>1|Br<<5}hn|=xn<<4*nr,pr|=Ln<<4<<nr,fr|=(240&On)<<nr}jt.la=pr,ci.la=fr,jr.Hc=tr,jr.Gc=hn,jr.ia=43690&hn?0:ar.ia,li=!(tr|hn)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[Gt.$b][Gt.Za],Qe.wa[Qe.Y+Qe.ja].La|=!li),Sr.Ka)return Or(ln,7,"Premature end-of-file encountered.")}if(Do(ln),Qe=dr,Sr=1,Gt=(ot=ln).D,jt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Gt.M=ot.M,Gt.uc=jt,ol(ot,Gt),Sr=1,Gt=(xn=ot.D).Nb,jt=(hn=lu[ot.L])*ot.R,Vn=hn/2*ot.B,wn=16*Gt*ot.R,Mi=8*Gt*ot.B,li=ot.sa,jr=ot.ta-jt+wn,ar=ot.qa,rn=ot.ra-Vn+Mi,Kr=ot.Ha,ci=ot.Ia-Vn+Mi,On=(Ln=xn.M)==0,tr=Ln>=ot.Va-1,ot.Aa==2&&ol(ot,xn),xn.uc)for(Br=(Mn=ot).D.M,e(Mn.D.uc),xn=Mn.yb;xn<Mn.Hb;++xn){fr=xn,pr=Br;var xi=(bs=(Cr=Mn).D).Nb;nr=Cr.R;var bs=bs.wa[bs.Y+fr],Ar=Cr.sa,kr=Cr.ta+16*xi*nr+16*fr,Oi=bs.dd,Fn=bs.tc;if(Fn!=0)if(e(3<=Fn),Cr.L==1)0<fr&&L0(Ar,kr,nr,Fn+4),bs.La&&tu(Ar,kr,nr,Fn),0<pr&&pm(Ar,kr,nr,Fn+4),bs.La&&Wd(Ar,kr,nr,Fn);else{var Fi=Cr.B,po=Cr.qa,Ho=Cr.ra+8*xi*Fi+8*fr,ui=Cr.Ha,Cr=Cr.Ia+8*xi*Fi+8*fr;xi=bs.ld,0<fr&&(P0(Ar,kr,nr,Fn+4,Oi,xi),I2(po,Ho,ui,Cr,Fi,Fn+4,Oi,xi)),bs.La&&(eu(Ar,kr,nr,Fn,Oi,xi),xh(po,Ho,ui,Cr,Fi,Fn,Oi,xi)),0<pr&&(N0(Ar,kr,nr,Fn+4,Oi,xi),dm(po,Ho,ui,Cr,Fi,Fn+4,Oi,xi)),bs.La&&(M2(Ar,kr,nr,Fn,Oi,xi),fm(po,Ho,ui,Cr,Fi,Fn,Oi,xi))}}if(ot.ia&&alert("todo:DitherRow"),Qe.put!=null){if(xn=16*Ln,Ln=16*(Ln+1),On?(Qe.y=ot.sa,Qe.O=ot.ta+wn,Qe.f=ot.qa,Qe.N=ot.ra+Mi,Qe.ea=ot.Ha,Qe.W=ot.Ia+Mi):(xn-=hn,Qe.y=li,Qe.O=jr,Qe.f=ar,Qe.N=rn,Qe.ea=Kr,Qe.W=ci),tr||(Ln-=hn),Ln>Qe.o&&(Ln=Qe.o),Qe.F=null,Qe.J=null,ot.Fa!=null&&0<ot.Fa.length&&xn<Ln&&(Qe.J=_i(ot,Qe,xn,Ln-xn),Qe.F=ot.mb,Qe.F==null&&Qe.F.length==0)){Sr=Or(ot,3,"Could not decode alpha data.");break t}xn<Qe.j&&(hn=Qe.j-xn,xn=Qe.j,e(!(1&hn)),Qe.O+=ot.R*hn,Qe.N+=ot.B*(hn>>1),Qe.W+=ot.B*(hn>>1),Qe.F!=null&&(Qe.J+=Qe.width*hn)),xn<Ln&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=xn-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=Ln-xn,Sr=Qe.put(Qe))}Gt+1!=ot.Ic||tr||(n(ot.sa,ot.ta-jt,li,jr+16*ot.R,jt),n(ot.qa,ot.ra-Vn,ar,rn+8*ot.B,Vn),n(ot.Ha,ot.Ia-Vn,Kr,ci+8*ot.B,Vn))}if(!Sr)return Or(ln,6,"Output aborted.")}return 1}(ae,Se)),Se.bc!=null&&Se.bc(Se),Te&=1}return Te?(ae.cb=0,Te):0})(v,L)||(w=v.a)}}else w=v.a}w==0&&X.Oa!=null&&X.Oa.fd&&(w=Ki(X.ba))}X=w}G=X!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var tf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(D,se){for(var F="",H=0;H<4;H++)F+=String.fromCharCode(D[se++]);return F}function d(D,se){return D[se+0]|D[se+1]<<8}function p(D,se){return(D[se+0]|D[se+1]<<8|D[se+2]<<16)>>>0}function y(D,se){return(D[se+0]|D[se+1]<<8|D[se+2]<<16|D[se+3]<<24)>>>0}new c;var m=[0],x=[0],_=[],A=new c,S=r,N=function(D,se){var F={},H=0,ne=!1,ee=0,me=0;if(F.frames=[],!function(M,J){for(var re=0;re<4;re++)if(M[J+re]!="RIFF".charCodeAt(re))return!0;return!1}(D,se)){for(y(D,se+=4),se+=8;se<D.length;){var ge=h(D,se),de=y(D,se+=4);se+=4;var ie=de+(1&de);switch(ge){case"VP8 ":case"VP8L":F.frames[H]===void 0&&(F.frames[H]={}),(Z=F.frames[H]).src_off=ne?me:se-8,Z.src_size=ee+de+8,H++,ne&&(ne=!1,ee=0,me=0);break;case"VP8X":(Z=F.header={}).feature_flags=D[se];var ye=se+4;Z.canvas_width=1+p(D,ye),ye+=3,Z.canvas_height=1+p(D,ye),ye+=3;break;case"ALPH":ne=!0,ee=ie+8,me=se-8;break;case"ANIM":(Z=F.header).bgcolor=y(D,se),ye=se+4,Z.loop_count=d(D,ye),ye+=2;break;case"ANMF":var be,Z;(Z=F.frames[H]={}).offset_x=2*p(D,se),se+=3,Z.offset_y=2*p(D,se),se+=3,Z.width=1+p(D,se),se+=3,Z.height=1+p(D,se),se+=3,Z.duration=p(D,se),se+=3,be=D[se++],Z.dispose=1&be,Z.blend=be>>1&1}ge!="ANMF"&&(se+=ie)}return F}}(S,0);N.response=S,N.rgbaoutput=!0,N.dataurl=!1;var I=N.header?N.header:null,R=N.frames?N.frames:null;if(I){I.loop_counter=I.loop_count,m=[I.canvas_height],x=[I.canvas_width];for(var O=0;O<R.length&&R[O].blend!=0;O++);}var U=R[0],B=A.WebPDecodeRGBA(S,U.src_off,U.src_size,x,m);U.rgba=B,U.imgwidth=x[0],U.imgheight=m[0];for(var j=0;j<x[0]*m[0]*4;j++)_[j]=B[j];return this.width=x,this.height=m,this.data=_,this}(function(r){var e,t,n,i,s,o,a,c,h,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=M;Object.defineProperty(this,"pdf",{get:function(){return J}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Le){re=!!Le}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Le){ue=!!Le}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(Le){isNaN(Le)||(pe=Le)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Le){isNaN(Le)||(fe=Le)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Le){var ce;typeof Le=="number"?ce=[Le,Le,Le,Le]:((ce=new Array(4))[0]=Le[0],ce[1]=Le.length>=2?Le[1]:ce[0],ce[2]=Le.length>=3?Le[2]:ce[0],ce[3]=Le.length>=4?Le[3]:ce[1]),h.margin=ce}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Le){Ce=Le}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Le){ke=Le}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Le){xe=Le}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Le){Le instanceof d&&(h=Le)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Le){h.path=Le}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(Le){Ue=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var ce;ce=y(Le),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var ce=y(Le);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var $e=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Le){$e=null,Fe=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var ce;if(this.ctx.font=Le,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var yt=ce[1];ce[2];var St=ce[3],lt=ce[4];ce[5];var We=ce[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(rt==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var Je=function(Ct){var vt,zn,gn=[],bt=Ct.trim();if(bt==="")return Fx;if(bt in $T)return[$T[bt]];for(;bt!=="";){switch(zn=null,vt=(bt=VT(bt)).charAt(0)){case'"':case"'":zn=Uq(bt.substring(1),vt);break;default:zn=zq(bt)}if(zn===null||(gn.push(zn[0]),(bt=VT(zn[1]))!==""&&bt.charAt(0)!==","))return Fx;bt=bt.replace(/^,/,"")}return gn}(We);if(this.fontFaces){var Dt=function(Ct,vt){if($e===null){var zn=function(gn){var bt=[];return Object.keys(gn).forEach(function($t){gn[$t].forEach(function(Cn){var Et=null;switch(Cn){case"bold":Et={family:$t,weight:"bold"};break;case"italic":Et={family:$t,style:"italic"};break;case"bolditalic":Et={family:$t,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:$t}}Et!==null&&(Et.ref={name:$t,style:Cn},bt.push(Et))})}),bt}(Ct.getFontList());$e=function(gn){for(var bt={},$t=0;$t<gn.length;++$t){var Cn=Ox(gn[$t]),Et=Cn.family,nn=Cn.stretch,Ut=Cn.style,sr=Cn.weight;bt[Et]=bt[Et]||{},bt[Et][nn]=bt[Et][nn]||{},bt[Et][nn][Ut]=bt[Et][nn][Ut]||{},bt[Et][nn][Ut][sr]=Cn}return bt}(zn.concat(vt))}return $e}(this.pdf,this.fontFaces),wt=Je.map(function(Ct){return{family:Ct,stretch:"normal",weight:St,style:yt}}),an=function(Ct,vt,zn){for(var gn=(zn=zn||{}).defaultFontFamily||"times",bt=Object.assign({},Bq,zn.genericFontFamilies||{}),$t=null,Cn=null,Et=0;Et<vt.length;++Et)if(bt[($t=Ox(vt[Et])).family]&&($t.family=bt[$t.family]),Ct.hasOwnProperty($t.family)){Cn=Ct[$t.family];break}if(!(Cn=Cn||Ct[gn]))throw new Error("Could not find a font-family for the rule '"+HT($t)+"' and default family '"+gn+"'.");if(Cn=function(nn,Ut){if(Ut[nn])return Ut[nn];var sr=H5[nn],er=sr<=H5.normal?-1:1,yn=qT(Ut,T6,sr,er);if(!yn)throw new Error("Could not find a matching font-stretch value for "+nn);return yn}($t.stretch,Cn),Cn=function(nn,Ut){if(Ut[nn])return Ut[nn];for(var sr=E6[nn],er=0;er<sr.length;++er)if(Ut[sr[er]])return Ut[sr[er]];throw new Error("Could not find a matching font-style for "+nn)}($t.style,Cn),!(Cn=function(nn,Ut){if(Ut[nn])return Ut[nn];if(nn===400&&Ut[500])return Ut[500];if(nn===500&&Ut[400])return Ut[400];var sr=jq[nn],er=qT(Ut,N6,sr,nn<400?-1:1);if(!er)throw new Error("Could not find a matching font-weight for value "+nn);return er}($t.weight,Cn)))throw new Error("Failed to resolve a font for the rule '"+HT($t)+"'.");return Cn}(Dt,wt);this.pdf.setFont(an.ref.name,an.ref.style)}else{var Nt="";(St==="bold"||parseInt(St,10)>=700||yt==="bold")&&(Nt="bold"),yt==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var Pt="",tn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<Je.length;Rt++){if(this.pdf.internal.getFont(Je[Rt],Nt,{noFallback:!0,disableWarning:!0})!==void 0){Pt=Je[Rt];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(Je[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=Je[Rt],Nt="bold";else if(this.pdf.internal.getFont(Je[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=Je[Rt],Nt="normal";break}}if(Pt===""){for(var pt=0;pt<Je.length;pt++)if(tn[Je[pt]]){Pt=tn[Je[pt]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,J){if(isNaN(M)||isNaN(J))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(M,J));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(M,J)},p.prototype.closePath=function(){var M=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Un(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){M=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},p.prototype.lineTo=function(M,J){if(isNaN(M)||isNaN(J))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(M,J));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,J,re,ue){if(isNaN(re)||isNaN(ue)||isNaN(M)||isNaN(J))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(re,ue)),fe=this.ctx.transform.applyToPoint(new o(M,J));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},p.prototype.bezierCurveTo=function(M,J,re,ue,pe,fe){if(isNaN(pe)||isNaN(fe)||isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new o(pe,fe)),ke=this.ctx.transform.applyToPoint(new o(M,J)),xe=this.ctx.transform.applyToPoint(new o(re,ue));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:xe.x,y2:xe.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new o(Ce.x,Ce.y)},p.prototype.arc=function(M,J,re,ue,pe,fe){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue)||isNaN(pe))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new o(M,J));M=Ce.x,J=Ce.y;var ke=this.ctx.transform.applyToPoint(new o(0,re)),xe=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(ke.x-xe.x,2)+Math.pow(ke.y-xe.y,2))}Math.abs(pe-ue)>=2*Math.PI&&(ue=0,pe=2*Math.PI),this.path.push({type:"arc",x:M,y:J,radius:re,startAngle:ue,endAngle:pe,counterclockwise:fe})},p.prototype.arcTo=function(M,J,re,ue,pe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,J,re,ue){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,J),this.lineTo(M+re,J),this.lineTo(M+re,J+ue),this.lineTo(M,J+ue),this.lineTo(M,J),this.lineTo(M+re,J),this.lineTo(M,J)},p.prototype.fillRect=function(M,J,re,ue){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,J,re,ue),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},p.prototype.strokeRect=function(M,J,re,ue){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(M,J,re,ue),this.stroke())},p.prototype.clearRect=function(M,J,re,ue){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,J,re,ue))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(J),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(M){var J,re,ue,pe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))J=0,re=0,ue=0,pe=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)J=parseInt(fe[1]),re=parseInt(fe[2]),ue=parseInt(fe[3]),pe=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)J=parseInt(fe[1]),re=parseInt(fe[2]),ue=parseInt(fe[3]),pe=parseFloat(fe[4]);else{if(pe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ce=new _6(M);M=Ce.ok?Ce.toHex():"#000000"}M.length===4?(J=M.substring(1,2),J+=J,re=M.substring(2,3),re+=re,ue=M.substring(3,4),ue+=ue):(J=M.substring(1,3),re=M.substring(3,5),ue=M.substring(5,7)),J=parseInt(J,16),re=parseInt(re,16),ue=parseInt(ue,16)}}return{r:J,g:re,b:ue,a:pe,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,J,re,ue){if(isNaN(J)||isNaN(re)||typeof M!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!m.call(this)){var pe=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;H.call(this,{text:M,x:J,y:re,scale:fe,angle:pe,align:this.textAlign,maxWidth:ue})}},p.prototype.strokeText=function(M,J,re,ue){if(isNaN(J)||isNaN(re)||typeof M!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ue=isNaN(ue)?void 0:ue;var pe=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;H.call(this,{text:M,x:J,y:re,scale:fe,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:ue})}},p.prototype.measureText=function(M){if(typeof M!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,re=this.pdf.internal.scaleFactor,ue=J.internal.getFontSize(),pe=J.getStringUnitWidth(M)*ue/J.internal.scaleFactor;return new function(fe){var Ce=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:pe*=Math.round(96*re/72*1e4)/1e4})},p.prototype.scale=function(M,J){if(isNaN(M)||isNaN(J))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(M,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.rotate=function(M){if(isNaN(M))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(M,J){if(isNaN(M)||isNaN(J))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,M,J);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.transform=function(M,J,re,ue,pe,fe){if(isNaN(M)||isNaN(J)||isNaN(re)||isNaN(ue)||isNaN(pe)||isNaN(fe))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new c(M,J,re,ue,pe,fe);this.ctx.transform=this.ctx.transform.multiply(Ce)},p.prototype.setTransform=function(M,J,re,ue,pe,fe){M=isNaN(M)?1:M,J=isNaN(J)?0:J,re=isNaN(re)?0:re,ue=isNaN(ue)?1:ue,pe=isNaN(pe)?0:pe,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(M,J,re,ue,pe,fe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,J,re,ue,pe,fe,Ce,ke,xe){var Ue=this.pdf.getImageProperties(M),$e=1,Fe=1,Le=1,ce=1;ue!==void 0&&ke!==void 0&&(Le=ke/ue,ce=xe/pe,$e=Ue.width/ue*ke/ue,Fe=Ue.height/pe*xe/pe),fe===void 0&&(fe=J,Ce=re,J=0,re=0),ue!==void 0&&ke===void 0&&(ke=ue,xe=pe),ue===void 0&&ke===void 0&&(ke=Ue.width,xe=Ue.height);for(var yt,St=this.ctx.transform.decompose(),lt=ie(St.rotate.shx),We=new c,rt=(We=(We=(We=We.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(fe-J*Le,Ce-re*ce,ue*$e,pe*Fe)),Je=A.call(this,rt),Dt=[],wt=0;wt<Je.length;wt+=1)Dt.indexOf(Je[wt])===-1&&Dt.push(Je[wt]);if(I(Dt),this.autoPaging)for(var an=Dt[0],Nt=Dt[Dt.length-1],Pt=an;Pt<Nt+1;Pt++){this.pdf.setPage(Pt);var tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=Pt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Pt===1?0:pt+(Pt-2)*Ct;if(this.ctx.clip_path.length!==0){var zn=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(yt,this.posX+this.margin[3],-vt+Rt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=zn}var gn=JSON.parse(JSON.stringify(rt));gn=N([gn],this.posX+this.margin[3],-vt+Rt+this.ctx.prevPageLastElemOffset)[0];var bt=(Pt>an||Pt<Nt)&&_.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tn,Ct,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",gn.x,gn.y,gn.w,gn.h,null,null,lt),bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,lt)};var A=function(M,J,re){var ue=[];J=J||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ue.push(Math.floor((M.y+pe)/re)+1);break;case"arc":ue.push(Math.floor((M.y+pe-M.radius)/re)+1),ue.push(Math.floor((M.y+pe+M.radius)/re)+1);break;case"qct":var fe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ue.push(Math.floor((fe.y+pe)/re)+1),ue.push(Math.floor((fe.y+fe.h+pe)/re)+1);break;case"bct":var Ce=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ue.push(Math.floor((Ce.y+pe)/re)+1),ue.push(Math.floor((Ce.y+Ce.h+pe)/re)+1);break;case"rect":ue.push(Math.floor((M.y+pe)/re)+1),ue.push(Math.floor((M.y+M.h+pe)/re)+1)}for(var ke=0;ke<ue.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ke];)S.call(this);return ue},S=function(){var M=this.fillStyle,J=this.strokeStyle,re=this.font,ue=this.lineCap,pe=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=J,this.font=re,this.lineCap=ue,this.lineWidth=pe,this.lineJoin=fe},N=function(M,J,re){for(var ue=0;ue<M.length;ue++)switch(M[ue].type){case"bct":M[ue].x2+=J,M[ue].y2+=re;case"qct":M[ue].x1+=J,M[ue].y1+=re;default:M[ue].x+=J,M[ue].y+=re}return M},I=function(M){return M.sort(function(J,re){return J-re})},R=function(M,J){for(var re,ue,pe=this.fillStyle,fe=this.strokeStyle,Ce=this.lineCap,ke=this.lineWidth,xe=Math.abs(ke*this.ctx.transform.scaleX),Ue=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Le=[],ce=0;ce<Fe.length;ce++)if(Fe[ce].x!==void 0)for(var yt=A.call(this,Fe[ce]),St=0;St<yt.length;St+=1)Le.indexOf(yt[St])===-1&&Le.push(yt[St]);for(var lt=0;lt<Le.length;lt++)for(;this.pdf.internal.getNumberOfPages()<Le[lt];)S.call(this);if(I(Le),this.autoPaging)for(var We=Le[0],rt=Le[Le.length-1],Je=We;Je<rt+1;Je++){this.pdf.setPage(Je),this.fillStyle=pe,this.strokeStyle=fe,this.lineCap=Ce,this.lineWidth=xe,this.lineJoin=Ue;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=Je===1?this.posY+this.margin[0]:this.margin[0],an=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=Je===1?0:an+(Je-2)*Nt;if(this.ctx.clip_path.length!==0){var tn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(re,this.posX+this.margin[3],-Pt+wt+this.ctx.prevPageLastElemOffset),O.call(this,M,!0),this.path=tn}if(ue=JSON.parse(JSON.stringify($e)),this.path=N(ue,this.posX+this.margin[3],-Pt+wt+this.ctx.prevPageLastElemOffset),J===!1||Je===0){var Rt=(Je>We||Je<rt)&&_.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Nt,null).clip().discardPath()),O.call(this,M,J),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=xe,O.call(this,M,J),this.lineWidth=ke;this.path=$e},O=function(M,J){if((M!=="stroke"||J||!x.call(this))&&(M==="stroke"||J||!m.call(this))){for(var re,ue,pe=[],fe=this.path,Ce=0;Ce<fe.length;Ce++){var ke=fe[Ce];switch(ke.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:ke,deltas:[],abs:[]});break;case"lt":var xe=pe.length;if(fe[Ce-1]&&!isNaN(fe[Ce-1].x)&&(re=[ke.x-fe[Ce-1].x,ke.y-fe[Ce-1].y],xe>0)){for(;xe>=0;xe--)if(pe[xe-1].close!==!0&&pe[xe-1].begin!==!0){pe[xe-1].deltas.push(re),pe[xe-1].abs.push(ke);break}}break;case"bct":re=[ke.x1-fe[Ce-1].x,ke.y1-fe[Ce-1].y,ke.x2-fe[Ce-1].x,ke.y2-fe[Ce-1].y,ke.x-fe[Ce-1].x,ke.y-fe[Ce-1].y],pe[pe.length-1].deltas.push(re);break;case"qct":var Ue=fe[Ce-1].x+2/3*(ke.x1-fe[Ce-1].x),$e=fe[Ce-1].y+2/3*(ke.y1-fe[Ce-1].y),Fe=ke.x+2/3*(ke.x1-ke.x),Le=ke.y+2/3*(ke.y1-ke.y),ce=ke.x,yt=ke.y;re=[Ue-fe[Ce-1].x,$e-fe[Ce-1].y,Fe-fe[Ce-1].x,Le-fe[Ce-1].y,ce-fe[Ce-1].x,yt-fe[Ce-1].y],pe[pe.length-1].deltas.push(re);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(ke)}}ue=J?null:M==="stroke"?"stroke":"fill";for(var St=!1,lt=0;lt<pe.length;lt++)if(pe[lt].arc)for(var We=pe[lt].abs,rt=0;rt<We.length;rt++){var Je=We[rt];Je.type==="arc"?j.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,J,!St):ne.call(this,Je.x,Je.y),St=!0}else if(pe[lt].close===!0)this.pdf.internal.out("h"),St=!1;else if(pe[lt].begin!==!0){var Dt=pe[lt].start.x,wt=pe[lt].start.y;ee.call(this,pe[lt].deltas,Dt,wt),St=!0}ue&&D.call(this,ue),J&&se.call(this)}},U=function(M){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-re;case"top":return M+J-re;case"hanging":return M+J-2*re;case"middle":return M+J/2-re;default:return M}},B=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(J,re){this.colorStops.push([J,re])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,J,re,ue,pe,fe,Ce,ke,xe){for(var Ue=ge.call(this,re,ue,pe,fe),$e=0;$e<Ue.length;$e++){var Fe=Ue[$e];$e===0&&(xe?F.call(this,Fe.x1+M,Fe.y1+J):ne.call(this,Fe.x1+M,Fe.y1+J)),me.call(this,M,J,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ke?se.call(this):D.call(this,Ce)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(M,J){this.pdf.internal.out(t(M)+" "+n(J)+" m")},H=function(M){var J;switch(M.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var re=this.pdf.getTextDimensions(M.text),ue=U.call(this,M.y),pe=B.call(this,ue)-re.h,fe=this.ctx.transform.applyToPoint(new o(M.x,ue)),Ce=this.ctx.transform.decompose(),ke=new c;ke=(ke=(ke=ke.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var xe,Ue,$e,Fe=this.ctx.transform.applyToRectangle(new a(M.x,ue,re.w,re.h)),Le=ke.applyToRectangle(new a(M.x,pe,re.w,re.h)),ce=A.call(this,Le),yt=[],St=0;St<ce.length;St+=1)yt.indexOf(ce[St])===-1&&yt.push(ce[St]);if(I(yt),this.autoPaging)for(var lt=yt[0],We=yt[yt.length-1],rt=lt;rt<We+1;rt++){this.pdf.setPage(rt);var Je=rt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],an=wt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Nt-this.margin[3],tn=rt===1?0:Dt+(rt-2)*an;if(this.ctx.clip_path.length!==0){var Rt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(xe,this.posX+this.margin[3],-1*tn+Je),O.call(this,"fill",!0),this.path=Rt}var pt=N([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-tn+Je+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*M.scale),$e=this.lineWidth,this.lineWidth=$e*M.scale);var Ct=this.autoPaging!=="text";if(Ct||pt.y+pt.h<=wt){if(Ct||pt.y>=Je&&pt.x<=Nt){var vt=Ct?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Nt-pt.x)[0],zn=N([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-tn+Je+this.ctx.prevPageLastElemOffset)[0],gn=Ct&&(rt>lt||rt<We)&&_.call(this);gn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,an,null).clip().discardPath()),this.pdf.text(vt,zn.x,zn.y,{angle:M.angle,align:J,renderingMode:M.renderingMode}),gn&&this.pdf.restoreGraphicsState()}}else pt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-pt.y);M.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=$e)}else M.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*M.scale),$e=this.lineWidth,this.lineWidth=$e*M.scale),this.pdf.text(M.text,fe.x+this.posX,fe.y+this.posY,{angle:M.angle,align:J,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=$e)},ne=function(M,J,re,ue){re=re||0,ue=ue||0,this.pdf.internal.out(t(M+re)+" "+n(J+ue)+" l")},ee=function(M,J,re){return this.pdf.lines(M,J,re,null,null)},me=function(M,J,re,ue,pe,fe,Ce,ke){this.pdf.internal.out([e(i(re+M)),e(s(ue+J)),e(i(pe+M)),e(s(fe+J)),e(i(Ce+M)),e(s(ke+J)),"c"].join(" "))},ge=function(M,J,re,ue){for(var pe=2*Math.PI,fe=Math.PI/2;J>re;)J-=pe;var Ce=Math.abs(re-J);Ce<pe&&ue&&(Ce=pe-Ce);for(var ke=[],xe=ue?-1:1,Ue=J;Ce>1e-5;){var $e=Ue+xe*Math.min(Ce,fe);ke.push(de.call(this,M,Ue,$e)),Ce-=Math.abs($e-Ue),Ue=$e}return ke},de=function(M,J,re){var ue=(re-J)/2,pe=M*Math.cos(ue),fe=M*Math.sin(ue),Ce=pe,ke=-fe,xe=Ce*Ce+ke*ke,Ue=xe+Ce*pe+ke*fe,$e=4/3*(Math.sqrt(2*xe*Ue)-Ue)/(Ce*fe-ke*pe),Fe=Ce-$e*ke,Le=ke+$e*Ce,ce=Fe,yt=-Le,St=ue+J,lt=Math.cos(St),We=Math.sin(St);return{x1:M*Math.cos(J),y1:M*Math.sin(J),x2:Fe*lt-Le*We,y2:Fe*We+Le*lt,x3:ce*lt-yt*We,y3:ce*We+yt*lt,x4:M*Math.cos(re),y4:M*Math.sin(re)}},ie=function(M){return 180*M/Math.PI},ye=function(M,J,re,ue,pe,fe){var Ce=M+.5*(re-M),ke=J+.5*(ue-J),xe=pe+.5*(re-pe),Ue=fe+.5*(ue-fe),$e=Math.min(M,pe,Ce,xe),Fe=Math.max(M,pe,Ce,xe),Le=Math.min(J,fe,ke,Ue),ce=Math.max(J,fe,ke,Ue);return new a($e,Le,Fe-$e,ce-Le)},be=function(M,J,re,ue,pe,fe,Ce,ke){var xe,Ue,$e,Fe,Le,ce,yt,St,lt,We,rt,Je,Dt,wt,an=re-M,Nt=ue-J,Pt=pe-re,tn=fe-ue,Rt=Ce-pe,pt=ke-fe;for(Ue=0;Ue<41;Ue++)lt=(yt=($e=M+(xe=Ue/40)*an)+xe*((Le=re+xe*Pt)-$e))+xe*(Le+xe*(pe+xe*Rt-Le)-yt),We=(St=(Fe=J+xe*Nt)+xe*((ce=ue+xe*tn)-Fe))+xe*(ce+xe*(fe+xe*pt-ce)-St),Ue==0?(rt=lt,Je=We,Dt=lt,wt=We):(rt=Math.min(rt,lt),Je=Math.min(Je,We),Dt=Math.max(Dt,lt),wt=Math.max(wt,We));return new a(Math.round(rt),Math.round(Je),Math.round(Dt-rt),Math.round(wt-Je))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,J,re=(M=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:J}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(At.API),function(r){var e=function(o){var a,c,h,d,p,y,m,x,_,A;for(c=[],h=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>h;h+=4)(p=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(y=(p=((p=((p=((p=(p-(A=p%85))/85)-(_=p%85))/85)-(x=p%85))/85)-(m=p%85))/85)%85,c.push(y+33,m+33,x+33,_+33,A+33)):c.push(122);return function(S,N){for(var I=N;I>0;I--)S.pop()}(c,a.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var a,c,h,d,p,y=String,m="length",x=255,_="charCodeAt",A="slice",S="replace";for(o[A](-2),o=o[A](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),h=[],d=0,p=(o+=a="uuuuu"[A](o[m]%5||5))[m];p>d;d+=5)c=52200625*(o[_](d)-33)+614125*(o[_](d+1)-33)+7225*(o[_](d+2)-33)+85*(o[_](d+3)-33)+(o[_](d+4)-33),h.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(N,I){for(var R=I;R>0;R--)N.pop()}(h,a[m]),y.fromCharCode.apply(y,h)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var c="",h=0;h<o.length;h+=2)c+=String.fromCharCode("0x"+(o[h]+o[h+1]));return c},s=function(o){for(var a=new Uint8Array(o.length),c=o.length;c--;)a[c]=o.charCodeAt(c);return(a=D5(a)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};r.processDataByFilters=function(o,a){var c=0,h=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}}(At.API),function(r){r.loadFile=function(e,t,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,h,d){var p=new XMLHttpRequest,y=0,m=function(x){var _=x.length,A=[],S=String.fromCharCode;for(y=0;y<_;y+=1)A.push(S(255&x.charCodeAt(y)));return A.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?d(m(this.responseText)):d(void 0)}),p.send(null),h&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(e,t,n)},r.loadImageFile=r.loadFile}(At.API),function(r){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Tf(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Tf(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var c=Un(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var h=document.createElement(a);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},s=function a(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(a(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function a(c){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),h);return(d=d.setProgress(1,a,1,[a])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,c){return a.__proto__=c||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,c){return this.then(function(){switch(c=c||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),c){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var x=d[m],_=x.src.find(function(A){return A.format==="truetype"});_&&h.addFont(_.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},o.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var c=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(a,c){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return c?c(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(a=a||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,c,h,d){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,c,h,d){return this.setProgress(a?this.progress.val+a:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,c){var h=this;return this.thenCore(a,c,function(d,p){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,d),y}).then(d,p).then(function(y){return h.updateProgress(1),y})})},o.prototype.thenCore=function(a,c,h){h=h||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),c&&(c=c.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),y=h.call(p,a,c);return o.convert(y,d.__proto__)},o.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},o.prototype.thenList=function(a){var c=this;return a.forEach(function(h){c=c.thenCore(h)}),c},o.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return o.convert(c,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,At.getPageSize=function(a,c,h){if(Un(a)==="object"){var d=a;a=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var p,y=(""+h).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var x,_=0,A=0;if(m.hasOwnProperty(y))_=m[y][1]/p,A=m[y][0]/p;else try{_=h[1],A=h[0]}catch{throw new Error("Invalid format: "+h)}if(a==="p"||a==="portrait")a="p",A>_&&(x=A,A=_,_=x);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>A&&(x=A,A=_,_=x)}return{width:A,height:_,unit:c,k:p,orientation:a}},r.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Ox):null;var h=new o(c);return c.worker?h:h.from(a).doCallback()}}(At.API),At.API.addJS=function(r){return GT=r,this.internal.events.subscribe("postPutResources",function(){Pv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pv!==void 0&&WT!==void 0&&this.internal.out("/Names <</JavaScript "+Pv+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var c=a[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var p=t.internal.newObject();d.push(p);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(At.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,o,a){var c,h=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=function(p){for(var y,m=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,_={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,e.indexOf(p.charCodeAt(A+1))!==-1){y=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),_={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:y,numcomponents:p.charCodeAt(A+9)};break}m=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:h,index:n,alias:i}}return d}}(At.API),At.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=Aq(r,{checkCrc:!0}),o=s.width,a=s.height,c=s.channels,h=s.palette,d=s.depth;i=h&&c===1?function(B){for(var j=B.width,D=B.height,se=B.data,F=B.palette,H=B.depth,ne=!1,ee=[],me=[],ge=void 0,de=!1,ie=0,ye=0;ye<F.length;ye++){var be=JE(F[ye],4),Z=be[0],M=be[1],J=be[2],re=be[3];ee.push(Z,M,J),re!=null&&(re===0?(ie++,me.length<1&&me.push(ye)):re<255&&(de=!0))}if(de||ie>1){ne=!0,me=void 0;var ue=j*D;ge=new Uint8Array(ue);for(var pe=new DataView(se.buffer),fe=0;fe<ue;fe++){var Ce=Dx(pe,fe,H),ke=JE(F[Ce],4)[3];ge[fe]=ke}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:se,alphaBytes:ge,needSMask:ne,palette:ee,mask:me}}(s):c===2||c===4?function(B){for(var j=B.data,D=B.width,se=B.height,F=B.channels,H=B.depth,ne=F===2?"DeviceGray":"DeviceRGB",ee=F-1,me=D*se,ge=ee,de=me*ge,ie=1*me,ye=Math.ceil(de*H/8),be=Math.ceil(ie*H/8),Z=new Uint8Array(ye),M=new Uint8Array(be),J=new DataView(j.buffer),re=new DataView(Z.buffer),ue=new DataView(M.buffer),pe=!1,fe=0;fe<me;fe++){for(var Ce=fe*F,ke=0;ke<ge;ke++)nN(re,Dx(J,Ce+ke,H),fe*ge+ke,H);var xe=Dx(J,Ce+ge,H);xe<(1<<H)-1&&(pe=!0),nN(ue,xe,1*fe,H)}return{colorSpace:ne,colorsPerPixel:ee,colorBytes:Z,alphaBytes:M,needSMask:pe}}(s):function(B){var j=B.data,D=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:j instanceof Uint8Array?j:new Uint8Array(j.buffer),needSMask:!1}}(s);var p,y,m,x=i,_=x.colorSpace,A=x.colorsPerPixel,S=x.colorBytes,N=x.alphaBytes,I=x.needSMask,R=x.palette,O=x.mask,U=null;return n!==At.API.image_compression.NONE&&typeof D5=="function"?(U=function(B){var j;switch(B){case At.API.image_compression.FAST:j=11;break;case At.API.image_compression.MEDIUM:j=13;break;case At.API.image_compression.SLOW:j=14;break;default:j=12}return j}(n),p=this.decode.FLATE_DECODE,y="/Predictor ".concat(U," "),r=JT(S,o*A,A,n),I&&(m=JT(N,o,1,n))):(p=void 0,y="",r=S,I&&(m=N)),y+="/Colors ".concat(A," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:p,decodeParameters:y,transparency:O,palette:R,sMask:m,predictor:U,width:o,height:a,bitsPerComponent:d,colorSpace:_}}},function(r){r.processGIF89A=function(e,t,n,i){var s=new Vq(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:a},d=new jx(100).encode(h,100);return r.processJPEG.call(this,d,t,n,i)},r.processGIF87A=r.processGIF89A}(At.API),vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Kn.log("bit decode error:"+t)}},vl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},vl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,c=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},vl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},vl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=r}},vl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=a,this.data[d+3]=255}this.pos+=r}},vl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},vl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},vl.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new vl(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new jx(100).encode(c,100);return r.processJPEG.call(this,h,t,n,i)}}(At.API),iN.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new iN(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new jx(100).encode(c,100);return r.processJPEG.call(this,h,t,n,i)}}(At.API),At.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,h=0;h<i;h+=4){var d=n[h],p=n[h+1],y=n[h+2],m=n[h+3];s[a++]=d,s[a++]=p,s[a++]=y,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},At.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dm=At.API,Lv=Dm.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,p=e.doKerning!==!1,y=0,m=r.length,x=0,_=a[0]||c,A=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(y=p&&Un(h[n])==="object"&&!isNaN(parseInt(h[n][x],10))?h[n][x]/d:0,A.push((a[n]||_)/c+y)),x=n;return A},YT=Dm.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dm.processArabic&&(r=Dm.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Lv.apply(this,arguments).reduce(function(s,o){return s+o},0)},XT=function(r,e,t,n){for(var i=[],s=0,o=r.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(r.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(r.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(r.slice(c,s)),i},KT=function(r,e,t){t||(t={});var n,i,s,o,a,c,h,d=[],p=[d],y=t.textIndent||0,m=0,x=0,_=r.split(" "),A=Lv.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var S=Array(c).join(" "),N=[];_.map(function(R){(R=R.split(/\s*\n/)).length>1?N=N.concat(R.map(function(O,U){return(U&&O.length?`
`:"")+O})):N.push(R[0])}),_=N,c=YT.apply(this,[S,t])}for(s=0,o=_.length;s<o;s++){var I=0;if(n=_[s],c&&n[0]==`
`&&(n=n.substr(1),I=1),y+m+(x=(i=Lv.apply(this,[n,t])).reduce(function(R,O){return R+O},0))>e||I){if(x>e){for(a=XT.apply(this,[n,i,e-(y+m),e]),d.push(a.shift()),d=[a.pop()];a.length;)p.push([a.shift()]);x=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(R,O){return R+O},0)}else d=[n];p.push(d),y=x+c,m=A}else d.push(n),y+=m+x,m=A}return h=c?function(R,O){return(O?S:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(h)},Dm.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return p.metadata[y]?{widths:p.metadata[y].widths||{0:1},kerning:p.metadata[y].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,c,h=[];for(a=0,c=n.length;a<c;a++)h=h.concat(KT.apply(this,[n[a],o,s]));return h},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=r.__fontmetrics__.compress=function(y){var m,x,_,A,S=["{"];for(var N in y){if(m=y[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=o(N).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(_=o(m).slice(3),A="-"):(_=o(m).slice(2),A=""),_=A+_.slice(0,-1)+i[_.slice(-1)];else{if(Un(m)!=="object")throw new Error("Don't know what to do with value type "+Un(m)+".");_=a(m)}S.push(x+_)}return S.push("}"),S.join("")},c=r.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,_,A,S={},N=1,I=S,R=[],O="",U="",B=y.length-1,j=1;j<B;j+=1)(A=y[j])=="'"?m?(_=m.join(""),m=void 0):m=[]:m?m.push(A):A=="{"?(R.push([I,_]),I={},_=void 0):A=="}"?((x=R.pop())[0][x[1]]=I,_=void 0,I=x[0]):A=="-"?N=-1:_===void 0?n.hasOwnProperty(A)?(O+=n[A],_=parseInt(O,16)*N,N=1,O=""):O+=A:n.hasOwnProperty(A)?(U+=n[A],I[_]=parseInt(U,16)*N,N=1,_=void 0,U=""):U+=A;return S},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(y){var m=y.font,x=p.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var _=d.Unicode[m.postScriptName];_&&(m.metadata.Unicode.encoding=_,m.encoding=_.codePages[0])}])}(At.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(ab(a)),o.metadata=r.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),At.API.addSvgAsImage=function(r,e,t,n,i,s,o,a){if(isNaN(e)||isNaN(t))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(qt.canvg?Promise.resolve(qt.canvg):Tf(()=>import("./index.es-CMj5BATI.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,n,i,o,a)})},At.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},At.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],h=0,d=0,p=0;function y(x,_){var A,S=!1;for(A=0;A<x.length;A+=1)x[A]===_&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=a.length;for(p=0;p<m;p+=1)t[a[p]].value=t[a[p]].defaultValue,t[a[p]].explicitSet=!1}if(Un(r)==="object"){for(i in r)if(s=r[i],y(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&y(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(n=!1);n===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,_=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?_.push("/"+x+" /"+t[x].value):_.push("/"+x+" "+t[x].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],p=0,y=s.length;p<y;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},n=function(s){var o,a,c,h,d,p,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,y=(a=Object.keys(s).sort(function(m,x){return m-x})).length;p<y;p++)o=a[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",x=0;x<y.length;x++)m+=String.fromCharCode(y[x]);var _=h();d({data:m,addLength1:!0,objectId:_}),c("endobj");var A=h();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var S=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Bm(a.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var N=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Bm(a.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+r.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+Bm(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,y="",m=0;m<p.length;m++)y+=String.fromCharCode(p[m]);var x=h();d({data:y,addLength1:!0,objectId:x}),c("endobj");var _=h();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var A=h();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Bm(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=h();for(var S=0;S<a.metadata.hmtx.widths.length;S++)a.metadata.hmtx.widths[S]=parseInt(a.metadata.hmtx.widths[S]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Bm(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,h=s.y,d=s.options||{},p=s.mutex||{},y=p.pdfEscape,m=p.activeFontKey,x=p.fonts,_=m,A="",S=0,N="",I=x[_].encoding;if(x[_].encoding!=="Identity-H")return{text:a,x:c,y:h,options:d,mutex:p};for(N=a,_=m,Array.isArray(a)&&(N=a[0]),S=0;S<N.length;S+=1)x[_].metadata.hasOwnProperty("cmap")&&(o=x[_].metadata.cmap.unicode.codeMap[N[S].charCodeAt(0)]),o||N[S].charCodeAt(0)<256&&x[_].metadata.hasOwnProperty("Unicode")?A+=N[S]:A+="";var R="";return parseInt(_.slice(1))<14||I==="WinAnsiEncoding"?R=y(A,_).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(R=t(A,x[_])),p.isHex=!0,{text:R,x:c,y:h,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},c,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(At),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(At.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,o,a,c,h,d,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,I=0;this.__bidiEngine__={};var R=function(F){var H=F.charCodeAt(),ne=H>>8,ee=_[ne];return ee!==void 0?p[256*ee+(255&H)]:ne===252||ne===253?"AL":S.test(ne)?"L":ne===8?"R":"N"},O=function(F){for(var H,ne=0;ne<F.length;ne++){if((H=R(F.charAt(ne)))==="L")return!1;if(H==="R")return!0}return!1},U=function(F,H,ne,ee){var me,ge,de,ie,ye=H[ee];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ye="AN");break;case"AL":N=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":ee<1||ee+1>=H.length||(me=ne[ee-1])!=="EN"&&me!=="AN"||(ge=H[ee+1])!=="EN"&&ge!=="AN"?ye="N":N&&(ge="AN"),ye=ge===me?ge:"N";break;case"ES":ye=(me=ee>0?ne[ee-1]:"B")==="EN"&&ee+1<H.length&&H[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&ne[ee-1]==="EN"){ye="EN";break}if(N){ye="N";break}for(de=ee+1,ie=H.length;de<ie&&H[de]==="ET";)de++;ye=de<ie&&H[de]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ie=H.length,de=ee+1;de<ie&&H[de]==="NSM";)de++;if(de<ie){var be=F[ee],Z=be>=1425&&be<=2303||be===64286;if(me=H[de],Z&&(me==="R"||me==="AL")){ye="R";break}}}ye=ee<1||(me=H[ee-1])==="B"?"N":ne[ee-1];break;case"B":N=!1,i=!0,ye=I;break;case"S":s=!0,ye="N"}return ye},B=function(F,H,ne){var ee=F.split("");return ne&&j(ee,ne,{hiLevel:I}),ee.reverse(),H&&H.reverse(),ee.join("")},j=function(F,H,ne){var ee,me,ge,de,ie,ye=-1,be=F.length,Z=0,M=[],J=I?m:y,re=[];for(N=!1,i=!1,s=!1,me=0;me<be;me++)re[me]=R(F[me]);for(ge=0;ge<be;ge++){if(ie=Z,M[ge]=U(F,re,M,ge),ee=240&(Z=J[ie][x[M[ge]]]),Z&=15,H[ge]=de=J[Z][5],ee>0)if(ee===16){for(me=ye;me<ge;me++)H[me]=1;ye=-1}else ye=-1;if(J[Z][6])ye===-1&&(ye=ge);else if(ye>-1){for(me=ye;me<ge;me++)H[me]=de;ye=-1}re[ge]==="B"&&(H[ge]=0),ne.hiLevel|=de}s&&function(ue,pe,fe){for(var Ce=0;Ce<fe;Ce++)if(ue[Ce]==="S"){pe[Ce]=I;for(var ke=Ce-1;ke>=0&&ue[ke]==="WS";ke--)pe[ke]=I}}(re,H,be)},D=function(F,H,ne,ee,me){if(!(me.hiLevel<F)){if(F===1&&I===1&&!i)return H.reverse(),void(ne&&ne.reverse());for(var ge,de,ie,ye,be=H.length,Z=0;Z<be;){if(ee[Z]>=F){for(ie=Z+1;ie<be&&ee[ie]>=F;)ie++;for(ye=Z,de=ie-1;ye<de;ye++,de--)ge=H[ye],H[ye]=H[de],H[de]=ge,ne&&(ge=ne[ye],ne[ye]=ne[de],ne[de]=ge);Z=ie}Z++}}},se=function(F,H,ne){var ee=F.split(""),me={hiLevel:I};return ne||(ne=[]),j(ee,ne,me),function(ge,de,ie){if(ie.hiLevel!==0&&d)for(var ye,be=0;be<ge.length;be++)de[be]===1&&(ye=A.indexOf(ge[be]))>=0&&(ge[be]=A[ye+1])}(ee,ne,me),D(2,ee,H,ne,me),D(1,ee,H,ne,me),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(F,H,ne){if(function(me,ge){if(ge)for(var de=0;de<me.length;de++)ge[de]=de;a===void 0&&(a=O(me)),h===void 0&&(h=O(me))}(F,H),o||!c||h)if(o&&c&&a^h)I=a?1:0,F=B(F,H,ne);else if(!o&&c&&h)I=a?1:0,F=se(F,H,ne),F=B(F,H);else if(!o||a||c||h){if(o&&!c&&a^h)F=B(F,H),a?(I=0,F=se(F,H,ne)):(I=1,F=se(F,H,ne),F=B(F,H));else if(o&&a&&!c&&h)I=1,F=se(F,H,ne),F=B(F,H);else if(!o&&!c&&a^h){var ee=d;a?(I=1,F=se(F,H,ne),I=0,d=!1,F=se(F,H,ne),d=ee):(I=0,F=se(F,H,ne),F=B(F,H),I=1,d=!1,F=se(F,H,ne),d=ee,F=B(F,H))}}else I=0,F=se(F,H,ne);else I=a?1:0,F=se(F,H,ne);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,c=F.isOutputVisual,a=F.isInputRtl,h=F.isOutputRtl,d=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);n.text=o}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Td(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new o$(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Wq(this.contents),this.head=new Yq(this),this.name=new Zq(this),this.cmap=new L6(this),this.toUnicode={},this.hhea=new Xq(this),this.maxp=new e$(this),this.hmtx=new t$(this),this.post=new Jq(this),this.os2=new Kq(this),this.loca=new s$(this),this.glyf=new n$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,h;for(h=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var ql,Td=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,o,a,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),Wq=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,o,a,c,h,d,p,y,m,x,_;for(_ in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),o=Math.floor(p/c),d=16*m-p,(i=new Td).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(d),s=16*m,h=i.pos+s,a=null,x=[],t)for(y=t[_],i.writeString(_),i.writeInt(r(y)),i.writeInt(h),i.writeInt(y.length),x=x.concat(y),_==="head"&&(a=h),h+=y.length;h%4;)x.push(0),h++;return i.write(x),n=2981146554-r(i.data),i.pos=a+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,o;for(t=R6.call(t);t.length%4;)t.push(0);for(s=new Td(t),i=0,n=0,o=t.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),Gq={}.hasOwnProperty,jc=function(r,e){for(var t in e)Gq.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};ql=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var Yq=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Td).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),sN=function(){function r(e,t){var n,i,s,o,a,c,h,d,p,y,m,x,_,A,S,N,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),y=m/2,e.pos+=6,s=function(){var R,O;for(O=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)O.push(e.readUInt16());return O}(),e.pos+=2,_=function(){var R,O;for(O=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)O.push(e.readUInt16());return O}(),h=function(){var R,O;for(O=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)O.push(e.readUInt16());return O}(),d=function(){var R,O;for(O=[],c=R=0;0<=y?R<y:R>y;c=0<=y?++R:--R)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,O;for(O=[],c=R=0;0<=i?R<i:R>i;c=0<=i?++R:--R)O.push(e.readUInt16());return O}(),c=S=0,I=s.length;S<I;c=++S)for(A=s[c],n=N=x=_[c];x<=A?N<=A:N>=A;n=x<=A?++N:--N)d[c]===0?o=n+h[c]:(o=a[d[c]/2+(n-x)-(y-c)]||0)!==0&&(o+=h[c]),this.codeMap[n]=65535&o}e.pos=p}return r.encode=function(e,t){var n,i,s,o,a,c,h,d,p,y,m,x,_,A,S,N,I,R,O,U,B,j,D,se,F,H,ne,ee,me,ge,de,ie,ye,be,Z,M,J,re,ue,pe,fe,Ce,ke,xe,Ue,$e;switch(ee=new Td,o=Object.keys(e).sort(function(Fe,Le){return Fe-Le}),t){case"macroman":for(_=0,A=function(){var Fe=[];for(x=0;x<256;++x)Fe.push(0);return Fe}(),N={0:0},s={},me=0,ye=o.length;me<ye;me++)N[ke=e[i=o[me]]]==null&&(N[ke]=++_),s[i]={old:e[i],new:N[e[i]]},A[i]=N[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(A),{charMap:s,subtable:ee.data,maxGlyphID:_+1};case"unicode":for(H=[],p=[],I=0,N={},n={},S=h=null,ge=0,be=o.length;ge<be;ge++)N[O=e[i=o[ge]]]==null&&(N[O]=++I),n[i]={old:O,new:N[O]},a=N[O]-i,S!=null&&a===h||(S&&p.push(S),H.push(i),h=a),S=i;for(S&&p.push(S),p.push(65535),H.push(65535),se=2*(D=H.length),j=2*Math.pow(Math.log(D)/Math.LN2,2),y=Math.log(j/2)/Math.LN2,B=2*D-j,c=[],U=[],m=[],x=de=0,Z=H.length;de<Z;x=++de){if(F=H[x],d=p[x],F===65535){c.push(0),U.push(0);break}if(F-(ne=n[F].new)>=32768)for(c.push(0),U.push(2*(m.length+D-x)),i=ie=F;F<=d?ie<=d:ie>=d;i=F<=d?++ie:--ie)m.push(n[i].new);else c.push(ne-F),U.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*D+2*m.length),ee.writeUInt16(0),ee.writeUInt16(se),ee.writeUInt16(j),ee.writeUInt16(y),ee.writeUInt16(B),fe=0,M=p.length;fe<M;fe++)i=p[fe],ee.writeUInt16(i);for(ee.writeUInt16(0),Ce=0,J=H.length;Ce<J;Ce++)i=H[Ce],ee.writeUInt16(i);for(xe=0,re=c.length;xe<re;xe++)a=c[xe],ee.writeUInt16(a);for(Ue=0,ue=U.length;Ue<ue;Ue++)R=U[Ue],ee.writeUInt16(R);for($e=0,pe=m.length;$e<pe;$e++)_=m[$e],ee.writeUInt16(_);return{charMap:n,subtable:ee.data,maxGlyphID:I+1}}},r}(),L6=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new sN(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=sN.encode(e,t),(i=new Td).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),Xq=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),Kq=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),Jq=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,a,c;for(c=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)c.push(e.readUInt32());return c}).call(this)}},r}(),Qq=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zq=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,o,a,c,h,d,p,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},s=d=0,p=n.length;d<p;s=++d)i=n[s],e.pos=i.offset,h=e.readString(i.length),o=new Qq(h,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r}(),e$=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),t$=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,o,a,c;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)d.push(e.readInt16());return d}(),this.widths=(function(){var h,d,p,y;for(y=[],h=0,d=(p=this.metrics).length;h<d;h++)s=p[h],y.push(s.advance);return y}).call(this),n=this.widths[this.widths.length-1],c=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),R6=[].slice,n$=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,o,a,c,h,d,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new Td(t.read(i))).readShort(),h=a.readShort(),p=a.readShort(),c=a.readShort(),d=a.readShort(),this.cache[e]=o===-1?new i$(a,h,p,c,d):new r$(a,o,h,p,c,d),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,o,a,c;for(o=[],s=[],a=0,c=t.length;a<c;a++)i=e[t[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},r}(),r$=function(){function r(e,t,n,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),i$=function(){function r(e,t,n,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Td(R6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),s$=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return jc(r,ql),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<t.length&&t[s]==o){++s,n[o]=i;var a=this.offsets[o],c=this.offsets[o+1]-a;c>0&&(i+=c)}for(var h=new Array(4*n.length),d=0;d<n.length;++d)h[4*d+3]=255&n[d],h[4*d+2]=(65280&n[d])>>8,h[4*d+1]=(16711680&n[d])>>16,h[4*d]=(4278190080&n[d])>>24;return h},r}(),o$=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,o,a,c,h,d,p,y,m,x,_,A,S;for(i in n=L6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},S=n.charMap)m[(c=S[i]).old]=c.new;for(x in y=n.maxGlyphID,o)x in m||(m[x]=y++);return d=function(N){var I,R;for(I in R={},N)R[N[I]]=I;return R}(m),p=Object.keys(d).sort(function(N,I){return N-I}),_=function(){var N,I,R;for(R=[],N=0,I=p.length;N<I;N++)a=p[N],R.push(d[a]);return R}(),s=this.font.glyf.encode(o,_,m),h=this.font.loca.encode(s.offsets,_),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},r}();At.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,o;if(Array.isArray(t))return"["+function(){var a,c,h;for(h=[],a=0,c=t.length;a<c;a++)n=t[a],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const a$=()=>{var fe,Ce,ke,xe,Ue;const r=oh(),{setPdfScroll:e,pdfCheck:t,pdfScrollTop:n,setStreamData:i,setStartStreaming:s,getStream:o,endStream:a,streamData:c}=Ka(),[h,d]=Y.useState((fe=c==null?void 0:c.streamInfo)==null?void 0:fe.url),[p,y]=Y.useState(h),m=Y.useRef(null),[x,_]=Y.useState(!1),[A,S]=Y.useState({x:20,y:20}),N=Y.useRef(null),I=Y.useRef({x:0,y:0}),[R,O]=Y.useState(!1),[U,B]=Y.useState(0),[j,D]=Y.useState(null),[se,F]=Y.useState(100),[H,ne]=Y.useState(""),[ee,me]=Y.useState("#111"),[ge,de]=Y.useState("#f4edd2"),{selectedUser:ie}=ii(),{authUser:ye}=lr();Y.useEffect(()=>{m.current},[t]);const be=()=>{_(!x)},Z=$e=>{I.current={x:$e.clientX-A.x,y:$e.clientY-A.y},document.addEventListener("mousemove",M),document.addEventListener("mouseup",J)},M=$e=>{S({x:$e.clientX-I.current.x,y:$e.clientY-I.current.y})},J=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",J)};Y.useEffect(()=>{F(localStorage.getItem("brightness")||50),de(localStorage.getItem("bg")||"#f4edd2"),me(localStorage.getItem("color")||"#111"),document.documentElement.style.setProperty("--note-text-size",`${localStorage.getItem("size")||16}px`)},[]),Y.useEffect(()=>{console.log(se)},[se]),Y.useEffect(()=>{var $e,Fe;console.log(h),h||(console.log(($e=c==null?void 0:c.streamInfo)==null?void 0:$e.url),y((Fe=c==null?void 0:c.streamInfo)==null?void 0:Fe.url));try{console.log("videoId",p);const Le=()=>{const ce=document.createElement("script");ce.src="https://www.youtube.com/iframe_api",ce.async=!0,document.body.appendChild(ce)};window.YT?re():Le(),window.onYouTubeIframeAPIReady=re}finally{O(!1)}return()=>{delete window.onYouTubeIframeAPIReady,O(!1)}},[]);const re=()=>{O(!0);try{console.log(p);const Fe=new URL(p).searchParams.get("v");console.log(Fe),m.current=new window.YT.Player("player",{videoId:Fe,events:{onStateChange:ue}})}finally{O(!1)}},ue=$e=>{if($e.data===window.YT.PlayerState.PAUSED){const Fe=m.current.getCurrentTime();B(Fe),pe()}if($e.data===window.YT.PlayerState.PAUSED){const Fe=m.current.getCurrentTime();B(Fe),pe()}},pe=async $e=>{};return E.jsx("div",{className:"select-none",children:R?E.jsx(nk,{texts:["Loading..."]}):E.jsxs("div",{className:"flex items-center justify-center flex-col",children:[E.jsx("div",{className:"w-full p-8 mb-[-5rem] justify-end flex",children:E.jsxs(ha,{className:" btn",to:"/stream",children:[E.jsx(x2,{})," "]})}),E.jsxs("h2",{className:"flex justify-center items-center my-1 pb-8",children:[" Video streaming by ",E.jsx("span",{className:"ml-2 mr-1",children:E.jsx("img",{className:"size-6 object-cover rounded-full",src:(Ce=c==null?void 0:c.senderInfo)==null?void 0:Ce.profilePic,alt:"profile"})})," ",E.jsx("span",{children:(ke=c==null?void 0:c.senderInfo)==null?void 0:ke.fullName})]}),E.jsx("div",{ref:N,className:"transition-all duration-300 p-3 rounded-lg bg-black",style:{position:x?"fixed":"relative",width:x?"522px":"640px",height:x?"330px":"360px",left:x?`${A.x}px`:"0",top:x?`${A.y}px`:"0",zIndex:9999,cursor:x?"grab":"default"},onMouseDown:x?Z:null,children:E.jsx("div",{id:"player",ref:m,className:"w-full h-full"})}),E.jsxs("div",{className:"flex justify-between w-full px-11 items-center mt-4",children:[((xe=c==null?void 0:c.senderInfo)==null?void 0:xe.fullName)!==(ye==null?void 0:ye.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:async()=>{await Nn.get(`/auth/user/stream-control/${ie._id}/999999/${c._id}`)},children:"Seek"}),E.jsx("button",{onClick:be,className:`${x?"bg-gray-500":"bg-blue-600"} mt-4 px-4 py-2  text-white rounded-xl shadow-lg hover:bg-blue-700`,children:x?E.jsx(hF,{}):E.jsx(fF,{})}),((Ue=c==null?void 0:c.senderInfo)==null?void 0:Ue.fullName)===(ye==null?void 0:ye.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:()=>{i([]),a(),o(),r("/stream")},children:"End Stream"}),E.jsx("div",{children:E.jsx("label",{htmlFor:"color",className:"text-base-context"})}),E.jsx("input",{type:"color",value:ge,onChange:$e=>{de($e.target.value),localStorage.setItem("bg",$e.target.value)}}),E.jsx("label",{htmlFor:"color",className:"text-base-context"}),E.jsx("input",{type:"color",value:ee,onChange:$e=>{me($e.target.value),localStorage.setItem("color",$e.target.value)}}),E.jsx("label",{htmlFor:"textSize",className:"text-base-context"}),E.jsx("input",{type:"number",min:10,max:50,defaultValue:16,className:"bg-base-content  text-base-100",onChange:$e=>{document.documentElement.style.setProperty("--note-text-size",`${$e.target.value}px`),localStorage.setItem("size",$e.target.value)}})]}),E.jsxs("div",{className:"mt-11  flex flex-col gap-6 justify-center items-center my-5",children:[E.jsx("textarea",{id:"notesArea",name:"notes",style:{backgroundColor:ge,color:ee,fontSize:"var(--note-text-size, 16px)",lineHeight:"1.2"},placeholder:"Notes",value:H,onChange:$e=>{ne($e.target.value)},className:"w-[57vw] select-text rounded-md p-5 text-base-300  text-4xl max-h-full h-[20vh]"}),E.jsx("button",{className:"bg-base-content userselect  text-base-300 mb-3 p-2 px-3 rounded-md",onClick:()=>{var Je;const $e=document.getElementById("notesArea");if(!$e||!$e.value.trim()){alert("Please add some notes before saving.");return}const Fe=new At,Le=window.getComputedStyle($e),ce=$e.value.split(`
`),yt=parseInt(Le.fontSize)*1,St=10;let lt=St;const We=Le.color.match(/\d+/g);We&&Fe.setTextColor(parseInt(We[0],10),parseInt(We[1],10),parseInt(We[2],10));const rt=Le.backgroundColor.match(/\d+/g);rt&&(Fe.setFillColor(parseInt(rt[0],10),parseInt(rt[1],10),parseInt(rt[2],10)),Fe.rect(0,0,Fe.internal.pageSize.width,Fe.internal.pageSize.height,"F")),ce.forEach(Dt=>{Fe.splitTextToSize(Dt,Fe.internal.pageSize.width-2*St).forEach(an=>{if(lt+yt>Fe.internal.pageSize.height-St){Fe.addPage();const Nt=Le.color.match(/\d+/g);Nt&&Fe.setTextColor(parseInt(Nt[0],10),parseInt(Nt[1],10),parseInt(Nt[2],10));const Pt=Le.backgroundColor.match(/\d+/g);Pt&&(Fe.setFillColor(parseInt(Pt[0],10),parseInt(Pt[1],10),parseInt(Pt[2],10)),Fe.rect(0,0,Fe.internal.pageSize.width,Fe.internal.pageSize.height,"F")),lt=St}Fe.text(an,St,lt),lt+=yt})}),Fe.save((((Je=c==null?void 0:c.streamInfo)==null?void 0:Je.title)||"notes")+"_notes.pdf")},children:"Save Notes"})]})]})})};var D1={};D1.d=(r,e)=>{for(var t in e)D1.o(e,t)&&!D1.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};D1.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Xt=globalThis.pdfjsLib={};D1.d(Xt,{AbortException:()=>Kp,AnnotationEditorLayer:()=>nA,AnnotationEditorParamsType:()=>Wt,AnnotationEditorType:()=>Zt,AnnotationEditorUIManager:()=>Dp,AnnotationLayer:()=>sV,AnnotationMode:()=>Vh,ColorPicker:()=>u_,DOMSVGFactory:()=>bk,DrawLayer:()=>oA,FeatureTest:()=>to,GlobalWorkerOptions:()=>Yu,ImageKind:()=>db,InvalidPDFException:()=>M6,MissingPDFException:()=>Xp,OPS:()=>_l,OutputScale:()=>X5,PDFDataRangeTransport:()=>P8,PDFDateString:()=>dk,PDFWorker:()=>ug,PasswordResponses:()=>h$,PermissionFlag:()=>u$,PixelsPerInch:()=>Nd,RenderingCancelledException:()=>uk,TextLayer:()=>SS,UnexpectedResponseException:()=>X_,Util:()=>kt,VerbosityLevel:()=>W_,XfaLayer:()=>R8,build:()=>BH,createValidAbsoluteUrl:()=>m$,fetchData:()=>J_,getDocument:()=>PH,getFilenameFromUrl:()=>A$,getPdfFilenameFromUrl:()=>k$,getXfaPageViewport:()=>C$,isDataScheme:()=>Q_,isPdfFile:()=>hk,noContextMenu:()=>Xa,normalizeUnicode:()=>w$,setLayerDimensions:()=>Fp,shadow:()=>pn,version:()=>jH});const Os=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),I6=[1,0,0,1,0,0],V5=[.001,0,0,.001,0,0],l$=1e7,Bx=1.35,sa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},c$="pdfjs_internal_editor_",Zt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Wt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},u$={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Cs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},db={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},c1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},W_={ERRORS:0,WARNINGS:1,INFOS:5},_l={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},h$={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let G_=W_.WARNINGS;function d$(r){Number.isInteger(r)&&(G_=r)}function f$(){return G_}function Y_(r){G_>=W_.INFOS&&console.log(`Info: ${r}`)}function on(r){G_>=W_.WARNINGS&&console.log(`Warning: ${r}`)}function ur(r){throw new Error(r)}function Ti(r,e){r||ur(e)}function p$(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function m$(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=_$(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(p$(n))return n}catch{}return null}function pn(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Fd=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class W5 extends Fd{constructor(e,t){super(e,"PasswordException"),this.code=t}}class G5 extends Fd{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class M6 extends Fd{constructor(e){super(e,"InvalidPDFException")}}class Xp extends Fd{constructor(e){super(e,"MissingPDFException")}}class X_ extends Fd{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class g$ extends Fd{constructor(e){super(e,"FormatError")}}class Kp extends Fd{constructor(e){super(e,"AbortException")}}function O6(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&ur("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=r.subarray(i,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function K_(r){typeof r!="string"&&ur("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function y$(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function lk(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function v$(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function b$(){try{return new Function(""),!0}catch{return!1}}class to{static get isLittleEndian(){return pn(this,"isLittleEndian",v$())}static get isEvalSupported(){return pn(this,"isEvalSupported",b$())}static get isOffscreenCanvasSupported(){return pn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?pn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):pn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return pn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ux=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Qu,fb,Y5;class kt{static makeHexColor(e,t,n){return`#${Ux[e]}${Ux[t]}${Ux[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],o[0]),Math.min(n[1],i[1],s[1],o[1]),Math.max(n[0],i[0],s[0],o[0]),Math.max(n[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(n+o)/2,c=Math.sqrt((n+o)**2-4*(n*o-s*i))/2,h=a+c||1,d=a-c||1;return[Math.sqrt(h),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,i,o]}static bezierBoundingBox(e,t,n,i,s,o,a,c,h){return h?(h[0]=Math.min(h[0],e,a),h[1]=Math.min(h[1],t,c),h[2]=Math.max(h[2],e,a),h[3]=Math.max(h[3],t,c)):h=[Math.min(e,a),Math.min(t,c),Math.max(e,a),Math.max(t,c)],W(this,Qu,Y5).call(this,e,n,s,a,t,i,o,c,3*(-e+3*(n-s)+a),6*(e-2*n+s),3*(n-e),h),W(this,Qu,Y5).call(this,e,n,s,a,t,i,o,c,3*(-t+3*(i-o)+c),6*(t-2*i+o),3*(i-t),h),h}}Qu=new WeakSet,fb=function(e,t,n,i,s,o,a,c,h,d){if(h<=0||h>=1)return;const p=1-h,y=h*h,m=y*h,x=p*(p*(p*e+3*h*t)+3*y*n)+m*i,_=p*(p*(p*s+3*h*o)+3*y*a)+m*c;d[0]=Math.min(d[0],x),d[1]=Math.min(d[1],_),d[2]=Math.max(d[2],x),d[3]=Math.max(d[3],_)},Y5=function(e,t,n,i,s,o,a,c,h,d,p,y){if(Math.abs(h)<1e-12){Math.abs(d)>=1e-12&&W(this,Qu,fb).call(this,e,t,n,i,s,o,a,c,-p/d,y);return}const m=d**2-4*p*h;if(m<0)return;const x=Math.sqrt(m),_=2*h;W(this,Qu,fb).call(this,e,t,n,i,s,o,a,c,(-d+x)/_,y),W(this,Qu,fb).call(this,e,t,n,i,s,o,a,c,(-d-x)/_,y)},K(kt,Qu);function _$(r){return decodeURIComponent(escape(r))}let zx=null,oN=null;function w$(r){return zx||(zx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oN=new Map([["","t"]])),r.replaceAll(zx,(e,t,n)=>t?t.normalize("NFKC"):oN.get(n))}function x$(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return O6(r)}const ck="pdfjs_internal_id_",gu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function S$(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(O6(r))}const vu="http://www.w3.org/2000/svg",Sf=class Sf{};tt(Sf,"CSS",96),tt(Sf,"PDF",72),tt(Sf,"PDF_TO_CSS_UNITS",Sf.CSS/Sf.PDF);let Nd=Sf;async function J_(r,e="text"){if(m1(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class N2{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,p,y;switch(n%=360,n<0&&(n+=360),n){case 180:h=-1,d=0,p=0,y=1;break;case 90:h=0,d=1,p=1,y=0;break;case 270:h=0,d=-1,p=-1,y=0;break;case 0:h=1,d=0,p=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,y=-y);let m,x,_,A;h===0?(m=Math.abs(c-e[1])*t+i,x=Math.abs(a-e[0])*t+s,_=(e[3]-e[1])*t,A=(e[2]-e[0])*t):(m=Math.abs(a-e[0])*t+i,x=Math.abs(c-e[1])*t+s,_=(e[2]-e[0])*t,A=(e[3]-e[1])*t),this.transform=[h*t,d*t,p*t,y*t,m-h*t*a-p*t*c,x-d*t*a-y*t*c],this.width=_,this.height=A}get rawDims(){const{viewBox:e}=this;return pn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new N2({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return kt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=kt.applyTransform([e[0],e[1]],this.transform),n=kt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return kt.applyInverseTransform([e,t],this.transform)}}class uk extends Fd{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Q_(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function hk(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function A$(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function k$(r,e="document.pdf"){if(typeof r!="string")return e;if(Q_(r))return on('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(r);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class aN{constructor(){tt(this,"started",Object.create(null));tt(this,"times",[])}time(e){e in this.started&&on(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||on(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function m1(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function Xa(r){r.preventDefault()}function lN(r){console.log("Deprecated API usage: "+r)}var iy;class dk{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,iy)||$(this,iy,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g(this,iy).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const h=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=d,a+=p):h==="+"&&(o-=d,a-=p),new Date(Date.UTC(n,i,s,o,a,c))}}iy=new WeakMap,K(dk,iy);function C$(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new N2({viewBox:s,scale:e,rotation:t})}function fk(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(on(`Not a valid color format: "${r}"`),[0,0,0])}function E$(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,fk(n))}e.remove()}function Lr(r){const{a:e,b:t,c:n,d:i,e:s,f:o}=r.getTransform();return[e,t,n,i,s,o]}function yu(r){const{a:e,b:t,c:n,d:i,e:s,f:o}=r.getTransform().invertSelf();return[e,t,n,i,s,o]}function Fp(r,e,t=!1,n=!0){if(e instanceof N2){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=r,a=to.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,h=`var(--scale-factor) * ${s}px`,d=a?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=a?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!t||e.rotation%180===0?(o.width=d,o.height=p):(o.width=p,o.height=d)}n&&r.setAttribute("data-main-rotation",e.rotation)}class X5{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Wh,Nf,wl,Pf,sy,oy,d_,F6,no,D6,j6,pb,B6,J5;const _u=class _u{constructor(e){K(this,no);K(this,Wh,null);K(this,Nf,null);K(this,wl);K(this,Pf,null);K(this,sy,null);$(this,wl,e),g(_u,oy)||$(_u,oy,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=$(this,Wh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=g(this,wl)._uiManager._signal;e.addEventListener("contextmenu",Xa,{signal:t}),e.addEventListener("pointerdown",W(_u,d_,F6),{signal:t});const n=$(this,Pf,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,wl).toolbarPosition;if(i){const{style:s}=e,o=g(this,wl)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return W(this,no,B6).call(this),e}get div(){return g(this,Wh)}hide(){var e;g(this,Wh).classList.add("hidden"),(e=g(this,Nf))==null||e.hideDropdown()}show(){var e;g(this,Wh).classList.remove("hidden"),(e=g(this,sy))==null||e.shown()}async addAltText(e){const t=await e.render();W(this,no,pb).call(this,t),g(this,Pf).prepend(t,g(this,no,J5)),$(this,sy,e)}addColorPicker(e){$(this,Nf,e);const t=e.renderButton();W(this,no,pb).call(this,t),g(this,Pf).prepend(t,g(this,no,J5))}remove(){var e;g(this,Wh).remove(),(e=g(this,Nf))==null||e.destroy(),$(this,Nf,null)}};Wh=new WeakMap,Nf=new WeakMap,wl=new WeakMap,Pf=new WeakMap,sy=new WeakMap,oy=new WeakMap,d_=new WeakSet,F6=function(e){e.stopPropagation()},no=new WeakSet,D6=function(e){g(this,wl)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},j6=function(e){g(this,wl)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},pb=function(e){const t=g(this,wl)._uiManager._signal;e.addEventListener("focusin",W(this,no,D6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,no,j6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Xa,{signal:t})},B6=function(){const{editorType:e,_uiManager:t}=g(this,wl),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(_u,oy)[e]),W(this,no,pb).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),g(this,Pf).append(n)},J5=function(){const e=document.createElement("div");return e.className="divider",e},K(_u,d_),K(_u,oy,null);let K5=_u;var ay,Lf,Rf,Ld,U6,z6,q6;class T${constructor(e){K(this,Ld);K(this,ay,null);K(this,Lf,null);K(this,Rf);$(this,Rf,e)}show(e,t,n){const[i,s]=W(this,Ld,z6).call(this,t,n),{style:o}=g(this,Lf)||$(this,Lf,W(this,Ld,U6).call(this));e.append(g(this,Lf)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Lf).remove()}}ay=new WeakMap,Lf=new WeakMap,Rf=new WeakMap,Ld=new WeakSet,U6=function(){const e=$(this,Lf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Xa,{signal:g(this,Rf)._signal});const t=$(this,ay,document.createElement("div"));return t.className="buttons",e.append(t),W(this,Ld,q6).call(this),e},z6=function(e,t){let n=0,i=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const a=s.x+(t?s.width:0);if(o>n){i=a,n=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]},q6=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Rf)._signal;e.addEventListener("contextmenu",Xa,{signal:n}),e.addEventListener("click",()=>{g(this,Rf).highlightSelection("floating_button")},{signal:n}),g(this,ay).append(e)};function a_(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function N$(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var f_;class P${constructor(){K(this,f_,0)}get id(){return`${c$}${Ys(this,f_)._++}`}}f_=new WeakMap;var fg,ly,Ts,pg,mb;const xk=class xk{constructor(){K(this,pg);K(this,fg,x$());K(this,ly,0);K(this,Ts,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return pn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return W(this,pg,mb).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return W(this,pg,mb).call(this,e,e)}async getFromBlob(e,t){const n=await t;return W(this,pg,mb).call(this,e,n)}async getFromId(e){g(this,Ts)||$(this,Ts,new Map);const t=g(this,Ts).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){g(this,Ts)||$(this,Ts,new Map);let n=g(this,Ts).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${g(this,fg)}_${Ys(this,ly)._++}`,refCounter:1,isSvg:!1},g(this,Ts).set(e,n),g(this,Ts).set(n.id,n),n}getSvgUrl(e){const t=g(this,Ts).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;g(this,Ts)||$(this,Ts,new Map);const t=g(this,Ts).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,fg)}_`)}};fg=new WeakMap,ly=new WeakMap,Ts=new WeakMap,pg=new WeakSet,mb=async function(e,t){g(this,Ts)||$(this,Ts,new Map);let n=g(this,Ts).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,fg)}_${Ys(this,ly)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await J_(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=xk._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((h,d)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,h()},o.onload=async()=>{const p=n.svgUrl=o.result;a.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},a.onerror=o.onerror=d});o.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return g(this,Ts).set(e,n),n&&g(this,Ts).set(n.id,n),n};let Q5=xk;var Ui,Gh,cy,zi;class L${constructor(e=128){K(this,Ui,[]);K(this,Gh,!1);K(this,cy);K(this,zi,-1);$(this,cy,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),g(this,Gh))return;const c={cmd:e,undo:t,post:n,type:s};if(g(this,zi)===-1){g(this,Ui).length>0&&(g(this,Ui).length=0),$(this,zi,0),g(this,Ui).push(c);return}if(o&&g(this,Ui)[g(this,zi)].type===s){a&&(c.undo=g(this,Ui)[g(this,zi)].undo),g(this,Ui)[g(this,zi)]=c;return}const h=g(this,zi)+1;h===g(this,cy)?g(this,Ui).splice(0,1):($(this,zi,h),h<g(this,Ui).length&&g(this,Ui).splice(h)),g(this,Ui).push(c)}undo(){if(g(this,zi)===-1)return;$(this,Gh,!0);const{undo:e,post:t}=g(this,Ui)[g(this,zi)];e(),t==null||t(),$(this,Gh,!1),$(this,zi,g(this,zi)-1)}redo(){if(g(this,zi)<g(this,Ui).length-1){$(this,zi,g(this,zi)+1),$(this,Gh,!0);const{cmd:e,post:t}=g(this,Ui)[g(this,zi)];e(),t==null||t(),$(this,Gh,!1)}}hasSomethingToUndo(){return g(this,zi)!==-1}hasSomethingToRedo(){return g(this,zi)<g(this,Ui).length-1}destroy(){$(this,Ui,null)}}Ui=new WeakMap,Gh=new WeakMap,cy=new WeakMap,zi=new WeakMap;var p_,$6;class P2{constructor(e){K(this,p_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=to.platform;for(const[n,i,s={}]of e)for(const o of n){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(W(this,p_,$6).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}p_=new WeakSet,$6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const m_=class m_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return E$(e),pn(this,"_colors",e)}convert(e){const t=fk(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,o)=>s===t[o]))return m_._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?kt.makeHexColor(...t):e}};tt(m_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Z5=m_;var mg,Jo,ki,is,gg,Au,yg,xl,Yh,vg,If,dc,Sl,Mf,uy,hy,bg,dy,fc,Xh,_g,Kh,pc,g_,Jh,fy,Qh,Of,py,my,qi,Dn,ku,Ff,gy,yy,Zh,mc,Cu,vy,Da,et,gb,eS,H6,V6,yb,W6,G6,Y6,tS,X6,nS,rS,K6,Ks,qh,J6,Q6,iS,Z6,g1,sS;const Zm=class Zm{constructor(e,t,n,i,s,o,a,c,h,d,p){K(this,et);K(this,mg,new AbortController);K(this,Jo,null);K(this,ki,new Map);K(this,is,new Map);K(this,gg,null);K(this,Au,null);K(this,yg,null);K(this,xl,new L$);K(this,Yh,null);K(this,vg,0);K(this,If,new Set);K(this,dc,null);K(this,Sl,null);K(this,Mf,new Set);K(this,uy,!1);K(this,hy,!1);K(this,bg,!1);K(this,dy,null);K(this,fc,null);K(this,Xh,null);K(this,_g,null);K(this,Kh,!1);K(this,pc,null);K(this,g_,new P$);K(this,Jh,!1);K(this,fy,!1);K(this,Qh,null);K(this,Of,null);K(this,py,null);K(this,my,null);K(this,qi,Zt.NONE);K(this,Dn,new Set);K(this,ku,null);K(this,Ff,null);K(this,gy,null);K(this,yy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});K(this,Zh,[0,0]);K(this,mc,null);K(this,Cu,null);K(this,vy,null);K(this,Da,null);const y=this._signal=g(this,mg).signal;$(this,Cu,e),$(this,vy,t),$(this,gg,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:y}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),i._on("setpreference",this.onSetPreference.bind(this),{signal:y}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:y}),W(this,et,W6).call(this),W(this,et,K6).call(this),W(this,et,tS).call(this),$(this,Au,s.annotationStorage),$(this,dy,s.filterFactory),$(this,Ff,o),$(this,_g,a||null),$(this,uy,c),$(this,hy,h),$(this,bg,d),$(this,my,p||null),this.viewParameters={realScale:Nd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Zm.prototype,t=o=>g(o,Cu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return pn(this,"_keyboardManager",new P2([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&g(o,Cu).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&g(o,Cu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i;(e=g(this,Da))==null||e.resolve(),$(this,Da,null),(t=g(this,mg))==null||t.abort(),$(this,mg,null),this._signal=null;for(const s of g(this,is).values())s.destroy();g(this,is).clear(),g(this,ki).clear(),g(this,Mf).clear(),$(this,Jo,null),g(this,Dn).clear(),g(this,xl).destroy(),(n=g(this,gg))==null||n.destroy(),(i=g(this,pc))==null||i.hide(),$(this,pc,null),g(this,fc)&&(clearTimeout(g(this,fc)),$(this,fc,null)),g(this,mc)&&(clearTimeout(g(this,mc)),$(this,mc,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,my)}get useNewAltTextFlow(){return g(this,hy)}get useNewAltTextWhenAddingImage(){return g(this,bg)}get hcmFilter(){return pn(this,"hcmFilter",g(this,Ff)?g(this,dy).addHCMFilter(g(this,Ff).foreground,g(this,Ff).background):"none")}get direction(){return pn(this,"direction",getComputedStyle(g(this,Cu)).direction)}get highlightColors(){return pn(this,"highlightColors",g(this,_g)?new Map(g(this,_g).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return pn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){$(this,py,e)}editAltText(e,t=!1){var n;(n=g(this,gg))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":$(this,bg,t);break}}onPageChanging({pageNumber:e}){$(this,vg,e-1)}focusMainContainer(){g(this,Cu).focus()}findParent(e,t){for(const n of g(this,is).values()){const{x:i,y:s,width:o,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return n}return null}disableUserSelect(e=!1){g(this,vy).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Mf).add(e)}removeShouldRescale(e){g(this,Mf).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Nd.PDF_TO_CSS_UNITS;for(const t of g(this,Mf))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),h=W(this,et,gb).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;t.empty();const p=W(this,et,eS).call(this,h),y=g(this,qi)===Zt.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Zt.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,Au)&&!g(this,Au).has(e.id)&&g(this,Au).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,Kh)&&($(this,Kh,!1),W(this,et,yb).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of g(this,Dn))if(t.div.contains(e)){$(this,Of,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!g(this,Of))return;const[e,t]=g(this,Of);$(this,Of,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,et,tS).call(this),W(this,et,nS).call(this)}removeEditListeners(){W(this,et,X6).call(this),W(this,et,rS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of g(this,Sl))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of g(this,Sl))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,Jo))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of g(this,Dn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of g(this,Sl))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){on(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of n){const h=await i.deserialize(c);if(!h)return;s.push(h)}const o=()=>{for(const c of s)W(this,et,iS).call(this,c);W(this,et,sS).call(this,s)},a=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){on(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,qi)!==Zt.NONE&&!this.isEditorHandlingKeyboard&&Zm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,Kh)&&($(this,Kh,!1),W(this,et,yb).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,et,G6).call(this),W(this,et,nS).call(this),W(this,et,Ks).call(this,{isEditing:g(this,qi)!==Zt.NONE,isEmpty:W(this,et,g1).call(this),hasSomethingToUndo:g(this,xl).hasSomethingToUndo(),hasSomethingToRedo:g(this,xl).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,et,Y6).call(this),W(this,et,rS).call(this),W(this,et,Ks).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,Sl)){$(this,Sl,e);for(const t of g(this,Sl))W(this,et,qh).call(this,t.defaultPropertiesToUpdate)}}getId(){return g(this,g_).id}get currentLayer(){return g(this,is).get(g(this,vg))}getLayer(e){return g(this,is).get(e)}get currentPageIndex(){return g(this,vg)}addLayer(e){g(this,is).set(e.pageIndex,e),g(this,Jh)?e.enable():e.disable()}removeLayer(e){g(this,is).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(g(this,qi)!==e&&!(g(this,Da)&&(await g(this,Da).promise,!g(this,Da)))){if($(this,Da,Promise.withResolvers()),$(this,qi,e),e===Zt.NONE){this.setEditingState(!1),W(this,et,Q6).call(this),g(this,Da).resolve();return}this.setEditingState(!0),await W(this,et,J6).call(this),this.unselectAll();for(const i of g(this,is).values())i.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),g(this,Da).resolve();return}for(const i of g(this,ki).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();g(this,Da).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,qi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(g(this,Sl)){switch(e){case Wt.CREATE:this.currentLayer.addNewEditor();return;case Wt.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,py))==null||n.updateColor(t);break;case Wt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,gy)||$(this,gy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of g(this,Dn))i.updateParams(e,t);for(const i of g(this,Sl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const o of g(this,ki).values())o.editorType===e&&o.show(t);(((s=g(this,gy))==null?void 0:s.get(Wt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,et,qh).call(this,[[Wt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(g(this,fy)!==e){$(this,fy,e);for(const t of g(this,is).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of g(this,ki).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return g(this,ki).get(e)}addEditor(e){g(this,ki).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(g(this,fc)&&clearTimeout(g(this,fc)),$(this,fc,setTimeout(()=>{this.focusMainContainer(),$(this,fc,null)},0))),g(this,ki).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,If).has(e.annotationElementId))&&((t=g(this,Au))==null||t.remove(e.id))}addDeletedAnnotationElement(e){g(this,If).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,If).has(e)}removeDeletedAnnotationElement(e){g(this,If).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Jo)!==e&&($(this,Jo,e),e&&W(this,et,qh).call(this,e.propertiesToUpdate))}updateUI(e){g(this,et,Z6)===e&&W(this,et,qh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,Dn).has(e)){g(this,Dn).delete(e),e.unselect(),W(this,et,Ks).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Dn).add(e),e.select(),W(this,et,qh).call(this,e.propertiesToUpdate),W(this,et,Ks).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of g(this,Dn))t!==e&&t.unselect();g(this,Dn).clear(),g(this,Dn).add(e),e.select(),W(this,et,qh).call(this,e.propertiesToUpdate),W(this,et,Ks).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,Dn).has(e)}get firstSelectedEditor(){return g(this,Dn).values().next().value}unselect(e){e.unselect(),g(this,Dn).delete(e),W(this,et,Ks).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Dn).size!==0}get isEnterHandled(){return g(this,Dn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,xl).undo(),W(this,et,Ks).call(this,{hasSomethingToUndo:g(this,xl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,et,g1).call(this)})}redo(){g(this,xl).redo(),W(this,et,Ks).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,xl).hasSomethingToRedo(),isEmpty:W(this,et,g1).call(this)})}addCommands(e){g(this,xl).add(e),W(this,et,Ks).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,et,g1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,Dn)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)W(this,et,iS).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Jo))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Jo)||this.hasSelection}selectAll(){for(const e of g(this,Dn))e.commit();W(this,et,sS).call(this,g(this,ki).values())}unselectAll(){if(!(g(this,Jo)&&(g(this,Jo).commitOrRemove(),g(this,qi)!==Zt.NONE))&&this.hasSelection){for(const e of g(this,Dn))e.unselect();g(this,Dn).clear(),W(this,et,Ks).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,Zh)[0]+=e,g(this,Zh)[1]+=t;const[i,s]=g(this,Zh),o=[...g(this,Dn)],a=1e3;g(this,mc)&&clearTimeout(g(this,mc)),$(this,mc,setTimeout(()=>{$(this,mc,null),g(this,Zh)[0]=g(this,Zh)[1]=0,this.addCommands({cmd:()=>{for(const c of o)g(this,ki).has(c.id)&&c.translateInPage(i,s)},undo:()=>{for(const c of o)g(this,ki).has(c.id)&&c.translateInPage(-i,-s)},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$(this,dc,new Map);for(const e of g(this,Dn))g(this,dc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,dc))return!1;this.disableUserSelect(!1);const e=g(this,dc);$(this,dc,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const n=(i,s,o,a)=>{if(g(this,ki).has(i.id)){const c=g(this,is).get(a);c?i._setParentAndPosition(c,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)n(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)n(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(g(this,dc))for(const n of g(this,dc).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,Dn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Jo)===e}getActive(){return g(this,Jo)}getMode(){return g(this,qi)}get imageManager(){return pn(this,"imageManager",new Q5)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,d=t.rangeCount;h<d;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(h,d,p,y)=>({x:(d-i)/o,y:1-(h+p-n)/s,width:y/o,height:p/s});break;case"180":a=(h,d,p,y)=>({x:1-(h+p-n)/s,y:1-(d+y-i)/o,width:p/s,height:y/o});break;case"270":a=(h,d,p,y)=>({x:1-(d+y-i)/o,y:(h-n)/s,width:y/o,height:p/s});break;default:a=(h,d,p,y)=>({x:(h-n)/s,y:(d-i)/o,width:p/s,height:y/o});break}const c=[];for(let h=0,d=t.rangeCount;h<d;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:y,y:m,width:x,height:_}of p.getClientRects())x===0||_===0||c.push(a(y,m,x,_))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(g(this,yg)||$(this,yg,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=g(this,yg))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=g(this,yg))==null?void 0:i.get(e.data.id);if(!t)return;const n=g(this,Au).getRawValue(t);n&&(g(this,qi)===Zt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};mg=new WeakMap,Jo=new WeakMap,ki=new WeakMap,is=new WeakMap,gg=new WeakMap,Au=new WeakMap,yg=new WeakMap,xl=new WeakMap,Yh=new WeakMap,vg=new WeakMap,If=new WeakMap,dc=new WeakMap,Sl=new WeakMap,Mf=new WeakMap,uy=new WeakMap,hy=new WeakMap,bg=new WeakMap,dy=new WeakMap,fc=new WeakMap,Xh=new WeakMap,_g=new WeakMap,Kh=new WeakMap,pc=new WeakMap,g_=new WeakMap,Jh=new WeakMap,fy=new WeakMap,Qh=new WeakMap,Of=new WeakMap,py=new WeakMap,my=new WeakMap,qi=new WeakMap,Dn=new WeakMap,ku=new WeakMap,Ff=new WeakMap,gy=new WeakMap,yy=new WeakMap,Zh=new WeakMap,mc=new WeakMap,Cu=new WeakMap,vy=new WeakMap,Da=new WeakMap,et=new WeakSet,gb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},eS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of g(this,is).values())if(n.hasTextLayer(e))return n;return null},H6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=W(this,et,gb).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,pc)||$(this,pc,new T$(this)),g(this,pc).show(n,i,this.direction==="ltr"))},V6=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){g(this,ku)&&((s=g(this,pc))==null||s.hide(),$(this,ku,null),W(this,et,Ks).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===g(this,ku))return;const i=W(this,et,gb).call(this,e).closest(".textLayer");if(!i){g(this,ku)&&((o=g(this,pc))==null||o.hide(),$(this,ku,null),W(this,et,Ks).call(this,{hasSelectedText:!1}));return}if((a=g(this,pc))==null||a.hide(),$(this,ku,t),W(this,et,Ks).call(this,{hasSelectedText:!0}),!(g(this,qi)!==Zt.HIGHLIGHT&&g(this,qi)!==Zt.NONE)&&(g(this,qi)===Zt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$(this,Kh,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=g(this,qi)===Zt.HIGHLIGHT?W(this,et,eS).call(this,i):null;c==null||c.toggleDrawing();const h=new AbortController,d=this.combinedSignal(h),p=y=>{y.type==="pointerup"&&y.button!==0||(h.abort(),c==null||c.toggleDrawing(!0),y.type==="pointerup"&&W(this,et,yb).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("blur",p,{signal:d})}},yb=function(e=""){g(this,qi)===Zt.HIGHLIGHT?this.highlightSelection(e):g(this,uy)&&W(this,et,H6).call(this)},W6=function(){document.addEventListener("selectionchange",W(this,et,V6).bind(this),{signal:this._signal})},G6=function(){if(g(this,Xh))return;$(this,Xh,new AbortController);const e=this.combinedSignal(g(this,Xh));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Y6=function(){var e;(e=g(this,Xh))==null||e.abort(),$(this,Xh,null)},tS=function(){if(g(this,Qh))return;$(this,Qh,new AbortController);const e=this.combinedSignal(g(this,Qh));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},X6=function(){var e;(e=g(this,Qh))==null||e.abort(),$(this,Qh,null)},nS=function(){if(g(this,Yh))return;$(this,Yh,new AbortController);const e=this.combinedSignal(g(this,Yh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},rS=function(){var e;(e=g(this,Yh))==null||e.abort(),$(this,Yh,null)},K6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ks=function(e){Object.entries(e).some(([n,i])=>g(this,yy)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,yy),e)}),g(this,qi)===Zt.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,et,qh).call(this,[[Wt.HIGHLIGHT_FREE,!0]]))},qh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},J6=async function(){if(!g(this,Jh)){$(this,Jh,!0);const e=[];for(const t of g(this,is).values())e.push(t.enable());await Promise.all(e);for(const t of g(this,ki).values())t.enable()}},Q6=function(){if(this.unselectAll(),g(this,Jh)){$(this,Jh,!1);for(const e of g(this,is).values())e.disable();for(const e of g(this,ki).values())e.disable()}},iS=function(e){const t=g(this,is).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Z6=function(){let e=null;for(e of g(this,Dn));return e},g1=function(){if(g(this,ki).size===0)return!0;if(g(this,ki).size===1)for(const e of g(this,ki).values())return e.isEmpty();return!1},sS=function(e){for(const t of g(this,Dn))t.unselect();g(this,Dn).clear();for(const t of e)t.isEmpty()||(g(this,Dn).add(t),t.select());W(this,et,Ks).call(this,{hasSelectedEditor:this.hasSelection})},tt(Zm,"TRANSLATE_SMALL",1),tt(Zm,"TRANSLATE_BIG",10);let Dp=Zm;var $i,gc,Al,wg,yc,Qo,xg,vc,wo,Eu,Df,bc,ed,Ol,y1,vb;const Js=class Js{constructor(e){K(this,Ol);K(this,$i,null);K(this,gc,!1);K(this,Al,null);K(this,wg,null);K(this,yc,null);K(this,Qo,null);K(this,xg,!1);K(this,vc,null);K(this,wo,null);K(this,Eu,null);K(this,Df,null);K(this,bc,!1);$(this,wo,e),$(this,bc,e._uiManager.useNewAltTextFlow),g(Js,ed)||$(Js,ed,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Js._l10n??(Js._l10n=e)}async render(){const e=$(this,Al,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=$(this,wg,document.createElement("span"));e.append(t),g(this,bc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(Js,ed).missing),t.setAttribute("data-l10n-id",g(Js,ed)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,wo)._uiManager._signal;e.addEventListener("contextmenu",Xa,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),g(this,wo)._uiManager.editAltText(g(this,wo)),g(this,bc)&&g(this,wo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Ol,y1)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&($(this,xg,!0),i(s))},{signal:n}),await W(this,Ol,vb).call(this),e}finish(){g(this,Al)&&(g(this,Al).focus({focusVisible:g(this,xg)}),$(this,xg,!1))}isEmpty(){return g(this,bc)?g(this,$i)===null:!g(this,$i)&&!g(this,gc)}hasData(){return g(this,bc)?g(this,$i)!==null||!!g(this,Eu):this.isEmpty()}get guessedText(){return g(this,Eu)}async setGuessedText(e){g(this,$i)===null&&($(this,Eu,e),$(this,Df,await Js._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,Ol,vb).call(this))}toggleAltTextBadge(e=!1){var t;if(!g(this,bc)||g(this,$i)){(t=g(this,vc))==null||t.remove(),$(this,vc,null);return}if(!g(this,vc)){const n=$(this,vc,document.createElement("div"));n.className="noAltTextBadge",g(this,wo).div.append(n)}g(this,vc).classList.toggle("hidden",!e)}serialize(e){let t=g(this,$i);return!e&&g(this,Eu)===t&&(t=g(this,Df)),{altText:t,decorative:g(this,gc),guessedText:g(this,Eu),textWithDisclaimer:g(this,Df)}}get data(){return{altText:g(this,$i),decorative:g(this,gc)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&($(this,Eu,n),$(this,Df,i)),!(g(this,$i)===e&&g(this,gc)===t)&&(s||($(this,$i,e),$(this,gc,t)),W(this,Ol,vb).call(this))}toggle(e=!1){g(this,Al)&&(!e&&g(this,Qo)&&(clearTimeout(g(this,Qo)),$(this,Qo,null)),g(this,Al).disabled=!e)}shown(){g(this,wo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Ol,y1)}})}destroy(){var e,t;(e=g(this,Al))==null||e.remove(),$(this,Al,null),$(this,wg,null),$(this,yc,null),(t=g(this,vc))==null||t.remove(),$(this,vc,null)}};$i=new WeakMap,gc=new WeakMap,Al=new WeakMap,wg=new WeakMap,yc=new WeakMap,Qo=new WeakMap,xg=new WeakMap,vc=new WeakMap,wo=new WeakMap,Eu=new WeakMap,Df=new WeakMap,bc=new WeakMap,ed=new WeakMap,Ol=new WeakSet,y1=function(){return g(this,$i)&&"added"||g(this,$i)===null&&this.guessedText&&"review"||"missing"},vb=async function(){var i,s,o;const e=g(this,Al);if(!e)return;if(g(this,bc)){if(e.classList.toggle("done",!!g(this,$i)),e.setAttribute("data-l10n-id",g(Js,ed)[g(this,Ol,y1)]),(i=g(this,wg))==null||i.setAttribute("data-l10n-id",g(Js,ed)[`${g(this,Ol,y1)}-label`]),!g(this,$i)){(s=g(this,yc))==null||s.remove();return}}else{if(!g(this,$i)&&!g(this,gc)){e.classList.remove("done"),(o=g(this,yc))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=g(this,yc);if(!t){$(this,yc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${g(this,wo).id}`;const a=100,c=g(this,wo)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(g(this,Qo)),$(this,Qo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{$(this,Qo,setTimeout(()=>{$(this,Qo,null),g(this,yc).classList.add("show"),g(this,wo)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var h;g(this,Qo)&&(clearTimeout(g(this,Qo)),$(this,Qo,null)),(h=g(this,yc))==null||h.classList.remove("show")},{signal:c})}g(this,gc)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=g(this,$i)),t.parentNode||e.append(t);const n=g(this,wo).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},K(Js,ed,null),tt(Js,"_l10n",null);let l_=Js;var jf,kl,Nr,Sg,Bf,ss,Uf,td,by,zf,nd,_y,qf,Tu,_c,Ag,kg,ja,wy,y_,en,oS,xy,aS,lS,e8,t8,cS,uS,hS,n8,dS,r8,i8,s8,fS,v1;const Rn=class Rn{constructor(e){K(this,en);K(this,jf,null);K(this,kl,null);K(this,Nr,null);K(this,Sg,!1);K(this,Bf,!1);K(this,ss,null);K(this,Uf,null);K(this,td,null);K(this,by,"");K(this,zf,!1);K(this,nd,null);K(this,_y,!1);K(this,qf,!1);K(this,Tu,!1);K(this,_c,null);K(this,Ag,0);K(this,kg,0);K(this,ja,null);tt(this,"_editToolbar",null);tt(this,"_initialOptions",Object.create(null));tt(this,"_initialData",null);tt(this,"_isVisible",!0);tt(this,"_uiManager",null);tt(this,"_focusEventsAllowed",!0);K(this,wy,!1);K(this,y_,Rn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Rn.prototype._resizeWithKeyboard,t=Dp.TRANSLATE_SMALL,n=Dp.TRANSLATE_BIG;return pn(this,"_resizerKeyboardManager",new P2([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Rn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return pn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new R$({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Rn._l10n??(Rn._l10n=e),Rn._l10nResizer||(Rn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Rn._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Rn._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ur("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,wy)}set _isDraggable(e){var t;$(this,wy,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,y_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,en,v1).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,zf)?$(this,zf,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,o]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){W(this,en,oS).call(this,this.parentDimensions,e,t)}translateInPage(e,t){g(this,nd)||$(this,nd,[this.x,this.y]),W(this,en,oS).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){g(this,nd)||$(this,nd,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,c]=this.getBaseTranslation();s+=a,o+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,nd)&&(g(this,nd)[0]!==this.x||g(this,nd)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Rn,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(n-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(n,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(n,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(n-o,s));break}this.x=i/=t,this.y=s/=n;const[c,h]=this.getBaseTranslation();i+=c,s+=h;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return W(n=Rn,xy,aS).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return W(n=Rn,xy,aS).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,Bf)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!g(this,Bf)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!g(this,Bf)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,Nr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,qf)?this._editToolbar:(this._editToolbar=new K5(this),this.div.append(this._editToolbar.render()),g(this,Nr)&&await this._editToolbar.addAltText(g(this,Nr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,Nr))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Nr)||(l_.initialize(Rn._l10n),$(this,Nr,new l_(this)),g(this,jf)&&(g(this,Nr).data=g(this,jf),$(this,jf,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,Nr))==null?void 0:e.data}set altTextData(e){g(this,Nr)&&(g(this,Nr).data=e)}get guessedAltText(){var e;return(e=g(this,Nr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=g(this,Nr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=g(this,Nr))==null?void 0:t.serialize(e)}hasAltText(){return!!g(this,Nr)&&!g(this,Nr).isEmpty()}hasAltTextData(){var e;return((e=g(this,Nr))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Sg)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),W(this,en,dS).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),a_(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=to.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if($(this,zf,!0),this._isDraggable){W(this,en,n8).call(this,e);return}W(this,en,hS).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,_c)&&clearTimeout(g(this,_c)),$(this,_c,setTimeout(()=>{var e;$(this,_c,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,c]=this.pageTranslation,h=e/i,d=t/i,p=this.x*s,y=this.y*o,m=this.width*s,x=this.height*o;switch(n){case 0:return[p+h+a,o-y-d-x+c,p+h+m+a,o-y-d+c];case 90:return[p+d+a,o-y+h+c,p+d+x+a,o-y+h+m+c];case 180:return[p-h-m+a,o-y+d+c,p-h+a,o-y+d+x+c];case 270:return[p-d-x+a,o-y-h-m+c,p-d+a,o-y-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,o]=e,a=s-n,c=o-i;switch(this.rotation){case 0:return[n,t-o,a,c];case 90:return[n,t-i,c,a];case 180:return[s,t-i,a,c];case 270:return[s,t-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$(this,qf,!0)}disableEditMode(){$(this,qf,!1)}isInEditMode(){return g(this,qf)}shouldGetKeyboardEvents(){return g(this,Tu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){W(this,en,dS).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ur("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,$(i,jf,e.accessibilityData);const[s,o]=i.pageDimensions,[a,c,h,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=c/o,i.width=h/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,td))==null||e.abort(),$(this,td,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,_c)&&(clearTimeout(g(this,_c)),$(this,_c,null)),W(this,en,v1).call(this),this.removeEditToolbar(),g(this,ja)){for(const t of g(this,ja).values())clearTimeout(t);$(this,ja,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,en,e8).call(this),g(this,ss).classList.remove("hidden"),a_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),$(this,Uf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=g(this,ss).children;if(!g(this,kl)){$(this,kl,Array.from(t));const o=W(this,en,r8).bind(this),a=W(this,en,i8).bind(this),c=this._uiManager._signal;for(const h of g(this,kl)){const d=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:c}),h.addEventListener("blur",a,{signal:c}),h.addEventListener("focus",W(this,en,s8).bind(this,d),{signal:c}),h.setAttribute("data-l10n-id",Rn._l10nResizer[d])}}const n=g(this,kl)[0];let i=0;for(const o of t){if(o===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(g(this,kl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)g(this,ss).append(g(this,ss).firstChild);else if(s>i)for(let a=0;a<s-i;a++)g(this,ss).firstChild.before(g(this,ss).lastChild);let o=0;for(const a of t){const h=g(this,kl)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Rn._l10nResizer[h])}}W(this,en,fS).call(this,0),$(this,Tu,!0),g(this,ss).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){g(this,Tu)&&W(this,en,uS).call(this,g(this,by),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){W(this,en,v1).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=g(this,Nr))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,i,s;(e=g(this,ss))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=g(this,Nr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,_y)}set isEditing(e){$(this,_y,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){$(this,Bf,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){g(this,ja)||$(this,ja,new Map);const{action:n}=e;let i=g(this,ja).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,ja).delete(n),g(this,ja).size===0&&$(this,ja,null)},Rn._telemetryTimeout),g(this,ja).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),$(this,Sg,!1)}disable(){this.div&&(this.div.tabIndex=-1),$(this,Sg,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};jf=new WeakMap,kl=new WeakMap,Nr=new WeakMap,Sg=new WeakMap,Bf=new WeakMap,ss=new WeakMap,Uf=new WeakMap,td=new WeakMap,by=new WeakMap,zf=new WeakMap,nd=new WeakMap,_y=new WeakMap,qf=new WeakMap,Tu=new WeakMap,_c=new WeakMap,Ag=new WeakMap,kg=new WeakMap,ja=new WeakMap,wy=new WeakMap,y_=new WeakMap,en=new WeakSet,oS=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},xy=new WeakSet,aS=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},lS=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},e8=function(){if(g(this,ss))return;$(this,ss,document.createElement("div")),g(this,ss).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,ss).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",W(this,en,t8).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Xa,{signal:t}),i.tabIndex=-1}this.div.prepend(g(this,ss))},t8=function(e,t){var x;t.preventDefault();const{isMac:n}=to.platform;if(t.button!==0||t.ctrlKey&&n)return;(x=g(this,Nr))==null||x.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,en,uS).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Xa,{signal:o});const a=this.x,c=this.y,h=this.width,d=this.height,p=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var _;s.abort(),this.parent.togglePointerEvents(!0),(_=g(this,Nr))==null||_.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=p,this.div.style.cursor=y,W(this,en,cS).call(this,a,c,h,d)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},cS=function(e,t,n,i){const s=this.x,o=this.y,a=this.width,c=this.height;s===e&&o===t&&a===n&&c===i||this.addCommands({cmd:()=>{this.width=a,this.height=c,this.x=s,this.y=o;const[h,d]=this.parentDimensions;this.setDims(h*a,d*c),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[h,d]=this.parentDimensions;this.setDims(h*n,d*i),this.fixAndSetPosition()},mustExec:!0})},uS=function(e,t){const[n,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,c=this.height,h=Rn.MIN_SIZE/n,d=Rn.MIN_SIZE/i,p=de=>Math.round(de*1e4)/1e4,y=W(this,en,lS).call(this,this.rotation),m=(de,ie)=>[y[0]*de+y[2]*ie,y[1]*de+y[3]*ie],x=W(this,en,lS).call(this,360-this.rotation),_=(de,ie)=>[x[0]*de+x[2]*ie,x[1]*de+x[3]*ie];let A,S,N=!1,I=!1;switch(e){case"topLeft":N=!0,A=(de,ie)=>[0,0],S=(de,ie)=>[de,ie];break;case"topMiddle":A=(de,ie)=>[de/2,0],S=(de,ie)=>[de/2,ie];break;case"topRight":N=!0,A=(de,ie)=>[de,0],S=(de,ie)=>[0,ie];break;case"middleRight":I=!0,A=(de,ie)=>[de,ie/2],S=(de,ie)=>[0,ie/2];break;case"bottomRight":N=!0,A=(de,ie)=>[de,ie],S=(de,ie)=>[0,0];break;case"bottomMiddle":A=(de,ie)=>[de/2,ie],S=(de,ie)=>[de/2,0];break;case"bottomLeft":N=!0,A=(de,ie)=>[0,ie],S=(de,ie)=>[de,0];break;case"middleLeft":I=!0,A=(de,ie)=>[0,ie/2],S=(de,ie)=>[de,ie/2];break}const R=A(a,c),O=S(a,c);let U=m(...O);const B=p(s+U[0]),j=p(o+U[1]);let D=1,se=1,[F,H]=this.screenToPageTranslation(t.movementX,t.movementY);if([F,H]=_(F/n,H/i),N){const de=Math.hypot(a,c);D=se=Math.max(Math.min(Math.hypot(O[0]-R[0]-F,O[1]-R[1]-H)/de,1/a,1/c),h/a,d/c)}else I?D=Math.max(h,Math.min(1,Math.abs(O[0]-R[0]-F)))/a:se=Math.max(d,Math.min(1,Math.abs(O[1]-R[1]-H)))/c;const ne=p(a*D),ee=p(c*se);U=m(...S(ne,ee));const me=B-U[0],ge=j-U[1];this.width=ne,this.height=ee,this.x=me,this.y=ge,this.setDims(n*ne,i*ee),this.fixAndSetPosition()},hS=function(e){const{isMac:t}=to.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},n8=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),$(this,Ag,e.clientX),$(this,kg,e.clientY);const o=a=>{const{clientX:c,clientY:h}=a,[d,p]=this.screenToPageTranslation(c-g(this,Ag),h-g(this,kg));$(this,Ag,c),$(this,kg,h),this._uiManager.dragSelectedEditors(d,p)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const s=()=>{n.abort(),t&&this.div.classList.remove("moving"),$(this,zf,!1),this._uiManager.endDragSession()||W(this,en,hS).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},dS=function(){if(g(this,td)||!this.div)return;$(this,td,new AbortController);const e=this._uiManager.combinedSignal(g(this,td));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},r8=function(e){Rn._resizerKeyboardManager.exec(this,e)},i8=function(e){var t;g(this,Tu)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==g(this,ss)&&W(this,en,v1).call(this)},s8=function(e){$(this,by,g(this,Tu)?e:"")},fS=function(e){if(g(this,kl))for(const t of g(this,kl))t.tabIndex=e},v1=function(){if($(this,Tu,!1),W(this,en,fS).call(this,-1),g(this,Uf)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=g(this,Uf);W(this,en,cS).call(this,e,t,n,i),$(this,Uf,null)}},K(Rn,xy),tt(Rn,"_l10n",null),tt(Rn,"_l10nResizer",null),tt(Rn,"_borderLineWidth",-1),tt(Rn,"_colorManager",new Z5),tt(Rn,"_zIndex",1),tt(Rn,"_telemetryTimeout",1e3);let Bn=Rn;class R$ extends Bn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cN=3285377520,Oa=4294901760,cc=65535;class o8{constructor(e){this.h1=e?e&4294967295:cN,this.h2=e?e&4294967295:cN}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let _=0,A=e.length;_<A;_++){const S=e.charCodeAt(_);S<=255?t[n++]=S:(t[n++]=S>>>8,t[n++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,c=0,h=this.h1,d=this.h2;const p=3432918353,y=461845907,m=p&cc,x=y&cc;for(let _=0;_<i;_++)_&1?(a=o[_],a=a*p&Oa|a*m&cc,a=a<<15|a>>>17,a=a*y&Oa|a*x&cc,h^=a,h=h<<13|h>>>19,h=h*5+3864292196):(c=o[_],c=c*p&Oa|c*m&cc,c=c<<15|c>>>17,c=c*y&Oa|c*x&cc,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*p&Oa|a*m&cc,a=a<<15|a>>>17,a=a*y&Oa|a*x&cc,i&1?h^=a:d^=a}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Oa|e*36045&cc,t=t*4283543511&Oa|((t<<16|e>>>16)*2950163797&Oa)>>>16,e^=t>>>1,e=e*444984403&Oa|e*60499&cc,t=t*3301882366&Oa|((t<<16|e>>>16)*3120437893&Oa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const pS=Object.freeze({map:null,hash:"",transfer:void 0});var $f,Hf,Hi,v_,a8;class pk{constructor(){K(this,v_);K(this,$f,!1);K(this,Hf,null);K(this,Hi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=g(this,Hi).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return g(this,Hi).get(e)}remove(e){if(g(this,Hi).delete(e),g(this,Hi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of g(this,Hi).values())if(t instanceof Bn)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=g(this,Hi).get(e);let i=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(i=!0,n[s]=o);else i=!0,g(this,Hi).set(e,t);i&&W(this,v_,a8).call(this),t instanceof Bn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return g(this,Hi).has(e)}getAll(){return g(this,Hi).size>0?lk(g(this,Hi)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return g(this,Hi).size}resetModified(){g(this,$f)&&($(this,$f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new l8(this)}get serializable(){if(g(this,Hi).size===0)return pS;const e=new Map,t=new o8,n=[],i=Object.create(null);let s=!1;for(const[o,a]of g(this,Hi)){const c=a instanceof Bn?a.serialize(!1,i):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:pS}get editorStats(){let e=null;const t=new Map;for(const n of g(this,Hi).values()){if(!(n instanceof Bn))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,c]of Object.entries(i)){if(a==="type")continue;let h=o.get(a);h||(h=new Map,o.set(a,h));const d=h.get(c)??0;h.set(c,d+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){$(this,Hf,null)}get modifiedIds(){if(g(this,Hf))return g(this,Hf);const e=[];for(const t of g(this,Hi).values())!(t instanceof Bn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return $(this,Hf,{ids:new Set(e),hash:e.join(",")})}}$f=new WeakMap,Hf=new WeakMap,Hi=new WeakMap,v_=new WeakSet,a8=function(){g(this,$f)||($(this,$f,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sy;class l8 extends pk{constructor(t){super();K(this,Sy);const{map:n,hash:i,transfer:s}=t.serializable,o=structuredClone(n,s?{transfer:s}:null);$(this,Sy,{map:o,hash:i,transfer:s})}get print(){ur("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Sy)}get modifiedIds(){return pn(this,"modifiedIds",{ids:new Set,hash:""})}}Sy=new WeakMap;var Cg;class I${constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){K(this,Cg,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Cg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||g(this,Cg).has(e.loadedName))){if(Ti(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,o=new FontFace(n,i,s);this.addNativeFontFace(o);try{await o.load(),g(this,Cg).add(n),t==null||t(e)}catch{on(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ur("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw on(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return pn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Os||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),pn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ti(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(R,O){return R.charCodeAt(O)<<24|R.charCodeAt(O+1)<<16|R.charCodeAt(O+2)<<8|R.charCodeAt(O+3)&255}function i(R,O,U,B){const j=R.substring(0,O),D=R.substring(O+U);return j+B+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let h=0;function d(R,O){if(++h>30){on("Load test font never loaded."),O();return}if(c.font="30px "+R,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(d.bind(null,R,O))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=i(y,976,p.length,p);const x=16,_=1482184792;let A=n(y,x);for(s=0,o=p.length-3;s<o;s+=4)A=A-_+n(p,s)|0;s<p.length&&(A=A-_+n(p+"XXX",s)|0),y=i(y,x,4,y$(A));const S=`url(data:font/opentype;base64,${btoa(y)});`,N=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(N);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const R of[e.loadedName,p]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=R,I.append(O)}this._document.body.append(I),d(p,()=>{I.remove(),t.complete()})}}Cg=new WeakMap;class M${constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${S$(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){on(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=n.length;s<o;)switch(n[s++]){case gu.BEZIER_CURVE_TO:{const[a,c,h,d,p,y]=n.slice(s,s+6);i.push(m=>m.bezierCurveTo(a,c,h,d,p,y)),s+=6}break;case gu.MOVE_TO:{const[a,c]=n.slice(s,s+2);i.push(h=>h.moveTo(a,c)),s+=2}break;case gu.LINE_TO:{const[a,c]=n.slice(s,s+2);i.push(h=>h.lineTo(a,c)),s+=2}break;case gu.QUADRATIC_CURVE_TO:{const[a,c,h,d]=n.slice(s,s+4);i.push(p=>p.quadraticCurveTo(a,c,h,d)),s+=4}break;case gu.RESTORE:i.push(a=>a.restore());break;case gu.SAVE:i.push(a=>a.save());break;case gu.SCALE:Ti(i.length===2,"Scale command is only valid at the third position.");break;case gu.TRANSFORM:{const[a,c,h,d,p,y]=n.slice(s,s+6);i.push(m=>m.transform(a,c,h,d,p,y)),s+=6}break;case gu.TRANSLATE:{const[a,c]=n.slice(s,s+2);i.push(h=>h.translate(a,c)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let c=2,h=i.length;c<h;c++)i[c](o)}}}var Ay;class c8{constructor({enableHWA:e=!1}){K(this,Ay,!1);$(this,Ay,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Ay)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ur("Abstract method `_createCanvas` called.")}}Ay=new WeakMap;class O$ extends c8{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class u8{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ur("Abstract method `_fetch` called.")}}class h8 extends u8{async _fetch(e){const t=await J_(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):K_(t)}}class d8{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var Vf,Wf,wc,Nu,Ns,b_,Gf,it,Es,Um,zm,bb,qm,f8,mS,$m,b1,_1,gS,w1;class F$ extends d8{constructor({docId:t,ownerDocument:n=globalThis.document}){super();K(this,it);K(this,Vf);K(this,Wf);K(this,wc);K(this,Nu);K(this,Ns);K(this,b_);K(this,Gf,0);$(this,Nu,t),$(this,Ns,n)}addFilter(t){if(!t)return"none";let n=g(this,it,Es).get(t);if(n)return n;const[i,s,o]=W(this,it,bb).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(n=g(this,it,Es).get(a),n)return g(this,it,Es).set(t,n),n;const c=`g_${g(this,Nu)}_transfer_map_${Ys(this,Gf)._++}`,h=W(this,it,qm).call(this,c);g(this,it,Es).set(t,h),g(this,it,Es).set(a,h);const d=W(this,it,$m).call(this,c);return W(this,it,_1).call(this,i,s,o,d),h}addHCMFilter(t,n){var x;const i=`${t}-${n}`,s="base";let o=g(this,it,Um).get(s);if((o==null?void 0:o.key)===i||(o?((x=o.filter)==null||x.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},g(this,it,Um).set(s,o)),!t||!n))return o.url;const a=W(this,it,w1).call(this,t);t=kt.makeHexColor(...a);const c=W(this,it,w1).call(this,n);if(n=kt.makeHexColor(...c),g(this,it,zm).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const h=new Array(256);for(let _=0;_<=255;_++){const A=_/255;h[_]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const d=h.join(","),p=`g_${g(this,Nu)}_hcm_filter`,y=o.filter=W(this,it,$m).call(this,p);W(this,it,_1).call(this,d,d,d,y),W(this,it,mS).call(this,y);const m=(_,A)=>{const S=a[_]/255,N=c[_]/255,I=new Array(A+1);for(let R=0;R<=A;R++)I[R]=S+R/A*(N-S);return I.join(",")};return W(this,it,_1).call(this,m(0,5),m(1,5),m(2,5),y),o.url=W(this,it,qm).call(this,p),o.url}addAlphaFilter(t){let n=g(this,it,Es).get(t);if(n)return n;const[i]=W(this,it,bb).call(this,[t]),s=`alpha_${i}`;if(n=g(this,it,Es).get(s),n)return g(this,it,Es).set(t,n),n;const o=`g_${g(this,Nu)}_alpha_map_${Ys(this,Gf)._++}`,a=W(this,it,qm).call(this,o);g(this,it,Es).set(t,a),g(this,it,Es).set(s,a);const c=W(this,it,$m).call(this,o);return W(this,it,gS).call(this,i,c),a}addLuminosityFilter(t){let n=g(this,it,Es).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=W(this,it,bb).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=g(this,it,Es).get(s),n)return g(this,it,Es).set(t,n),n;const o=`g_${g(this,Nu)}_luminosity_map_${Ys(this,Gf)._++}`,a=W(this,it,qm).call(this,o);g(this,it,Es).set(t,a),g(this,it,Es).set(s,a);const c=W(this,it,$m).call(this,o);return W(this,it,f8).call(this,c),t&&W(this,it,gS).call(this,i,c),a}addHighlightHCMFilter(t,n,i,s,o){var N;const a=`${n}-${i}-${s}-${o}`;let c=g(this,it,Um).get(t);if((c==null?void 0:c.key)===a||(c?((N=c.filter)==null||N.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},g(this,it,Um).set(t,c)),!n||!i))return c.url;const[h,d]=[n,i].map(W(this,it,w1).bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),y=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,x]=[s,o].map(W(this,it,w1).bind(this));y<p&&([p,y,m,x]=[y,p,x,m]),g(this,it,zm).style.color="";const _=(I,R,O)=>{const U=new Array(256),B=(y-p)/O,j=I/255,D=(R-I)/(255*O);let se=0;for(let F=0;F<=O;F++){const H=Math.round(p+F*B),ne=j+F*D;for(let ee=se;ee<=H;ee++)U[ee]=ne;se=H+1}for(let F=se;F<256;F++)U[F]=U[se-1];return U.join(",")},A=`g_${g(this,Nu)}_hcm_${t}_filter`,S=c.filter=W(this,it,$m).call(this,A);return W(this,it,mS).call(this,S),W(this,it,_1).call(this,_(m[0],x[0],5),_(m[1],x[1],5),_(m[2],x[2],5),S),c.url=W(this,it,qm).call(this,A),c.url}destroy(t=!1){t&&g(this,it,Um).size!==0||(g(this,wc)&&(g(this,wc).parentNode.parentNode.remove(),$(this,wc,null)),g(this,Wf)&&(g(this,Wf).clear(),$(this,Wf,null)),$(this,Gf,0))}}Vf=new WeakMap,Wf=new WeakMap,wc=new WeakMap,Nu=new WeakMap,Ns=new WeakMap,b_=new WeakMap,Gf=new WeakMap,it=new WeakSet,Es=function(){return g(this,Wf)||$(this,Wf,new Map)},Um=function(){return g(this,b_)||$(this,b_,new Map)},zm=function(){if(!g(this,wc)){const t=g(this,Ns).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,Ns).createElementNS(vu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),$(this,wc,g(this,Ns).createElementNS(vu,"defs")),t.append(i),i.append(g(this,wc)),g(this,Ns).body.append(t)}return g(this,wc)},bb=function(t){if(t.length===1){const h=t[0],d=new Array(256);for(let y=0;y<256;y++)d[y]=h[y]/255;const p=d.join(",");return[p,p,p]}const[n,i,s]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let h=0;h<256;h++)o[h]=n[h]/255,a[h]=i[h]/255,c[h]=s[h]/255;return[o.join(","),a.join(","),c.join(",")]},qm=function(t){if(g(this,Vf)===void 0){$(this,Vf,"");const n=g(this,Ns).URL;n!==g(this,Ns).baseURI&&(Q_(n)?on('#createUrl: ignore "data:"-URL for performance reasons.'):$(this,Vf,n.split("#",1)[0]))}return`url(${g(this,Vf)}#${t})`},f8=function(t){const n=g(this,Ns).createElementNS(vu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},mS=function(t){const n=g(this,Ns).createElementNS(vu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},$m=function(t){const n=g(this,Ns).createElementNS(vu,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),g(this,it,zm).append(n),n},b1=function(t,n,i){const s=g(this,Ns).createElementNS(vu,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},_1=function(t,n,i,s){const o=g(this,Ns).createElementNS(vu,"feComponentTransfer");s.append(o),W(this,it,b1).call(this,o,"feFuncR",t),W(this,it,b1).call(this,o,"feFuncG",n),W(this,it,b1).call(this,o,"feFuncB",i)},gS=function(t,n){const i=g(this,Ns).createElementNS(vu,"feComponentTransfer");n.append(i),W(this,it,b1).call(this,i,"feFuncA",t)},w1=function(t){return g(this,it,zm).style.color=t,fk(getComputedStyle(g(this,it,zm)).getPropertyValue("color"))};class p8{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ur("Abstract method `_fetch` called.")}}class m8 extends p8{async _fetch(e){const t=await J_(e,"arraybuffer");return new Uint8Array(t)}}if(Os){var yS=Promise.withResolvers(),j1=null;(async()=>{const e=await Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:s,path2d:o}))})().then(e=>{j1=e,yS.resolve()},e=>{on(`loadPackages: ${e}`),j1=new Map,yS.resolve()})}class Pd{static get promise(){return yS.promise}static get(e){return j1==null?void 0:j1.get(e)}}async function g8(r){const t=await Pd.get("fs").promises.readFile(r);return new Uint8Array(t)}class D$ extends d8{}class j$ extends c8{_createCanvas(e,t){return Pd.get("canvas").createCanvas(e,t)}}class B$ extends u8{async _fetch(e){return g8(e)}}class U$ extends p8{async _fetch(e){return g8(e)}}const Zs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vS(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class mk{getPattern(){ur("Abstract method `getPattern` called.")}}class z$ extends mk{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Zs.STROKE||i===Zs.FILL){const o=t.current.getClippedPathBoundingBox(i,Lr(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,h=t.cachedCanvases.getCanvas("pattern",a,c),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),n=kt.transform(n,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),vS(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else vS(e,this._bbox),s=this._createGradient(e);return s}}function qx(r,e,t,n,i,s,o,a){const c=e.coords,h=e.colors,d=r.data,p=r.width*4;let y;c[t+1]>c[n+1]&&(y=t,t=n,n=y,y=s,s=o,o=y),c[n+1]>c[i+1]&&(y=n,n=i,i=y,y=o,o=a,a=y),c[t+1]>c[n+1]&&(y=t,t=n,n=y,y=s,s=o,o=y);const m=(c[t]+e.offsetX)*e.scaleX,x=(c[t+1]+e.offsetY)*e.scaleY,_=(c[n]+e.offsetX)*e.scaleX,A=(c[n+1]+e.offsetY)*e.scaleY,S=(c[i]+e.offsetX)*e.scaleX,N=(c[i+1]+e.offsetY)*e.scaleY;if(x>=N)return;const I=h[s],R=h[s+1],O=h[s+2],U=h[o],B=h[o+1],j=h[o+2],D=h[a],se=h[a+1],F=h[a+2],H=Math.round(x),ne=Math.round(N);let ee,me,ge,de,ie,ye,be,Z;for(let M=H;M<=ne;M++){if(M<A){const fe=M<x?0:(x-M)/(x-A);ee=m-(m-_)*fe,me=I-(I-U)*fe,ge=R-(R-B)*fe,de=O-(O-j)*fe}else{let fe;M>N?fe=1:A===N?fe=0:fe=(A-M)/(A-N),ee=_-(_-S)*fe,me=U-(U-D)*fe,ge=B-(B-se)*fe,de=j-(j-F)*fe}let J;M<x?J=0:M>N?J=1:J=(x-M)/(x-N),ie=m-(m-S)*J,ye=I-(I-D)*J,be=R-(R-se)*J,Z=O-(O-F)*J;const re=Math.round(Math.min(ee,ie)),ue=Math.round(Math.max(ee,ie));let pe=p*M+re*4;for(let fe=re;fe<=ue;fe++)J=(ee-fe)/(ee-ie),J<0?J=0:J>1&&(J=1),d[pe++]=me-(me-ye)*J|0,d[pe++]=ge-(ge-be)*J|0,d[pe++]=de-(de-Z)*J|0,d[pe++]=255}}function q$(r,e,t){const n=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(n.length/a)-1,h=a-1;for(s=0;s<c;s++){let d=s*a;for(let p=0;p<h;p++,d++)qx(r,t,n[d],n[d+1],n[d+a],i[d],i[d+1],i[d+a]),qx(r,t,n[d+a+1],n[d+1],n[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)qx(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class $$ extends mk{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=h/p,x=d/y,_={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/m,scaleY:1/x},A=p+2*2,S=y+2*2,N=n.getCanvas("mesh",A,S),I=N.context,R=I.createImageData(p,y);if(t){const U=R.data;for(let B=0,j=U.length;B<j;B+=4)U[B]=t[0],U[B+1]=t[1],U[B+2]=t[2],U[B+3]=255}for(const U of this._figures)q$(R,U,_);return I.putImageData(R,2,2),{canvas:N.canvas,offsetX:a-2*m,offsetY:c-2*x,scaleX:m,scaleY:x}}getPattern(e,t,n,i){vS(e,this._bbox);let s;if(i===Zs.SHADING)s=kt.singularValueDecompose2dScale(Lr(e));else if(s=kt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=kt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Zs.SHADING?null:this._background,t.cachedCanvases);return i!==Zs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class H$ extends mk{getPattern(){return"hotpink"}}function V$(r){switch(r[0]){case"RadialAxial":return new z$(r);case"Mesh":return new $$(r);case"Dummy":return new H$}throw new Error(`Unknown IR type: ${r[0]}`)}const uN={COLORED:1,UNCOLORED:2},__=class __{constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),Y_("TilingType: "+s);const d=t[0],p=t[1],y=t[2],m=t[3],x=y-d,_=m-p,A=kt.singularValueDecompose2dScale(this.matrix),S=kt.singularValueDecompose2dScale(this.baseTransform),N=A[0]*S[0],I=A[1]*S[1];let R=x,O=_,U=!1,B=!1;const j=Math.ceil(c*N),D=Math.ceil(h*I),se=Math.ceil(x*N),F=Math.ceil(_*I);j>=se?R=c:U=!0,D>=F?O=h:B=!0;const H=this.getSizeAndScale(R,this.ctx.canvas.width,N),ne=this.getSizeAndScale(O,this.ctx.canvas.height,I),ee=e.cachedCanvases.getCanvas("pattern",H.size,ne.size),me=ee.context,ge=a.createCanvasGraphics(me);if(ge.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ge,i,o),me.translate(-H.scale*d,-ne.scale*p),ge.transform(H.scale,0,0,ne.scale,0,0),me.save(),this.clipBbox(ge,d,p,y,m),ge.baseTransform=Lr(ge.ctx),ge.executeOperatorList(n),ge.endDrawing(),me.restore(),U||B){const de=ee.canvas;U&&(R=c),B&&(O=h);const ie=this.getSizeAndScale(R,this.ctx.canvas.width,N),ye=this.getSizeAndScale(O,this.ctx.canvas.height,I),be=ie.size,Z=ye.size,M=e.cachedCanvases.getCanvas("pattern-workaround",be,Z),J=M.context,re=U?Math.floor(x/c):0,ue=B?Math.floor(_/h):0;for(let pe=0;pe<=re;pe++)for(let fe=0;fe<=ue;fe++)J.drawImage(de,be*pe,Z*fe,be,Z,0,0,be,Z);return{canvas:M.canvas,scaleX:ie.scale,scaleY:ye.scale,offsetX:d,offsetY:p}}return{canvas:ee.canvas,scaleX:H.scale,scaleY:ne.scale,offsetX:d,offsetY:p}}getSizeAndScale(e,t,n){const i=Math.max(__.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const o=i-t,a=s-n;e.ctx.rect(t,n,o,a),e.current.updateRectMinMax(Lr(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case uN.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case uN.UNCOLORED:const a=kt.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new g$(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==Zs.SHADING&&(s=kt.transform(s,t.baseTransform),this.matrix&&(s=kt.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};tt(__,"MAX_PATTERN_SIZE",3e3);let bS=__;function W$({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=to.isLittleEndian?4278190080:255,[c,h]=o?[s,a]:[a,s],d=n>>3,p=n&7,y=r.length;t=new Uint32Array(t.buffer);let m=0;for(let x=0;x<i;x++){for(const A=e+d;e<A;e++){const S=e<y?r[e]:255;t[m++]=S&128?h:c,t[m++]=S&64?h:c,t[m++]=S&32?h:c,t[m++]=S&16?h:c,t[m++]=S&8?h:c,t[m++]=S&4?h:c,t[m++]=S&2?h:c,t[m++]=S&1?h:c}if(p===0)continue;const _=e<y?r[e++]:255;for(let A=0;A<p;A++)t[m++]=_&1<<7-A?h:c}return{srcPos:e,destPos:m}}const hN=16,dN=100,G$=15,fN=10,pN=1e3,ko=16;function Y$(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},r.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},r.transform=function(n,i,s,o,a,c){e.transform(n,i,s,o,a,c),this.__originalTransform(n,i,s,o,a,c)},r.setTransform=function(n,i,s,o,a,c){e.setTransform(n,i,s,o,a,c),this.__originalSetTransform(n,i,s,o,a,c)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,o,a){e.bezierCurveTo(t,n,i,s,o,a),this.__originalBezierCurveTo(t,n,i,s,o,a)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class X${constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Rv(r,e,t,n,i,s,o,a,c,h){const[d,p,y,m,x,_]=Lr(r);if(p===0&&y===0){const N=o*d+x,I=Math.round(N),R=a*m+_,O=Math.round(R),U=(o+c)*d+x,B=Math.abs(Math.round(U)-I)||1,j=(a+h)*m+_,D=Math.abs(Math.round(j)-O)||1;return r.setTransform(Math.sign(d),0,0,Math.sign(m),I,O),r.drawImage(e,t,n,i,s,0,0,B,D),r.setTransform(d,p,y,m,x,_),[B,D]}if(d===0&&m===0){const N=a*y+x,I=Math.round(N),R=o*p+_,O=Math.round(R),U=(a+h)*y+x,B=Math.abs(Math.round(U)-I)||1,j=(o+c)*p+_,D=Math.abs(Math.round(j)-O)||1;return r.setTransform(0,Math.sign(p),Math.sign(y),0,I,O),r.drawImage(e,t,n,i,s,0,0,D,B),r.setTransform(d,p,y,m,x,_),[D,B]}r.drawImage(e,t,n,i,s,o,a,c,h);const A=Math.hypot(d,p),S=Math.hypot(y,m);return[A*c,S*h]}function K$(r){const{width:e,height:t}=r;if(e>pN||t>pN)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,c,h;const d=e+7&-8;let p=new Uint8Array(d*t),y=0;for(const S of r.data){let N=128;for(;N>0;)p[y++]=S&N?0:255,N>>=1}let m=0;for(y=0,p[y]!==0&&(o[0]=1,++m),c=1;c<e;c++)p[y]!==p[y+1]&&(o[c]=p[y]?2:1,++m),y++;for(p[y]!==0&&(o[c]=2,++m),a=1;a<t;a++){y=a*d,h=a*s,p[y-d]!==p[y]&&(o[h]=p[y]?1:8,++m);let S=(p[y]?4:0)+(p[y-d]?8:0);for(c=1;c<e;c++)S=(S>>2)+(p[y+1]?4:0)+(p[y-d+1]?8:0),i[S]&&(o[h+c]=i[S],++m),y++;if(p[y-d]!==p[y]&&(o[h+c]=p[y]?2:4,++m),m>n)return null}for(y=d*(t-1),h=a*s,p[y]!==0&&(o[h]=8,++m),c=1;c<e;c++)p[y]!==p[y+1]&&(o[h+c]=p[y]?4:8,++m),y++;if(p[y]!==0&&(o[h+c]=4,++m),m>n)return null;const x=new Int32Array([0,s,-1,0,-s,0,0,0,1]),_=new Path2D;for(a=0;m&&a<=t;a++){let S=a*s;const N=S+e;for(;S<N&&!o[S];)S++;if(S===N)continue;_.moveTo(S%s,a);const I=S;let R=o[S];do{const O=x[R];do S+=O;while(!o[S]);const U=o[S];U!==5&&U!==10?(R=U,o[S]=0):(R=U&51*R>>4,o[S]&=R>>2|R<<2),_.lineTo(S%s,S/s|0),o[S]||--m}while(I!==S);--a}return p=null,o=null,function(S){S.save(),S.scale(1/e,-1/t),S.translate(0,-t),S.fill(_),S.beginPath(),S.restore()}}class mN{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=I6,this.textMatrixScale=1,this.fontMatrix=V5,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Cs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=kt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=kt.applyTransform(t,e),i=kt.applyTransform(t.slice(2),e),s=kt.applyTransform([t[0],t[3]],e),o=kt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){kt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,o,a,c,h,d){const p=kt.bezierBoundingBox(t,n,i,s,o,a,c,h,d);d||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Zs.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Zs.STROKE){t||ur("Stroke bounding box must include transform.");const i=kt.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=kt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Zs.FILL,t=null){return kt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function gN(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ko,s=(t-i)/ko,o=i===0?s:s+1,a=r.createImageData(n,ko);let c=0,h;const d=e.data,p=a.data;let y,m,x,_;if(e.kind===db.GRAYSCALE_1BPP){const A=d.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),N=S.length,I=n+7>>3,R=4294967295,O=to.isLittleEndian?4278190080:255;for(y=0;y<o;y++){for(x=y<s?ko:i,h=0,m=0;m<x;m++){const U=A-c;let B=0;const j=U>I?n:U*8-7,D=j&-8;let se=0,F=0;for(;B<D;B+=8)F=d[c++],S[h++]=F&128?R:O,S[h++]=F&64?R:O,S[h++]=F&32?R:O,S[h++]=F&16?R:O,S[h++]=F&8?R:O,S[h++]=F&4?R:O,S[h++]=F&2?R:O,S[h++]=F&1?R:O;for(;B<j;B++)se===0&&(F=d[c++],se=128),S[h++]=F&se?R:O,se>>=1}for(;h<N;)S[h++]=0;r.putImageData(a,0,y*ko)}}else if(e.kind===db.RGBA_32BPP){for(m=0,_=n*ko*4,y=0;y<s;y++)p.set(d.subarray(c,c+_)),c+=_,r.putImageData(a,0,m),m+=ko;y<o&&(_=n*i*4,p.set(d.subarray(c,c+_)),r.putImageData(a,0,m))}else if(e.kind===db.RGB_24BPP)for(x=ko,_=n*x,y=0;y<o;y++){for(y>=s&&(x=i,_=n*x),h=0,m=_;m--;)p[h++]=d[c++],p[h++]=d[c++],p[h++]=d[c++],p[h++]=255;r.putImageData(a,0,y*ko)}else throw new Error(`bad image kind: ${e.kind}`)}function yN(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ko,s=(t-i)/ko,o=i===0?s:s+1,a=r.createImageData(n,ko);let c=0;const h=e.data,d=a.data;for(let p=0;p<o;p++){const y=p<s?ko:i;({srcPos:c}=W$({src:h,srcPos:c,dest:d,width:n,height:y,nonBlackColor:0})),r.putImageData(a,0,p*ko)}}function u1(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Iv(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!Os){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function vN(r,e){if(e)return!0;const t=kt.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Nd.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const J$=["butt","round","square"],Q$=["miter","round","bevel"],Z$={},bN={};var Rd,_S,wS;const Sk=class Sk{constructor(e,t,n,i,s,{optionalContentConfig:o,markedContentStack:a=null},c,h){K(this,Rd);this.ctx=e,this.current=new mN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new X$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,n){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Lr(this.compositeCtx))}this.ctx.save(),Iv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Lr(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const c=s.length;if(c===a)return a;const h=c-a>fN&&typeof n=="function",d=h?Date.now()+G$:0;let p=0;const y=this.commonObjs,m=this.objs;let x;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(x=o[a],x!==_l.dependency)this[x].apply(this,s[a]);else for(const _ of s[a]){const A=_.startsWith("g_")?y:m;if(!A.has(_))return A.get(_,n),a}if(a++,a===c)return a;if(h&&++p>fN){if(Date.now()>d)return n(),a;p=0}}}endDrawing(){W(this,Rd,_S).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,Rd,wS).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=n,c=i,h="prescale1",d,p;for(;s>2&&a>1||o>2&&c>1;){let y=a,m=c;s>2&&a>1&&(y=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/y),o>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/m),d=this.cachedCanvases.getCanvas(h,y,m),p=d.context,p.clearRect(0,0,y,m),p.drawImage(e,0,0,a,c,0,0,y,m),e=d.canvas,a=y,c=m,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Lr(t);let c,h,d,p;if((e.bitmap||e.data)&&e.count>1){const j=e.bitmap||e.data.buffer;h=JSON.stringify(o?a:[a.slice(0,4),s]),c=this._cachedBitmapsMap.get(j),c||(c=new Map,this._cachedBitmapsMap.set(j,c));const D=c.get(h);if(D&&!o){const se=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:se,offsetY:F}}d=D}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,i),yN(p.context,e));let y=kt.transform(a,[1/n,0,0,-1/i,0,0]);y=kt.transform(y,[1,0,0,1,0,-i]);const[m,x,_,A]=kt.getAxialAlignedBoundingBox([0,0,n,i],y),S=Math.round(_-m)||1,N=Math.round(A-x)||1,I=this.cachedCanvases.getCanvas("fillCanvas",S,N),R=I.context,O=m,U=x;R.translate(-O,-U),R.transform(...y),d||(d=this._scaleImage(p.canvas,yu(R)),d=d.img,c&&o&&c.set(h,d)),R.imageSmoothingEnabled=vN(Lr(R),e.interpolate),Rv(R,d,0,0,d.width,d.height,0,0,n,i),R.globalCompositeOperation="source-in";const B=kt.transform(yu(R),[1,0,0,1,-O,-U]);return R.fillStyle=o?s.getPattern(t,this,B,Zs.FILL):s,R.fillRect(0,0,n,i),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,I.canvas)),{canvas:I.canvas,offsetX:Math.round(O),offsetY:Math.round(U)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=J$[e]}setLineJoin(e){this.ctx.lineJoin=Q$[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Lr(this.suspendedCtx)),u1(this.suspendedCtx,s),Y$(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],o=i[1],a=i[2]-s,c=i[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,n,a,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,o,a,c,h,d,p){let y=e.canvas,m=c-d,x=h-p;if(o){const A=kt.makeHexColor(...o);if(m<0||x<0||m+n>y.width||x+i>y.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,i),N=S.context;N.drawImage(y,-m,-x),N.globalCompositeOperation="destination-atop",N.fillStyle=A,N.fillRect(0,0,n,i),N.globalCompositeOperation="source-over",y=S.canvas,m=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(m,x,n,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=A,e.fillRect(m,x,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const _=new Path2D;_.rect(c,h,n,i),t.clip(_),t.globalCompositeOperation="destination-in",t.drawImage(y,m,x,n,i,c,h,n,i),t.restore()}save(){this.inSMaskMode?(u1(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u1(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,o){this.ctx.transform(e,t,n,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let o=s.x,a=s.y,c,h;const d=Lr(i),p=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,y=p?n.slice(0):null;for(let m=0,x=0,_=e.length;m<_;m++)switch(e[m]|0){case _l.rectangle:o=t[x++],a=t[x++];const A=t[x++],S=t[x++],N=o+A,I=a+S;i.moveTo(o,a),A===0||S===0?i.lineTo(N,I):(i.lineTo(N,a),i.lineTo(N,I),i.lineTo(o,I)),p||s.updateRectMinMax(d,[o,a,N,I]),i.closePath();break;case _l.moveTo:o=t[x++],a=t[x++],i.moveTo(o,a),p||s.updatePathMinMax(d,o,a);break;case _l.lineTo:o=t[x++],a=t[x++],i.lineTo(o,a),p||s.updatePathMinMax(d,o,a);break;case _l.curveTo:c=o,h=a,o=t[x+4],a=t[x+5],i.bezierCurveTo(t[x],t[x+1],t[x+2],t[x+3],o,a),s.updateCurvePathMinMax(d,c,h,t[x],t[x+1],t[x+2],t[x+3],o,a,y),x+=6;break;case _l.curveTo2:c=o,h=a,i.bezierCurveTo(o,a,t[x],t[x+1],t[x+2],t[x+3]),s.updateCurvePathMinMax(d,c,h,o,a,t[x],t[x+1],t[x+2],t[x+3],y),o=t[x+2],a=t[x+3],x+=4;break;case _l.curveTo3:c=o,h=a,o=t[x+2],a=t[x+3],i.bezierCurveTo(t[x],t[x+1],o,a,o,a),s.updateCurvePathMinMax(d,c,h,t[x],t[x+1],o,a,o,a,y),x+=4;break;case _l.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(d,y),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,yu(t),Zs.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,yu(t),Zs.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Z$}eoClip(){this.pendingClip=bN}beginText(){this.current.textMatrix=I6,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||V5,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&on("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=((d=n.systemFontInfo)==null?void 0:d.css)||`"${s}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const c=n.italic?"italic":"normal";let h=t;t<hN?h=hN:t>dN&&(h=dN),this.current.fontSizeScale=t/h,this.ctx.font=`${c} ${a} ${h}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,o){this.current.textMatrix=[e,t,n,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,o=this.current,a=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,d=c&Cs.FILL_STROKE_MASK,p=!!(c&Cs.ADD_TO_PATH_FLAG),y=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||p||y)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||y?(s.save(),s.translate(t,n),s.beginPath(),m(s,h),i&&s.setTransform(...i),(d===Cs.FILL||d===Cs.FILL_STROKE)&&s.fill(),(d===Cs.STROKE||d===Cs.FILL_STROKE)&&s.stroke(),s.restore()):((d===Cs.FILL||d===Cs.FILL_STROKE)&&s.fillText(e,t,n),(d===Cs.STROKE||d===Cs.FILL_STROKE)&&s.strokeText(e,t,n)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Lr(s),x:t,y:n,fontSize:h,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return pn(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,p=e.length,y=n.vertical,m=y?1:-1,x=n.defaultVMetrics,_=i*t.fontMatrix[0],A=t.textRenderingMode===Cs.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),h>0?s.scale(d,-1):s.scale(d,1);let S;if(t.patternFill){s.save();const U=t.fillColor.getPattern(s,this,yu(s),Zs.FILL);S=Lr(s),s.restore(),s.fillStyle=U}let N=t.lineWidth;const I=t.textMatrixScale;if(I===0||N===0){const U=t.textRenderingMode&Cs.FILL_STROKE_MASK;(U===Cs.STROKE||U===Cs.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=I;if(o!==1&&(s.scale(o,o),N/=o),s.lineWidth=N,n.isInvalidPDFjsFont){const U=[];let B=0;for(const j of e)U.push(j.unicode),B+=j.width;s.fillText(U.join(""),0,0),t.x+=B*_*d,s.restore(),this.compose();return}let R=0,O;for(O=0;O<p;++O){const U=e[O];if(typeof U=="number"){R+=m*U*i/1e3;continue}let B=!1;const j=(U.isSpace?c:0)+a,D=U.fontChar,se=U.accent;let F,H,ne=U.width;if(y){const me=U.vmetric||x,ge=-(U.vmetric?me[1]:ne*.5)*_,de=me[2]*_;ne=me?-me[0]:ne,F=ge/o,H=(R+de)/o}else F=R/o,H=0;if(n.remeasure&&ne>0){const me=s.measureText(D).width*1e3/i*o;if(ne<me&&this.isFontSubpixelAAEnabled){const ge=ne/me;B=!0,s.save(),s.scale(ge,1),F/=ge}else ne!==me&&(F+=(ne-me)/2e3*i/o)}if(this.contentVisible&&(U.isInFont||n.missingFile)){if(A&&!se)s.fillText(D,F,H);else if(this.paintChar(D,F,H,S),se){const me=F+i*se.offset.x/o,ge=H-i*se.offset.y/o;this.paintChar(se.fontChar,me,ge,S)}}const ee=y?ne*_-j*h:ne*_+j*h;R+=ee,B&&s.restore()}y?t.y-=R:t.x+=R*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,o=n.fontDirection,a=i.vertical?1:-1,c=n.charSpacing,h=n.wordSpacing,d=n.textHScale*o,p=n.fontMatrix||V5,y=e.length,m=n.textRenderingMode===Cs.INVISIBLE;let x,_,A,S;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(d,o),x=0;x<y;++x){if(_=e[x],typeof _=="number"){S=a*_*s/1e3,this.ctx.translate(S,0),n.x+=S*d;continue}const N=(_.isSpace?h:0)+c,I=i.charProcOperatorList[_.operatorListId];if(!I){on(`Type3 character "${_.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(I),this.restore()),A=kt.applyTransform([_.width,0],p)[0]*s+N,t.translate(A,0),n.x+=A*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,o){this.ctx.rect(n,i,s-n,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Lr(this.ctx),s={createCanvasGraphics:o=>new Sk(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new bS(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=kt.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=kt.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=V$(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,yu(t),Zs.SHADING);const i=yu(t);if(i){const{width:s,height:o}=t.canvas,[a,c,h,d]=kt.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,c,h-a,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ur("Should not call beginInlineImage")}beginImageData(){ur("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Lr(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(Lr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Y_("TODO: Support non-isolated groups."),e.knockout&&on("Knockout groups not supported.");const n=Lr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=kt.getAxialAlignedBoundingBox(e.bbox,Lr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=kt.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-o,1),h=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(d,c,h),y=p.context;y.translate(-o,-a),y.transform(...n),e.smask?this.smaskStack.push({canvas:p.canvas,context:y,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),u1(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Lr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=kt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(W(this,Rd,_S).call(this),Iv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[c,h]=kt.singularValueDecompose2dScale(Lr(this.ctx)),{viewportScale:d}=this,p=Math.ceil(o*this.outputScaleX*d),y=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,y);const{canvas:m,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(c,0,0,-h,0,a*h),Iv(this.ctx)}else Iv(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new mN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,Rd,wS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=K$(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=Lr(a);a.transform(t,n,i,s,0,0);const h=this._createMaskCanvas(e);a.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]);for(let d=0,p=o.length;d<p;d+=2){const y=kt.transform(c,[t,n,i,s,o[d],o[d+1]]),[m,x]=kt.applyTransform([0,0],y);a.drawImage(h.canvas,m,x)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:c,transform:h}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,c),p=d.context;p.save();const y=this.getObject(o,s);yN(p,y),p.globalCompositeOperation="source-in",p.fillStyle=i?n.getPattern(p,this,yu(t),Zs.FILL):n,p.fillRect(0,0,a,c),p.restore(),t.save(),t.transform(...h),t.scale(1,-1),Rv(t,d.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){on("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){on("Dependent image isn't ready yet");return}const o=s.width,a=s.height,c=[];for(let h=0,d=i.length;h<d;h+=2)c.push({transform:[t,0,0,n,i[h],i[h+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!Os){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,n).context;gN(c,e),s=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(s,yu(i));i.imageSmoothingEnabled=vN(Lr(i),e.interpolate),Rv(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,o).context;gN(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),Rv(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===bN?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Lr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let o,a;if(n===0&&i===0){const c=Math.abs(t),h=Math.abs(s);if(c===h)if(e===0)o=a=1/c;else{const d=c*e;o=a=d<1?1/d:1}else if(e===0)o=1/c,a=1/h;else{const d=c*e,p=h*e;o=d<1?1/d:1,a=p<1?1/p:1}}else{const c=Math.abs(t*s-n*i),h=Math.hypot(t,n),d=Math.hypot(i,s);if(e===0)o=d/c,a=h/c;else{const p=e*c;o=d>p?d/p:1,a=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(c=>c/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Rd=new WeakSet,_S=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},wS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let cg=Sk;for(const r in _l)cg.prototype[r]!==void 0&&(cg.prototype[_l[r]]=cg.prototype[r]);var ky,Cy;class Yu{static get workerPort(){return g(this,ky)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");$(this,ky,e)}static get workerSrc(){return g(this,Cy)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");$(this,Cy,e)}}ky=new WeakMap,Cy=new WeakMap,K(Yu,ky,null),K(Yu,Cy,"");const Mv={DATA:1,ERROR:2},di={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ko(r){switch(r instanceof Error||typeof r=="object"&&r!==null||ur('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Kp(r.message);case"MissingPDFException":return new Xp(r.message);case"PasswordException":return new W5(r.message,r.code);case"UnexpectedResponseException":return new X_(r.message,r.status);case"UnknownErrorException":return new G5(r.message,r.details);default:return new G5(r.message,r.toString())}}var Eg,Ga,y8,v8,b8,_b;class x1{constructor(e,t,n){K(this,Ga);K(this,Eg,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",W(this,Ga,y8).bind(this),{signal:g(this,Eg).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:h.desiredSize},i),d.promise},pull:h=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:o,targetName:a,stream:di.PULL,streamId:s,desiredSize:h.desiredSize}),d.promise},cancel:h=>{Ti(h instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:di.CANCEL,streamId:s,reason:Ko(h)}),d.promise}},n)}destroy(){var e;(e=g(this,Eg))==null||e.abort(),$(this,Eg,null)}}Eg=new WeakMap,Ga=new WeakSet,y8=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,Ga,b8).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Mv.DATA)i.resolve(e.data);else if(e.callback===Mv.ERROR)i.reject(Ko(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:n,targetName:i,callback:Mv.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:i,callback:Mv.ERROR,callbackId:e.callbackId,reason:Ko(o)})});return}if(e.streamId){W(this,Ga,v8).call(this,e);return}t(e.data)},v8=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(h,d=1,p){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=d,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:di.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:di.CLOSE,streamId:t}),delete o.streamSinks[t])},error(h){Ti(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:di.ERROR,streamId:t,reason:Ko(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(h){h(a(e.data,c))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:di.START_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:n,targetName:i,stream:di.START_COMPLETE,streamId:t,reason:Ko(h)})})},b8=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case di.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ko(e.reason));break;case di.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ko(e.reason));break;case di.PULL:if(!a){s.postMessage({sourceName:n,targetName:i,stream:di.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(c){var h;c((h=a.onPull)==null?void 0:h.call(a))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:di.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:di.PULL_COMPLETE,streamId:t,reason:Ko(c)})});break;case di.ENQUEUE:if(Ti(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case di.CLOSE:if(Ti(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),W(this,Ga,_b).call(this,o,t);break;case di.ERROR:Ti(o,"error should have stream controller"),o.controller.error(Ko(e.reason)),W(this,Ga,_b).call(this,o,t);break;case di.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ko(e.reason)),W(this,Ga,_b).call(this,o,t);break;case di.CANCEL:if(!a)break;new Promise(function(c){var h;c((h=a.onCancel)==null?void 0:h.call(a,Ko(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:di.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:di.CANCEL_COMPLETE,streamId:t,reason:Ko(c)})}),a.sinkCapability.reject(Ko(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_b=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Yf,Ey;class eH{constructor({parsedData:e,rawData:t}){K(this,Yf);K(this,Ey);$(this,Yf,e),$(this,Ey,t)}getRaw(){return g(this,Ey)}get(e){return g(this,Yf).get(e)??null}getAll(){return lk(g(this,Yf))}has(e){return g(this,Yf).has(e)}}Yf=new WeakMap,Ey=new WeakMap;const Hm=Symbol("INTERNAL");var Ty,Ny,Py,Tg;class tH{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){K(this,Ty,!1);K(this,Ny,!1);K(this,Py,!1);K(this,Tg,!0);$(this,Ty,!!(e&sa.DISPLAY)),$(this,Ny,!!(e&sa.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(g(this,Py))return g(this,Tg);if(!g(this,Tg))return!1;const{print:e,view:t}=this.usage;return g(this,Ty)?(t==null?void 0:t.viewState)!=="OFF":g(this,Ny)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Hm&&ur("Internal method `_setVisible` called."),$(this,Py,n),$(this,Tg,t)}}Ty=new WeakMap,Ny=new WeakMap,Py=new WeakMap,Tg=new WeakMap;var rd,jn,Ng,Pg,Ly,xS;class nH{constructor(e,t=sa.DISPLAY){K(this,Ly);K(this,rd,null);K(this,jn,new Map);K(this,Ng,null);K(this,Pg,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,$(this,Pg,e.order);for(const n of e.groups)g(this,jn).set(n.id,new tH(t,n));if(e.baseState==="OFF")for(const n of g(this,jn).values())n._setVisible(Hm,!1);for(const n of e.on)g(this,jn).get(n)._setVisible(Hm,!0);for(const n of e.off)g(this,jn).get(n)._setVisible(Hm,!1);$(this,Ng,this.getHash())}}isVisible(e){if(g(this,jn).size===0)return!0;if(!e)return Y_("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,jn).has(e.id)?g(this,jn).get(e.id).visible:(on(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,Ly,xS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!g(this,jn).has(t))return on(`Optional content group not found: ${t}`),!0;if(g(this,jn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!g(this,jn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!g(this,jn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!g(this,jn).has(t))return on(`Optional content group not found: ${t}`),!0;if(!g(this,jn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!g(this,jn).has(t))return on(`Optional content group not found: ${t}`),!0;if(g(this,jn).get(t).visible)return!1}return!0}return on(`Unknown optional content policy ${e.policy}.`),!0}return on(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=g(this,jn).get(e);if(!i){on(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=g(this,jn).get(a))==null||s._setVisible(Hm,!1,!0));i._setVisible(Hm,!!t,!0),$(this,rd,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=g(this,jn).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}$(this,rd,null)}get hasInitialVisibility(){return g(this,Ng)===null||this.getHash()===g(this,Ng)}getOrder(){return g(this,jn).size?g(this,Pg)?g(this,Pg).slice():[...g(this,jn).keys()]:null}getGroups(){return g(this,jn).size>0?lk(g(this,jn)):null}getGroup(e){return g(this,jn).get(e)||null}getHash(){if(g(this,rd)!==null)return g(this,rd);const e=new o8;for(const[t,n]of g(this,jn))e.update(`${t}:${n.visible}`);return $(this,rd,e.hexdigest())}}rd=new WeakMap,jn=new WeakMap,Ng=new WeakMap,Pg=new WeakMap,Ly=new WeakSet,xS=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=W(this,Ly,xS).call(this,s);else if(g(this,jn).has(s))o=g(this,jn).get(s).visible;else return on(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class rH{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ti(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),e.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ti(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ti(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iH(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new sH(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class iH{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=hk(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sH{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function oH(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let d=a(t);return d=unescape(d),d=c(d),d=h(d),s(d)}if(t=o(r),t){const d=h(t);return s(d)}if(t=n("filename","i").exec(r),t){t=t[1];let d=a(t);return d=h(d),s(d)}function n(d,p){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(d,p){if(d){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const y=new TextDecoder(d,{fatal:!0}),m=K_(p);p=y.decode(m),e=!1}catch{}}return p}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const p=[];let y;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=m.exec(d))!==null;){let[,_,A,S]=y;if(_=parseInt(_,10),_ in p){if(_===0)break;continue}p[_]=[A,S]}const x=[];for(let _=0;_<p.length&&_ in p;++_){let[A,S]=p[_];S=a(S),A&&(S=unescape(S),_===0&&(S=c(S))),x.push(S)}return x.join("")}function a(d){if(d.startsWith('"')){const p=d.slice(1).split('\\"');for(let y=0;y<p.length;++y){const m=p[y].indexOf('"');m!==-1&&(p[y]=p[y].slice(0,m),p.length=y+1),p[y]=p[y].replaceAll(/\\(.)/g,"$1")}d=p.join('"')}return d}function c(d){const p=d.indexOf("'");if(p===-1)return d;const y=d.slice(0,p),x=d.slice(p+1).replace(/^[^']*'/,"");return i(y,x)}function h(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,y,m,x){if(m==="q"||m==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,A){return String.fromCharCode(parseInt(A,16))}),i(y,x);try{x=atob(x)}catch{}return i(y,x)})}return""}function gk(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function yk({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function vk(r){const e=r.get("Content-Disposition");if(e){let t=oH(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(hk(t))return t}return null}function Z_(r,e){return r===404||r===0&&e.startsWith("file:")?new Xp('Missing PDF "'+e+'".'):new X_(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function _8(r){return r===200||r===206}function w8(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function x8(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(on(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class _N{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=gk(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ti(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new lH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class aH{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,w8(n,this._withCredentials,this._abortController)).then(s=>{if(!_8(s.status))throw Z_(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:c}=yk({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=vk(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Kp("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:x8(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class lH{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const o=i.url;fetch(o,w8(s,this._withCredentials,this._abortController)).then(a=>{if(!_8(a.status))throw Z_(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:x8(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const $x=200,Hx=206;function cH(r){const e=r.response;return typeof e!="string"?e:K_(e).buffer}class uH{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=gk(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Hx):i.expectedStatus=$x,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var c,h,d;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(c=n.onError)==null||c.call(n,i.status);return}const s=i.status||$x;if(!(s===$x&&n.expectedStatus===Hx)&&s!==n.expectedStatus){(h=n.onError)==null||h.call(n,i.status);return}const a=cH(i);if(s===Hx){const p=i.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);n.onDone({begin:parseInt(y[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):(d=n.onError)==null||d.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class hH{constructor(e){this._source=e,this._manager=new uH(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ti(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dH(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new fH(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class dH{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...c]=o.split(": ");return[a,c.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=yk({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=vk(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Z_(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fH{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Z_(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pH=/^[a-z][a-z0-9\-+.]+:/i;function mH(r){if(pH.test(r))return new URL(r);const e=Pd.get("url");return new URL(e.pathToFileURL(r))}function S8(r,e,t){return r.protocol==="http:"?Pd.get("http").request(r,{headers:e},t):Pd.get("https").request(r,{headers:e},t)}class gH{constructor(e){this.source=e,this.url=mH(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=gk(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ti(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bH(this):new yH(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new _H(this,e,t):new vH(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class A8{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Kp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k8{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class yH extends A8{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const c=new Xp(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=yk({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=vk(s)};this._request=S8(this._url,t,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class vH extends k8{constructor(e,t,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${n-1}`;const s=o=>{if(o.statusCode===404){const a=new Xp(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=S8(this._url,i,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class bH extends A8{constructor(e){super(e);const t=Pd.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Xp(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class _H extends k8{constructor(e,t,n){super(e);const i=Pd.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}}const wH=1e5,bo=30,xH=.8;var BN,id,xo,Ry,Iy,Xf,Pu,My,Oy,Kf,Lg,Rg,sd,Ig,Fy,Mg,Jf,Dy,jy,Vr,Qf,Zf,By,od,Og,ih,C8,E8,AS,pa,wb,kS,T8,N8;let SS=(Vr=class{constructor({textContentSource:e,container:t,viewport:n}){K(this,ih);K(this,id,Promise.withResolvers());K(this,xo,null);K(this,Ry,!1);K(this,Iy,!!((BN=globalThis.FontInspector)!=null&&BN.enabled));K(this,Xf,null);K(this,Pu,null);K(this,My,0);K(this,Oy,0);K(this,Kf,null);K(this,Lg,null);K(this,Rg,0);K(this,sd,0);K(this,Ig,Object.create(null));K(this,Fy,[]);K(this,Mg,null);K(this,Jf,[]);K(this,Dy,new WeakMap);K(this,jy,null);var c;if(e instanceof ReadableStream)$(this,Mg,e);else if(typeof e=="object")$(this,Mg,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');$(this,xo,$(this,Lg,t)),$(this,sd,n.scale*(globalThis.devicePixelRatio||1)),$(this,Rg,n.rotation),$(this,Pu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=n.rawDims;$(this,jy,[1,0,0,-1,-o,a+s]),$(this,Oy,i),$(this,My,s),W(c=Vr,pa,T8).call(c),Fp(t,n),g(this,id).promise.finally(()=>{g(Vr,Og).delete(this),$(this,Pu,null),$(this,Ig,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=to.platform;return pn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,Kf).read().then(({value:t,done:n})=>{if(n){g(this,id).resolve();return}g(this,Xf)??$(this,Xf,t.lang),Object.assign(g(this,Ig),t.styles),W(this,ih,C8).call(this,t.items),e()},g(this,id).reject)};return $(this,Kf,g(this,Mg).getReader()),g(Vr,Og).add(this),e(),g(this,id).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,Rg)&&(t==null||t(),$(this,Rg,i),Fp(g(this,Lg),{rotation:i})),n!==g(this,sd)){t==null||t(),$(this,sd,n);const o={div:null,properties:null,ctx:W(s=Vr,pa,wb).call(s,g(this,Xf))};for(const a of g(this,Jf))o.properties=g(this,Dy).get(a),o.div=a,W(this,ih,AS).call(this,o)}}cancel(){var t;const e=new Kp("TextLayer task cancelled.");(t=g(this,Kf))==null||t.cancel(e).catch(()=>{}),$(this,Kf,null),g(this,id).reject(e)}get textDivs(){return g(this,Jf)}get textContentItemsStr(){return g(this,Fy)}static cleanup(){if(!(g(this,Og).size>0)){g(this,Qf).clear();for(const{canvas:e}of g(this,Zf).values())e.remove();g(this,Zf).clear()}}},id=new WeakMap,xo=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,Xf=new WeakMap,Pu=new WeakMap,My=new WeakMap,Oy=new WeakMap,Kf=new WeakMap,Lg=new WeakMap,Rg=new WeakMap,sd=new WeakMap,Ig=new WeakMap,Fy=new WeakMap,Mg=new WeakMap,Jf=new WeakMap,Dy=new WeakMap,jy=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,By=new WeakMap,od=new WeakMap,Og=new WeakMap,ih=new WeakSet,C8=function(e){var i,s;if(g(this,Ry))return;(s=g(this,Pu)).ctx??(s.ctx=W(i=Vr,pa,wb).call(i,g(this,Xf)));const t=g(this,Jf),n=g(this,Fy);for(const o of e){if(t.length>wH){on("Ignoring additional textDivs for performance reasons."),$(this,Ry,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=g(this,xo);$(this,xo,document.createElement("span")),g(this,xo).classList.add("markedContent"),o.id!==null&&g(this,xo).setAttribute("id",`${o.id}`),a.append(g(this,xo))}else o.type==="endMarkedContent"&&$(this,xo,g(this,xo).parentNode);continue}n.push(o.str),W(this,ih,E8).call(this,o)}},E8=function(e){var _;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,Jf).push(t);const i=kt.transform(g(this,jy),e.transform);let s=Math.atan2(i[1],i[0]);const o=g(this,Ig)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=g(this,Iy)&&o.fontSubstitution||o.fontFamily;a=Vr.fontFamilyMap.get(a)||a;const c=Math.hypot(i[2],i[3]),h=c*W(_=Vr,pa,N8).call(_,a,g(this,Xf));let d,p;s===0?(d=i[4],p=i[5]-h):(d=i[4]+h*Math.sin(s),p=i[5]-h*Math.cos(s));const y="calc(var(--scale-factor)*",m=t.style;g(this,xo)===g(this,Lg)?(m.left=`${(100*d/g(this,Oy)).toFixed(2)}%`,m.top=`${(100*p/g(this,My)).toFixed(2)}%`):(m.left=`${y}${d.toFixed(2)}px)`,m.top=`${y}${p.toFixed(2)}px)`),m.fontSize=`${y}${(g(Vr,od)*c).toFixed(2)}px)`,m.fontFamily=a,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,g(this,Iy)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);A!==S&&Math.max(A,S)/Math.min(A,S)>1.5&&(x=!0)}if(x&&(n.canvasWidth=o.vertical?e.height:e.width),g(this,Dy).set(t,n),g(this,Pu).div=t,g(this,Pu).properties=n,W(this,ih,AS).call(this,g(this,Pu)),n.hasText&&g(this,xo).append(t),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),g(this,xo).append(A)}},AS=function(e){var a;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let o="";if(g(Vr,od)>1&&(o=`scale(${1/g(Vr,od)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:h,fontSize:d}=n;W(a=Vr,pa,kS).call(a,i,d*g(this,sd),c);const{width:p}=i.measureText(t.textContent);p>0&&(o=`scaleX(${h*g(this,sd)/p}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)},pa=new WeakSet,wb=function(e=null){let t=g(this,Zf).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,Zf).set(e,t),g(this,By).set(t,{size:0,family:""})}return t},kS=function(e,t,n){const i=g(this,By).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},T8=function(){if(g(this,od)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),$(this,od,e.getBoundingClientRect().height),e.remove()},N8=function(e,t){const n=g(this,Qf).get(e);if(n)return n;const i=W(this,pa,wb).call(this,t);i.canvas.width=i.canvas.height=bo,W(this,pa,kS).call(this,i,bo,e);const s=i.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const d=o/(o+a);return g(this,Qf).set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,bo,bo),i.strokeText("g",0,0);let c=i.getImageData(0,0,bo,bo).data;a=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){a=Math.ceil(d/4/bo);break}i.clearRect(0,0,bo,bo),i.strokeText("A",0,bo),c=i.getImageData(0,0,bo,bo).data,o=0;for(let d=0,p=c.length;d<p;d+=4)if(c[d]>0){o=bo-Math.floor(d/4/bo);break}i.canvas.width=i.canvas.height=0;const h=o?o/(o+a):xH;return g(this,Qf).set(e,h),h},K(Vr,pa),K(Vr,Qf,new Map),K(Vr,Zf,new Map),K(Vr,By,new WeakMap),K(Vr,od,null),K(Vr,Og,new Set),Vr);class ry{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var c;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(ry.shouldBuildText(a))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const h of s.children)i(h)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const SH=65536,AH=100,kH=5e3,CH=Os?j$:O$,EH=Os?B$:h8,TH=Os?D$:F$,NH=Os?U$:m8;function PH(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new CS,{docId:t}=e,n=r.url?LH(r.url):null,i=r.data?RH(r.data):null,s=r.httpHeaders||null,o=r.withCredentials===!0,a=r.password??null,c=r.range instanceof P8?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:SH;let d=r.worker instanceof ug?r.worker:null;const p=r.verbosity,y=typeof r.docBaseUrl=="string"&&!Q_(r.docBaseUrl)?r.docBaseUrl:null,m=typeof r.cMapUrl=="string"?r.cMapUrl:null,x=r.cMapPacked!==!1,_=r.CMapReaderFactory||EH,A=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,S=r.StandardFontDataFactory||NH,N=r.stopAtErrors!==!0,I=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,R=r.isEvalSupported!==!1,O=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Os,U=typeof r.isChrome=="boolean"?r.isChrome:!to.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),B=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,j=typeof r.disableFontFace=="boolean"?r.disableFontFace:Os,D=r.fontExtraProperties===!0,se=r.enableXfa===!0,F=r.ownerDocument||globalThis.document,H=r.disableRange===!0,ne=r.disableStream===!0,ee=r.disableAutoFetch===!0,me=r.pdfBug===!0,ge=r.CanvasFactory||CH,de=r.FilterFactory||TH,ie=r.enableHWA===!0,ye=c?c.length:r.length??NaN,be=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Os&&!j,Z=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:_===h8&&S===m8&&m&&A&&m1(m,document.baseURI)&&m1(A,document.baseURI);r.canvasFactory&&lN("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&lN("`filterFactory`-instance option, please use `FilterFactory` instead.");const M=null;d$(p);const J={canvasFactory:new ge({ownerDocument:F,enableHWA:ie}),filterFactory:new de({docId:t,ownerDocument:F}),cMapReaderFactory:Z?null:new _({baseUrl:m,isCompressed:x}),standardFontDataFactory:Z?null:new S({baseUrl:A})};if(!d){const pe={verbosity:p,port:Yu.workerPort};d=pe.port?ug.fromPort(pe):new ug(pe),e._worker=d}const re={docId:t,apiVersion:"4.8.69",data:i,password:a,disableAutoFetch:ee,rangeChunkSize:h,length:ye,docBaseUrl:y,enableXfa:se,evaluatorOptions:{maxImageSize:I,disableFontFace:j,ignoreErrors:N,isEvalSupported:R,isOffscreenCanvasSupported:O,isChrome:U,canvasMaxAreaInBytes:B,fontExtraProperties:D,useSystemFonts:be,cMapUrl:Z?m:null,standardFontDataUrl:Z?A:null}},ue={disableFontFace:j,fontExtraProperties:D,ownerDocument:F,pdfBug:me,styleElement:M,loadingParams:{disableAutoFetch:ee,enableXfa:se}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const pe=d.messageHandler.sendWithPromise("GetDocRequest",re,i?[i.buffer]:null);let fe;if(c)fe=new rH(c,{disableRange:H,disableStream:ne});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ce;Os?Ce=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&m1(n)?_N:gH:Ce=m1(n)?_N:hH,fe=new Ce({url:n,length:ye,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:H,disableStream:ne})}return pe.then(Ce=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ke=new x1(t,Ce,d.port),xe=new FH(ke,e,fe,ue,J);e._transport=xe,ke.send("Ready",null)})}).catch(e._capability.reject),e}function LH(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(Os&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RH(r){if(Os&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return K_(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wN(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var w_;const x_=class x_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ys(x_,w_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};w_=new WeakMap,K(x_,w_,0);let CS=x_,P8=class{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ur("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class IH{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ad,Lu,$a,Vm,xb;class MH{constructor(e,t,n,i=!1){K(this,$a);K(this,ad,null);K(this,Lu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new aN:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new L8,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new N2({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Vh.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:p=!1}){var R,O;(R=this._stats)==null||R.time("Overall");const y=this._transport.getRenderingIntent(n,i,d,p),{renderingIntent:m,cacheKey:x}=y;$(this,Lu,!1),W(this,$a,xb).call(this),a||(a=this._transport.getOptionalContentConfig(m));let _=this._intentStates.get(x);_||(_=Object.create(null),this._intentStates.set(x,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const A=!!(m&sa.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(y));const S=U=>{var B;_.renderTasks.delete(N),(this._maybeCleanupAfterRender||A)&&$(this,Lu,!0),W(this,$a,Vm).call(this,!A),U?(N.capability.reject(U),this._abortOperatorList({intentState:_,reason:U instanceof Error?U:new Error(U)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new TS({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h});(_.renderTasks||(_.renderTasks=new Set)).add(N);const I=N.task;return Promise.all([_.displayReadyCapability.promise,a]).then(([U,B])=>{var j;if(this.destroyed){S();return}if((j=this._stats)==null||j.time("Rendering"),!(B.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:U,optionalContentConfig:B}),N.operatorListChanged()}).catch(S),I}getOperatorList({intent:e="display",annotationMode:t=Vh.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var h;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,n,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ry.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){o.read().then(function({value:c,done:h}){if(h){n(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),$(this,Lu,!1),W(this,$a,xb).call(this),Promise.all(e)}cleanup(e=!1){$(this,Lu,!0);const t=W(this,$a,Vm).call(this,!1);return e&&t&&this._stats&&(this._stats=new aN),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&W(this,$a,Vm).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:o}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),h=this._intentStates.get(t);h.streamReader=c;const d=()=>{c.read().then(({value:p,done:y})=>{if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),d())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const y of h.renderTasks)y.operatorListChanged();W(this,$a,Vm).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof uk){let i=AH;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Kp(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ad=new WeakMap,Lu=new WeakMap,$a=new WeakSet,Vm=function(e=!1){if(W(this,$a,xb).call(this),!g(this,Lu)||this.destroyed)return!1;if(e)return $(this,ad,setTimeout(()=>{$(this,ad,null),W(this,$a,Vm).call(this,!1)},kH)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$(this,Lu,!1),!0},xb=function(){g(this,ad)&&(clearTimeout(g(this,ad)),$(this,ad,null))};var Ru,S_;class OH{constructor(){K(this,Ru,new Map);K(this,S_,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};g(this,S_).then(()=>{for(const[i]of g(this,Ru))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){on("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}g(this,Ru).set(t,i)}removeEventListener(e,t){const n=g(this,Ru).get(t);n==null||n(),g(this,Ru).delete(t)}terminate(){for(const[,e]of g(this,Ru))e==null||e();g(this,Ru).clear()}}Ru=new WeakMap,S_=new WeakMap;var A_,ep,tp,Fg,Sb,Dg,Ab;const gr=class gr{constructor({name:e=null,port:t=null,verbosity:n=f$()}={}){K(this,Fg);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=g(gr,tp))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(g(gr,tp)||$(gr,tp,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Os?Promise.all([Pd.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new x1("main","worker",e),this._messageHandler.on("ready",function(){}),W(this,Fg,Sb).call(this)}_initialize(){if(g(gr,ep)||g(gr,Dg,Ab)){this._setupFakeWorker();return}let{workerSrc:e}=gr;try{gr._isSameOrigin(window.location.href,e)||(e=gr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new x1("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,W(this,Fg,Sb).call(this)}),n.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;n.send("test",a,[a.buffer])};o();return}catch{Y_("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(gr,ep)||(on("Setting up fake worker."),$(gr,ep,!0)),gr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new OH;this._port=t;const n=`fake${Ys(gr,A_)._++}`,i=new x1(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new x1(n,n+"_worker",t),W(this,Fg,Sb).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(gr,tp))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=g(this,tp))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new gr(e)}static get workerSrc(){if(Yu.workerSrc)return Yu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pn(this,"_setupFakeWorkerGlobal",(async()=>g(this,Dg,Ab)?g(this,Dg,Ab):(await import(this.workerSrc)).WorkerMessageHandler)())}};A_=new WeakMap,ep=new WeakMap,tp=new WeakMap,Fg=new WeakSet,Sb=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Dg=new WeakSet,Ab=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},K(gr,Dg),K(gr,A_,0),K(gr,ep,!1),K(gr,tp),Os&&($(gr,ep,!0),Yu.workerSrc||(Yu.workerSrc="./pdf.worker.mjs")),gr._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},gr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ug=gr;var Iu,xc,jg,Bg,Sc,np,S1;class FH{constructor(e,t,n,i,s){K(this,np);K(this,Iu,new Map);K(this,xc,new Map);K(this,jg,new Map);K(this,Bg,new Map);K(this,Sc,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new L8,this.fontLoader=new I$({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return pn(this,"annotationStorage",new pk)}getRenderingIntent(e,t=Vh.ENABLE,n=null,i=!1,s=!1){let o=sa.DISPLAY,a=pS;switch(e){case"any":o=sa.ANY;break;case"display":break;case"print":o=sa.PRINT;break;default:on(`getRenderingIntent - invalid intent: ${e}`)}const c=o&sa.PRINT&&n instanceof l8?n:this.annotationStorage;switch(t){case Vh.DISABLE:o+=sa.ANNOTATIONS_DISABLE;break;case Vh.ENABLE:break;case Vh.ENABLE_FORMS:o+=sa.ANNOTATIONS_FORMS;break;case Vh.ENABLE_STORAGE:o+=sa.ANNOTATIONS_STORAGE,a=c.serializable;break;default:on(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=sa.IS_EDITING),s&&(o+=sa.OPLIST);const{ids:h,hash:d}=c.modifiedIds,p=[o,a.hash,d];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:a,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,Sc))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,xc).values())e.push(i._destroy());g(this,xc).clear(),g(this,jg).clear(),g(this,Bg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Iu).clear(),this.filterFactory.destroy(),SS.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Kp("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Ti(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Ti(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(n,i)=>{Ti(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Ti(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new IH(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new W5(n.message,n.code);break;case"InvalidPDFException":i=new M6(n.message);break;case"MissingPDFException":i=new Xp(n.message);break;case"UnexpectedResponseException":i=new X_(n.message,n.status);break;case"UnknownErrorException":i=new G5(n.message,n.details);break;default:ur("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if($(this,Sc,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?g(this,Sc).reject(s):g(this,Sc).resolve({password:s})};try{t.onPassword(i,n.code)}catch(s){g(this,Sc).reject(s)}}else g(this,Sc).reject(new W5(n.message,n.code));return g(this,Sc).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,xc).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:c,pdfBug:h}=this._params;if("error"in s){const m=s.error;on(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}const d=h&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,x)=>globalThis.FontInspector.fontAdded(m,x):null,p=new M$(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(n,p)});break;case"CopyLocalImage":const{imageRef:y}=s;Ti(y,"The imageRef must be defined.");for(const m of g(this,xc).values())for(const[,x]of m.objs)if((x==null?void 0:x.ref)===y)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,o])=>{var c;if(this.destroyed)return;const a=g(this,xc).get(i);if(!a.objs.has(n)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":a.objs.resolve(n,o),(o==null?void 0:o.dataLen)>l$&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&on("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=g(this,jg).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&g(this,Bg).set(s.refStr,e);const o=new MH(t,s,this,this._params.pdfBug);return g(this,xc).set(t,o),o});return g(this,jg).set(t,i),i}getPageIndex(e){return wN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,np,S1).call(this,"GetFieldObjects")}hasJSActions(){return W(this,np,S1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,np,S1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,np,S1).call(this,"GetOptionalContentConfig").then(t=>new nH(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=g(this,Iu).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new eH(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return g(this,Iu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of g(this,xc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Iu).clear(),this.filterFactory.destroy(!0),SS.cleanup()}}cachedPageNumber(e){if(!wN(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,Bg).get(t)??null}}Iu=new WeakMap,xc=new WeakMap,jg=new WeakMap,Bg=new WeakMap,Sc=new WeakMap,np=new WeakSet,S1=function(e,t=null){const n=g(this,Iu).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return g(this,Iu).set(e,i),i};const Ov=Symbol("INITIAL_DATA");var Cl,Uy,ES;class L8{constructor(){K(this,Uy);K(this,Cl,Object.create(null))}get(e,t=null){if(t){const i=W(this,Uy,ES).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=g(this,Cl)[e];if(!n||n.data===Ov)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=g(this,Cl)[e];return!!t&&t.data!==Ov}resolve(e,t=null){const n=W(this,Uy,ES).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in g(this,Cl)){const{data:n}=g(this,Cl)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}$(this,Cl,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,Cl)){const{data:t}=g(this,Cl)[e];t!==Ov&&(yield[e,t])}}}Cl=new WeakMap,Uy=new WeakSet,ES=function(e){var t;return(t=g(this,Cl))[e]||(t[e]={...Promise.withResolvers(),data:Ov})};var ld;class DH{constructor(e){K(this,ld,null);$(this,ld,e),this.onContinue=null}get promise(){return g(this,ld).capability.promise}cancel(e=0){g(this,ld).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,ld).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=g(this,ld);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ld=new WeakMap;var cd,rp;const Af=class Af{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:d=!1,pdfBug:p=!1,pageColors:y=null}){K(this,cd,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=p,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,c;if(this.cancelled)return;if(this._canvas){if(g(Af,rp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Af,rp).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:o}=this.params;this.gfx=new cg(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,cd)&&(window.cancelAnimationFrame(g(this,cd)),$(this,cd,null)),g(Af,rp).delete(this._canvas),this.callback(e||new uk(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?$(this,cd,window.requestAnimationFrame(()=>{$(this,cd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Af,rp).delete(this._canvas),this.callback())))}};cd=new WeakMap,rp=new WeakMap,K(Af,rp,new WeakSet);let TS=Af;const jH="4.8.69",BH="3634dab10";function xN(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function h1(r){return Math.max(0,Math.min(255,255*r))}class SN{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=h1(e),[e,e,e]}static G_HTML([e]){const t=xN(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(h1)}static RGB_HTML(e){return`#${e.map(xN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[h1(1-Math.min(1,e+i)),h1(1-Math.min(1,n+i)),h1(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,o=1-n,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class UH{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ur("Abstract method `_createSVG` called.")}}class bk extends UH{_createSVG(e){return document.createElementNS(vu,e)}}class R8{static setupStorage(e,t,n,i,s){const o=i.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of n.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,h]of Object.entries(o))if(h!=null)switch(c){case"class":h.length&&e.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,h)}a&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var p,y;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:n});const a=s!=="richText",c=e.div;if(c.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}a&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);o.append(m),a&&ry.shouldBuildText(i.name)&&h.push(m)}return{textDivs:h}}const d=[[i,-1,o]];for(;d.length>0;){const[m,x,_]=d.at(-1);if(x+1===m.children.length){d.pop();continue}const A=m.children[++d.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const I=document.createTextNode(A.value);h.push(I),_.append(I);continue}const N=(p=A==null?void 0:A.attributes)!=null&&p.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(_.append(N),A.attributes&&this.setAttributes({html:N,element:A,storage:t,intent:s,linkService:n}),((y=A.children)==null?void 0:y.length)>0)d.push([A,-1,N]);else if(A.value){const I=document.createTextNode(A.value);a&&ry.shouldBuildText(S)&&h.push(I),N.append(I)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const L2=1e3,zH=9,jp=new WeakSet;function Ju(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class qH{static create(e){switch(e.data.annotationType){case Ai.LINK:return new I8(e);case Ai.TEXT:return new $H(e);case Ai.WIDGET:switch(e.data.fieldType){case"Tx":return new HH(e);case"Btn":return e.data.radioButton?new F8(e):e.data.checkBox?new WH(e):new GH(e);case"Ch":return new YH(e);case"Sig":return new VH(e)}return new Jp(e);case Ai.POPUP:return new PS(e);case Ai.FREETEXT:return new z8(e);case Ai.LINE:return new KH(e);case Ai.SQUARE:return new JH(e);case Ai.CIRCLE:return new QH(e);case Ai.POLYLINE:return new q8(e);case Ai.CARET:return new eV(e);case Ai.INK:return new _k(e);case Ai.POLYGON:return new ZH(e);case Ai.HIGHLIGHT:return new $8(e);case Ai.UNDERLINE:return new tV(e);case Ai.SQUIGGLY:return new nV(e);case Ai.STRIKEOUT:return new rV(e);case Ai.STAMP:return new H8(e);case Ai.FILEATTACHMENT:return new iV(e);default:return new oi(e)}}}var ip,Ug,zg,zy,NS;const Ak=class Ak{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){K(this,zy);K(this,ip,null);K(this,Ug,!1);K(this,zg,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ak._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,ip)||$(this,ip,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&W(this,zy,NS).call(this,t),(n=g(this,zg))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,ip)&&(W(this,zy,NS).call(this,g(this,ip).rect),(e=g(this,zg))==null||e.popup.resetEdited(),$(this,ip,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Jp||(s.tabIndex=L2);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof PS){const{rotation:_}=t;return!t.hasOwnCanvas&&_!==0&&this.setRotation(_,s),s}const{width:a,height:c}=Ju(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const _=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(_>0||A>0){const N=`calc(${_}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;o.borderRadius=N}else if(this instanceof F8){const N=`calc(${a}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=N}switch(t.borderStyle.style){case c1.SOLID:o.borderStyle="solid";break;case c1.DASHED:o.borderStyle="dashed";break;case c1.BEVELED:on("Unimplemented border style: beveled");break;case c1.INSET:on("Unimplemented border style: inset");break;case c1.UNDERLINE:o.borderBottomStyle="solid";break}const S=t.borderColor||null;S?($(this,Ug,!0),o.borderColor=kt.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const h=kt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:p,pageX:y,pageY:m}=i.rawDims;o.left=`${100*(h[0]-y)/d}%`,o.top=`${100*(h[1]-m)/p}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(o.width=`${100*a/d}%`,o.height=`${100*c/p}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Ju(this.data.rect);let a,c;e%180===0?(a=100*s/n,c=100*o/i):(a=100*o/n,c=100*s/i),t.style.width=`${a}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[n]=SN[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:SN[`${o}_rgb`](a)})};return pn(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const o=n[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(_=>Math.fround(_));if(e.length===8){const[_,A,S,N]=e.subarray(2,6);if(i===_&&s===A&&t===S&&n===N)return}const{style:o}=this.container;let a;if(g(this,Ug)){const{borderColor:_,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const c=i-t,h=s-n,{svgFactory:d}=this,p=d.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const y=d.createElement("defs");p.append(y);const m=d.createElement("clipPath"),x=`clippath_${this.data.id}`;m.setAttribute("id",x),m.setAttribute("clipPathUnits","objectBoundingBox"),y.append(m);for(let _=2,A=e.length;_<A;_+=8){const S=e[_],N=e[_+1],I=e[_+2],R=e[_+3],O=d.createElement("rect"),U=(I-t)/c,B=(s-N)/h,j=(S-I)/c,D=(N-R)/h;O.setAttribute("x",U),O.setAttribute("y",B),O.setAttribute("width",j),O.setAttribute("height",D),m.append(O),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${B}" width="${j}" height="${D}"/>`)}g(this,Ug)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=$(this,zg,new PS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ur("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const c=typeof a=="string"?a:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!jp.has(h)){on(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:c,domElement:h})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&jp.has(i)&&n.push({id:o,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};ip=new WeakMap,Ug=new WeakMap,zg=new WeakMap,zy=new WeakSet,NS=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:c}}}}=this;n==null||n.splice(0,4,...e);const{width:h,height:d}=Ju(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,i===0?(t.width=`${100*h/s}%`,t.height=`${100*d/o}%`):this.setRotation(i)};let oi=Ak;var aa,gf,M8,O8;class I8 extends oi{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});K(this,aa);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(W(this,aa,M8).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(W(this,aa,O8).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&W(this,aa,gf).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),W(this,aa,gf).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),W(this,aa,gf).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),W(this,aa,gf).call(this),!this._fieldObjects){on('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:o,include:a}=n,c=[];if(s.length!==0||o.length!==0){const y=new Set(o);for(const m of s){const x=this._fieldObjects[m]||[];for(const{id:_}of x)y.add(_)}for(const m of Object.values(this._fieldObjects))for(const x of m)y.has(x.id)===a&&c.push(x)}else for(const y of Object.values(this._fieldObjects))c.push(...y);const h=this.annotationStorage,d=[];for(const y of c){const{id:m}=y;switch(d.push(m),y.type){case"text":{const _=y.defaultValue||"";h.setValue(m,{value:_});break}case"checkbox":case"radiobutton":{const _=y.defaultValue===y.exportValues;h.setValue(m,{value:_});break}case"combobox":case"listbox":{const _=y.defaultValue||"";h.setValue(m,{value:_});break}default:continue}const x=document.querySelector(`[data-element-id="${m}"]`);if(x){if(!jp.has(x)){on(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}aa=new WeakSet,gf=function(){this.container.setAttribute("data-internal-link","")},M8=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},W(this,aa,gf).call(this)},O8=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),W(this,aa,gf).call(this)};class $H extends oi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Jp extends oi{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return to.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var a;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,n,i){var s,o,a;for(const[c,h]of n)(h==="Action"||(s=this.data.actions)!=null&&s[h])&&((h==="Focus"||h==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,h,i),h==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):h==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":kt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||zH,s=e.style;let o;const a=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(h/(Bx*i))||1,p=h/d;o=Math.min(i,c(p/Bx))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,c(h/Bx))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=kt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class HH extends Jp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let h=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",h??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),jp.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=L2,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",y=>{const m=this.data.defaultFieldValue??"";n.value=d.userValue=m,d.formattedValue=null});let p=y=>{const{formattedValue:m}=d;m!=null&&(y.target.value=m),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{var _;if(d.focused)return;const{target:x}=m;d.userValue&&(x.value=d.userValue),d.lastCommittedValue=x.value,d.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const x={value(_){d.userValue=_.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),_.target.value=d.userValue},formattedValue(_){const{formattedValue:A}=_.detail;d.formattedValue=A,A!=null&&_.target!==document.activeElement&&(_.target.value=A),e.setValue(t,{formattedValue:A})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var I;const{charLimit:A}=_.detail,{target:S}=_;if(A===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",A);let N=d.userValue;!N||N.length<=A||(N=N.slice(0,A),S.value=d.userValue=N,e.setValue(t,{value:N}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(x,m)}),n.addEventListener("keydown",m=>{var A;d.commitKey=1;let x=-1;if(m.key==="Escape"?x=0:m.key==="Enter"&&!this.data.multiLine?x=2:m.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:_}=m.target;d.lastCommittedValue!==_&&(d.lastCommittedValue=_,d.userValue=_,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:x,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const y=p;p=null,n.addEventListener("blur",m=>{var _,A;if(!d.focused||!m.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(d.focused=!1);const{value:x}=m.target;d.userValue=x,d.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),y(m)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",m=>{var O;d.lastCommittedValue=null;const{data:x,target:_}=m,{value:A,selectionStart:S,selectionEnd:N}=_;let I=S,R=N;switch(m.inputType){case"deleteWordBackward":{const U=A.substring(0,S).match(/\w*[^\w]*$/);U&&(I-=U[0].length);break}case"deleteWordForward":{const U=A.substring(S).match(/^[^\w]*\w*/);U&&(R+=U[0].length);break}case"deleteContentBackward":S===N&&(I-=1);break;case"deleteContentForward":S===N&&(R+=1);break}m.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:x||"",willCommit:!1,selStart:I,selEnd:R}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class VH extends Jp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class WH extends Jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return jp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=L2,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const h of this._getElementsByName(a,n)){const d=c&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}e.setValue(n,{value:c})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class F8 extends Jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(jp.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=L2,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const h of this._getElementsByName(a,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:c})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const c={value:h=>{const d=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const y=d&&p.id===n;p.domElement&&(p.domElement.checked=y),e.setValue(p.id,{value:y})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GH extends I8{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class YH extends Jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");jp.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=L2;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const p=this.data.defaultFieldValue;for(const y of i.options)y.selected=y.value===p});for(const d of this.data.options){const p=document.createElement("option");p.textContent=d.displayValue,p.value=d.exportValue,n.value.includes(d.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const p=d?"value":"textContent",{options:y,multiple:m}=i;return m?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[p]):y.selectedIndex===-1?null:y[y.selectedIndex][p]};let c=a(!1);const h=d=>{const p=d.target.options;return Array.prototype.map.call(p,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const p={value(y){o==null||o();const m=y.detail.value,x=new Set(Array.isArray(m)?m:[m]);for(const _ of i.options)_.selected=x.has(_.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(y){i.multiple=!0},remove(y){const m=i.options,x=y.detail.remove;m[x].selected=!1,i.remove(x),m.length>0&&Array.prototype.findIndex.call(m,A=>A.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:h(y)}),c=a(!1)},clear(y){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(y){const{index:m,displayValue:x,exportValue:_}=y.detail.insert,A=i.children[m],S=document.createElement("option");S.textContent=x,S.value=_,A?A.before(S):i.append(S),e.setValue(t,{value:a(!0),items:h(y)}),c=a(!1)},items(y){const{items:m}=y.detail;for(;i.length!==0;)i.remove(0);for(const x of m){const{displayValue:_,exportValue:A}=x,S=document.createElement("option");S.textContent=_,S.value=A,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:h(y)}),c=a(!1)},indices(y){const m=new Set(y.detail.indices);for(const x of y.target.options)x.selected=m.has(x.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(p,d)}),i.addEventListener("input",d=>{var m;const p=a(!0),y=a(!1);e.setValue(t,{value:p}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:y,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class PS extends oi{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:oi._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new XH({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${ck}${n}`).join(",")),this.container}}var qg,k_,C_,$g,sp,qr,Mu,Hg,qy,$y,Vg,Ou,El,Fu,Hy,Du,Vy,op,ap,Gn,kb,LS,D8,j8,B8,U8,Cb,Eb,RS;class XH{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:c,rect:h,parentRect:d,open:p}){K(this,Gn);K(this,qg,W(this,Gn,B8).bind(this));K(this,k_,W(this,Gn,RS).bind(this));K(this,C_,W(this,Gn,Eb).bind(this));K(this,$g,W(this,Gn,Cb).bind(this));K(this,sp,null);K(this,qr,null);K(this,Mu,null);K(this,Hg,null);K(this,qy,null);K(this,$y,null);K(this,Vg,null);K(this,Ou,!1);K(this,El,null);K(this,Fu,null);K(this,Hy,null);K(this,Du,null);K(this,Vy,null);K(this,op,null);K(this,ap,!1);var y;$(this,qr,e),$(this,Vy,i),$(this,Mu,o),$(this,Du,a),$(this,$y,c),$(this,sp,t),$(this,Hy,h),$(this,Vg,d),$(this,qy,n),$(this,Hg,dk.toDateObject(s)),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",g(this,$g)),m.addEventListener("mouseenter",g(this,C_)),m.addEventListener("mouseleave",g(this,k_)),m.classList.add("popupTriggerArea");for(const m of n)(y=m.container)==null||y.addEventListener("keydown",g(this,qg));g(this,qr).hidden=!0,p&&W(this,Gn,Cb).call(this)}render(){if(g(this,El))return;const e=$(this,El,document.createElement("div"));if(e.className="popup",g(this,sp)){const s=e.style.outlineColor=kt.makeHexColor(...g(this,sp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=kt.makeHexColor(...g(this,sp).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=g(this,Vy),e.append(t),g(this,Hg)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Hg).valueOf()})),t.append(s)}const i=g(this,Gn,kb);if(i)R8.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(g(this,Mu));e.append(s)}g(this,qr).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];n.append(document.createTextNode(a)),s<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;g(this,op)||$(this,op,{contentsObj:g(this,Mu),richText:g(this,Du)}),e&&$(this,Fu,null),t&&($(this,Du,W(this,Gn,j8).call(this,t)),$(this,Mu,null)),(n=g(this,El))==null||n.remove(),$(this,El,null)}resetEdited(){var e;g(this,op)&&({contentsObj:Ys(this,Mu)._,richText:Ys(this,Du)._}=g(this,op),$(this,op,null),(e=g(this,El))==null||e.remove(),$(this,El,null),$(this,Fu,null))}forceHide(){$(this,ap,this.isVisible),g(this,ap)&&(g(this,qr).hidden=!0)}maybeShow(){g(this,ap)&&(g(this,El)||W(this,Gn,Eb).call(this),$(this,ap,!1),g(this,qr).hidden=!1)}get isVisible(){return g(this,qr).hidden===!1}}qg=new WeakMap,k_=new WeakMap,C_=new WeakMap,$g=new WeakMap,sp=new WeakMap,qr=new WeakMap,Mu=new WeakMap,Hg=new WeakMap,qy=new WeakMap,$y=new WeakMap,Vg=new WeakMap,Ou=new WeakMap,El=new WeakMap,Fu=new WeakMap,Hy=new WeakMap,Du=new WeakMap,Vy=new WeakMap,op=new WeakMap,ap=new WeakMap,Gn=new WeakSet,kb=function(){const e=g(this,Du),t=g(this,Mu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&g(this,Du).html||null},LS=function(){var e,t,n;return((n=(t=(e=g(this,Gn,kb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},D8=function(){var e,t,n;return((n=(t=(e=g(this,Gn,kb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},j8=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:g(this,Gn,D8),fontSize:g(this,Gn,LS)?`calc(${g(this,Gn,LS)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},B8=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Ou))&&W(this,Gn,Cb).call(this)},U8=function(){if(g(this,Fu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=g(this,$y);let o=!!g(this,Vg),a=o?g(this,Vg):g(this,Hy);for(const x of g(this,qy))if(!a||kt.intersect(x.data.rect,a)!==null){a=x.data.rect,o=!0;break}const c=kt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,p=c[0]+d,y=c[1];$(this,Fu,[100*(p-i)/t,100*(y-s)/n]);const{style:m}=g(this,qr);m.left=`${g(this,Fu)[0]}%`,m.top=`${g(this,Fu)[1]}%`},Cb=function(){$(this,Ou,!g(this,Ou)),g(this,Ou)?(W(this,Gn,Eb).call(this),g(this,qr).addEventListener("click",g(this,$g)),g(this,qr).addEventListener("keydown",g(this,qg))):(W(this,Gn,RS).call(this),g(this,qr).removeEventListener("click",g(this,$g)),g(this,qr).removeEventListener("keydown",g(this,qg)))},Eb=function(){g(this,El)||this.render(),this.isVisible?g(this,Ou)&&g(this,qr).classList.add("focused"):(W(this,Gn,U8).call(this),g(this,qr).hidden=!1,g(this,qr).style.zIndex=parseInt(g(this,qr).style.zIndex)+1e3)},RS=function(){g(this,qr).classList.remove("focused"),!(g(this,Ou)||!this.isVisible)&&(g(this,qr).hidden=!0,g(this,qr).style.zIndex=parseInt(g(this,qr).style.zIndex)-1e3)};class z8 extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Zt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Wy;class KH extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,Wy,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Ju(t.rect),s=this.svgFactory.create(n,i,!0),o=$(this,Wy,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wy=new WeakMap;var Gy;class JH extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,Gy,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Ju(t.rect),s=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,a=$(this,Gy,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",n-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gy=new WeakMap;var Yy;class QH extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,Yy,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Ju(t.rect),s=this.svgFactory.create(n,i,!0),o=t.borderStyle.width,a=$(this,Yy,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",i/2),a.setAttribute("rx",n/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Yy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yy=new WeakMap;var Xy;class q8 extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,Xy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:o,height:a}=Ju(t),c=this.svgFactory.create(o,a,!0);let h=[];for(let p=0,y=n.length;p<y;p+=2){const m=n[p]-t[0],x=t[3]-n[p+1];h.push(`${m},${x}`)}h=h.join(" ");const d=$(this,Xy,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",h),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,Xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xy=new WeakMap;class ZH extends q8{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eV extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ky;class _k extends oi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});K(this,Ky,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Zt.HIGHLIGHT:Zt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=Ju(t),c=this.svgFactory.create(o,a,!0);for(const h of n){let d=[];for(let y=0,m=h.length;y<m;y+=2){const x=h[y]-t[0],_=t[3]-h[y+1];d.push(`${x},${_}`)}d=d.join(" ");const p=this.svgFactory.createElement(this.svgElementName);g(this,Ky).push(p),p.setAttribute("points",d),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),c.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,Ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ky=new WeakMap;class $8 extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Zt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tV extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class nV extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class rV extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class H8 extends oi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Zt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jy,Qy,IS;class iV extends oi{constructor(t){var i;super(t,{isRenderable:!0});K(this,Qy);K(this,Jy,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",W(this,Qy,IS).bind(this)),$(this,Jy,i);const{isMac:s}=to.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&W(this,Qy,IS).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return g(this,Jy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jy=new WeakMap,Qy=new WeakSet,IS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Zy,lp,cp,e2,Up,V8,MS,UN;let sV=(UN=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){K(this,Up);K(this,Zy,null);K(this,lp,null);K(this,cp,new Map);K(this,e2,null);this.div=e,$(this,Zy,t),$(this,lp,n),$(this,e2,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return g(this,cp).size>0}async render(e){var o;const{annotations:t}=e,n=this.div;Fp(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new bk,annotationStorage:e.annotationStorage||new pk,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const c=a.annotationType===Ai.POPUP;if(c){const p=i.get(a.id);if(!p)continue;s.elements=p}else{const{width:p,height:y}=Ju(a.rect);if(p<=0||y<=0)continue}s.data=a;const h=qH.create(s);if(!h.isRenderable)continue;if(!c&&a.popupRef){const p=i.get(a.popupRef);p?p.push(h):i.set(a.popupRef,[h])}const d=h.render();a.hidden&&(d.style.visibility="hidden"),await W(this,Up,V8).call(this,d,a.id),h._isEditable&&(g(this,cp).set(h.data.id,h),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(h))}W(this,Up,MS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Fp(t,{rotation:e.rotation}),W(this,Up,MS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(g(this,cp).values())}getEditableAnnotation(e){return g(this,cp).get(e)}},Zy=new WeakMap,lp=new WeakMap,cp=new WeakMap,e2=new WeakMap,Up=new WeakSet,V8=async function(e,t){var o,a;const n=e.firstChild||e,i=n.id=`${ck}${t}`,s=await((o=g(this,e2))==null?void 0:o.getAriaAttributes(i));if(s)for(const[c,h]of s)n.setAttribute(c,h);this.div.append(e),(a=g(this,Zy))==null||a.moveElementInDOM(this.div,e,n,!1)},MS=function(){if(!g(this,lp))return;const e=this.div;for(const[t,n]of g(this,lp)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}g(this,lp).clear()},UN);const Fv=/\r\n?|\n/g;var Tl,Zo,t2,up,ea,yi,W8,G8,Y8,Tb,Zu,Nb,Pb,X8,FS,K8;const ir=class ir extends Bn{constructor(t){super({...t,name:"freeTextEditor"});K(this,yi);K(this,Tl);K(this,Zo,"");K(this,t2,`${this.id}-editor`);K(this,up,null);K(this,ea);$(this,Tl,t.color||ir._defaultColor||Bn._defaultLineColor),$(this,ea,t.fontSize||ir._defaultFontSize)}static get _keyboardManager(){const t=ir.prototype,n=o=>o.isEmpty(),i=Dp.TRANSLATE_SMALL,s=Dp.TRANSLATE_BIG;return pn(this,"_keyboardManager",new P2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Bn.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Wt.FREETEXT_SIZE:ir._defaultFontSize=n;break;case Wt.FREETEXT_COLOR:ir._defaultColor=n;break}}updateParams(t,n){switch(t){case Wt.FREETEXT_SIZE:W(this,yi,W8).call(this,n);break;case Wt.FREETEXT_COLOR:W(this,yi,G8).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Wt.FREETEXT_SIZE,ir._defaultFontSize],[Wt.FREETEXT_COLOR,ir._defaultColor||Bn._defaultLineColor]]}get propertiesToUpdate(){return[[Wt.FREETEXT_SIZE,g(this,ea)],[Wt.FREETEXT_COLOR,g(this,Tl)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ir._internalPadding*t,-(ir._internalPadding+g(this,ea))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Zt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),$(this,up,new AbortController);const t=this._uiManager.combinedSignal(g(this,up));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,t2)),this._isDraggable=!0,(t=g(this,up))==null||t.abort(),$(this,up,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=g(this,Zo),n=$(this,Zo,W(this,yi,Y8).call(this).trimEnd());if(t===n)return;const i=s=>{if($(this,Zo,s),!s){this.remove();return}W(this,yi,Pb).call(this),this._uiManager.rebuild(this),W(this,yi,Tb).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),W(this,yi,Tb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ir._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,t2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,ea)}px * var(--scale-factor))`,i.color=g(this,Tl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),a_(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[y,m]=this.pageTranslation;let x,_;switch(this.rotation){case 0:x=t+(a[0]-y)/d,_=n+this.height-(a[1]-m)/p;break;case 90:x=t+(a[0]-y)/d,_=n-(a[1]-m)/p,[c,h]=[h,-c];break;case 180:x=t-this.width+(a[0]-y)/d,_=n-(a[1]-m)/p,[c,h]=[-c,-h];break;case 270:x=t+(a[0]-y-this.height*p)/d,_=n+(a[1]-m-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(x*s,_*o,c,h)}else this.setAt(t*s,n*o,this.width*s,this.height*o);W(this,yi,Pb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,_,A;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=W(x=ir,Zu,FS).call(x,n.getData("text")||"").replaceAll(Fv,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:h}=a,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(Fv,"")),S!==this.editorDiv){let N=d;for(const I of this.editorDiv.childNodes){if(I===S){N=p;continue}N.push(W(_=ir,Zu,Nb).call(_,I))}}d.push(c.nodeValue.slice(0,h).replaceAll(Fv,""))}else if(c===this.editorDiv){let S=d,N=0;for(const I of this.editorDiv.childNodes)N++===h&&(S=p),S.push(W(A=ir,Zu,Nb).call(A,I))}$(this,Zo,`${d.join(`
`)}${s}${p.join(`
`)}`),W(this,yi,Pb).call(this);const y=new Range;let m=d.reduce((S,N)=>S+N.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const N=S.nodeValue.length;if(m<=N){y.setStart(S,m),y.setEnd(S,m);break}m-=N}o.removeAllRanges(),o.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var a;let s=null;if(t instanceof z8){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:d,rotation:p,id:y,popupRef:m},textContent:x,textPosition:_,parent:{page:{pageNumber:A}}}=t;if(!x||x.length===0)return null;s=t={annotationType:Zt.FREETEXT,color:Array.from(h),fontSize:c,value:x.join(`
`),position:_,pageIndex:A-1,rect:d.slice(0),rotation:p,id:y,deleted:!1,popupRef:m}}const o=await super.deserialize(t,n,i);return $(o,ea,t.fontSize),$(o,Tl,kt.makeHexColor(...t.color)),$(o,Zo,W(a=ir,Zu,FS).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ir._internalPadding*this.parentScale,i=this.getRect(n,n),s=Bn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Tl)),o={annotationType:Zt.FREETEXT,color:s,fontSize:g(this,ea),value:W(this,yi,X8).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!W(this,yi,K8).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,ea)}px * var(--scale-factor))`,i.color=g(this,Tl),n.replaceChildren();for(const o of g(this,Zo).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),n.append(a)}const s=ir._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:g(this,Zo)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Tl=new WeakMap,Zo=new WeakMap,t2=new WeakMap,up=new WeakMap,ea=new WeakMap,yi=new WeakSet,W8=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-g(this,ea))*this.parentScale),$(this,ea,s),W(this,yi,Tb).call(this)},i=g(this,ea);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},G8=function(t){const n=s=>{$(this,Tl,this.editorDiv.style.color=s)},i=g(this,Tl);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Y8=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(W(i=ir,Zu,Nb).call(i,s)),n=s);return t.join(`
`)},Tb=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Zu=new WeakSet,Nb=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Fv,"")},Pb=function(){if(this.editorDiv.replaceChildren(),!!g(this,Zo))for(const t of g(this,Zo).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},X8=function(){return g(this,Zo).replaceAll(""," ")},FS=function(t){return t.replaceAll(" ","")},K8=function(t){const{value:n,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((a,c)=>a!==s[c])||t.pageIndex!==o},K(ir,Zu),tt(ir,"_freeTextDefaultContent",""),tt(ir,"_internalPadding",0),tt(ir,"_defaultColor",null),tt(ir,"_defaultFontSize",10),tt(ir,"_type","freetext"),tt(ir,"_editorType",Zt.FREETEXT);let OS=ir;class J8{toSVGPath(){ur("Abstract method `toSVGPath` must be implemented.")}get box(){ur("Abstract getter `box` must be implemented.")}serialize(e,t){ur("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ur("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ur("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ta,Nl,Wg,Gg,Ac,un,hp,dp,n2,r2,Yg,Xg,ud,i2,E_,T_,Ni,A1,Q8,Z8,eI,tI,nI,rI;const wu=class wu{constructor({x:e,y:t},n,i,s,o,a=0){K(this,Ni);K(this,ta);K(this,Nl,[]);K(this,Wg);K(this,Gg);K(this,Ac,[]);K(this,un,new Float64Array(18));K(this,hp);K(this,dp);K(this,n2);K(this,r2);K(this,Yg);K(this,Xg);K(this,ud,[]);$(this,ta,n),$(this,Xg,s*i),$(this,Gg,o),g(this,un).set([NaN,NaN,NaN,NaN,e,t],6),$(this,Wg,a),$(this,r2,g(wu,i2)*i),$(this,n2,g(wu,T_)*i),$(this,Yg,i),g(this,ud).push(e,t)}isEmpty(){return isNaN(g(this,un)[8])}add({x:e,y:t}){var D;$(this,hp,e),$(this,dp,t);const[n,i,s,o]=g(this,ta);let[a,c,h,d]=g(this,un).subarray(8,12);const p=e-h,y=t-d,m=Math.hypot(p,y);if(m<g(this,n2))return!1;const x=m-g(this,r2),_=x/m,A=_*p,S=_*y;let N=a,I=c;a=h,c=d,h+=A,d+=S,(D=g(this,ud))==null||D.push(e,t);const R=-S/x,O=A/x,U=R*g(this,Xg),B=O*g(this,Xg);return g(this,un).set(g(this,un).subarray(2,8),0),g(this,un).set([h+U,d+B],4),g(this,un).set(g(this,un).subarray(14,18),12),g(this,un).set([h-U,d-B],16),isNaN(g(this,un)[6])?(g(this,Ac).length===0&&(g(this,un).set([a+U,c+B],2),g(this,Ac).push(NaN,NaN,NaN,NaN,(a+U-n)/s,(c+B-i)/o),g(this,un).set([a-U,c-B],14),g(this,Nl).push(NaN,NaN,NaN,NaN,(a-U-n)/s,(c-B-i)/o)),g(this,un).set([N,I,a,c,h,d],6),!this.isEmpty()):(g(this,un).set([N,I,a,c,h,d],6),Math.abs(Math.atan2(I-c,N-a)-Math.atan2(S,A))<Math.PI/2?([a,c,h,d]=g(this,un).subarray(2,6),g(this,Ac).push(NaN,NaN,NaN,NaN,((a+h)/2-n)/s,((c+d)/2-i)/o),[a,c,N,I]=g(this,un).subarray(14,18),g(this,Nl).push(NaN,NaN,NaN,NaN,((N+a)/2-n)/s,((I+c)/2-i)/o),!0):([N,I,a,c,h,d]=g(this,un).subarray(0,6),g(this,Ac).push(((N+5*a)/6-n)/s,((I+5*c)/6-i)/o,((5*a+h)/6-n)/s,((5*c+d)/6-i)/o,((a+h)/2-n)/s,((c+d)/2-i)/o),[h,d,a,c,N,I]=g(this,un).subarray(12,18),g(this,Nl).push(((N+5*a)/6-n)/s,((I+5*c)/6-i)/o,((5*a+h)/6-n)/s,((5*c+d)/6-i)/o,((a+h)/2-n)/s,((c+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Ac),t=g(this,Nl);if(isNaN(g(this,un)[6])&&!this.isEmpty())return W(this,Ni,Q8).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);W(this,Ni,eI).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return W(this,Ni,Z8).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,o){return new iI(e,t,n,i,s,o)}getOutlines(){var p;const e=g(this,Ac),t=g(this,Nl),n=g(this,un),[i,s,o,a]=g(this,ta),c=new Float64Array((((p=g(this,ud))==null?void 0:p.length)??0)+2);for(let y=0,m=c.length-2;y<m;y+=2)c[y]=(g(this,ud)[y]-i)/o,c[y+1]=(g(this,ud)[y+1]-s)/a;if(c[c.length-2]=(g(this,hp)-i)/o,c[c.length-1]=(g(this,dp)-s)/a,isNaN(n[6])&&!this.isEmpty())return W(this,Ni,tI).call(this,c);const h=new Float64Array(g(this,Ac).length+24+g(this,Nl).length);let d=e.length;for(let y=0;y<d;y+=2){if(isNaN(e[y])){h[y]=h[y+1]=NaN;continue}h[y]=e[y],h[y+1]=e[y+1]}d=W(this,Ni,rI).call(this,h,d);for(let y=t.length-6;y>=6;y-=6)for(let m=0;m<6;m+=2){if(isNaN(t[y+m])){h[d]=h[d+1]=NaN,d+=2;continue}h[d]=t[y+m],h[d+1]=t[y+m+1],d+=2}return W(this,Ni,nI).call(this,h,d),this.newFreeDrawOutline(h,c,g(this,ta),g(this,Yg),g(this,Wg),g(this,Gg))}};ta=new WeakMap,Nl=new WeakMap,Wg=new WeakMap,Gg=new WeakMap,Ac=new WeakMap,un=new WeakMap,hp=new WeakMap,dp=new WeakMap,n2=new WeakMap,r2=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,ud=new WeakMap,i2=new WeakMap,E_=new WeakMap,T_=new WeakMap,Ni=new WeakSet,A1=function(){const e=g(this,un).subarray(4,6),t=g(this,un).subarray(16,18),[n,i,s,o]=g(this,ta);return[(g(this,hp)+(e[0]-t[0])/2-n)/s,(g(this,dp)+(e[1]-t[1])/2-i)/o,(g(this,hp)+(t[0]-e[0])/2-n)/s,(g(this,dp)+(t[1]-e[1])/2-i)/o]},Q8=function(){const[e,t,n,i]=g(this,ta),[s,o,a,c]=W(this,Ni,A1).call(this);return`M${(g(this,un)[2]-e)/n} ${(g(this,un)[3]-t)/i} L${(g(this,un)[4]-e)/n} ${(g(this,un)[5]-t)/i} L${s} ${o} L${a} ${c} L${(g(this,un)[16]-e)/n} ${(g(this,un)[17]-t)/i} L${(g(this,un)[14]-e)/n} ${(g(this,un)[15]-t)/i} Z`},Z8=function(e){const t=g(this,Nl);e.push(`L${t[4]} ${t[5]} Z`)},eI=function(e){const[t,n,i,s]=g(this,ta),o=g(this,un).subarray(4,6),a=g(this,un).subarray(16,18),[c,h,d,p]=W(this,Ni,A1).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-n)/s} L${c} ${h} L${d} ${p} L${(a[0]-t)/i} ${(a[1]-n)/s}`)},tI=function(e){const t=g(this,un),[n,i,s,o]=g(this,ta),[a,c,h,d]=W(this,Ni,A1).call(this),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(p,e,g(this,ta),g(this,Yg),g(this,Wg),g(this,Gg))},nI=function(e,t){const n=g(this,Nl);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},rI=function(e,t){const n=g(this,un).subarray(4,6),i=g(this,un).subarray(16,18),[s,o,a,c]=g(this,ta),[h,d,p,y]=W(this,Ni,A1).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/a,(n[1]-o)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/c],t),t+=24},K(wu,i2,8),K(wu,E_,2),K(wu,T_,g(wu,i2)+g(wu,E_));let c_=wu;var Kg,fp,ju,s2,na,o2,Zr,Co,k1,C1,sI;class iI extends J8{constructor(t,n,i,s,o,a){super();K(this,Co);K(this,Kg);K(this,fp,null);K(this,ju);K(this,s2);K(this,na);K(this,o2);K(this,Zr);$(this,Zr,t),$(this,na,n),$(this,Kg,i),$(this,o2,s),$(this,ju,o),$(this,s2,a),W(this,Co,sI).call(this,a);const{x:c,y:h,width:d,height:p}=g(this,fp);for(let y=0,m=t.length;y<m;y+=2)t[y]=(t[y]-c)/d,t[y+1]=(t[y+1]-h)/p;for(let y=0,m=n.length;y<m;y+=2)n[y]=(n[y]-c)/d,n[y+1]=(n[y+1]-h)/p}toSVGPath(){const t=[`M${g(this,Zr)[4]} ${g(this,Zr)[5]}`];for(let n=6,i=g(this,Zr).length;n<i;n+=6){if(isNaN(g(this,Zr)[n])){t.push(`L${g(this,Zr)[n+4]} ${g(this,Zr)[n+5]}`);continue}t.push(`C${g(this,Zr)[n]} ${g(this,Zr)[n+1]} ${g(this,Zr)[n+2]} ${g(this,Zr)[n+3]} ${g(this,Zr)[n+4]} ${g(this,Zr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],o){const a=i-t,c=s-n;let h,d;switch(o){case 0:h=W(this,Co,k1).call(this,g(this,Zr),t,s,a,-c),d=W(this,Co,k1).call(this,g(this,na),t,s,a,-c);break;case 90:h=W(this,Co,C1).call(this,g(this,Zr),t,n,a,c),d=W(this,Co,C1).call(this,g(this,na),t,n,a,c);break;case 180:h=W(this,Co,k1).call(this,g(this,Zr),i,n,-a,c),d=W(this,Co,k1).call(this,g(this,na),i,n,-a,c);break;case 270:h=W(this,Co,C1).call(this,g(this,Zr),i,s,-a,-c),d=W(this,Co,C1).call(this,g(this,na),i,s,-a,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}get box(){return g(this,fp)}newOutliner(t,n,i,s,o,a=0){return new c_(t,n,i,s,o,a)}getNewOutline(t,n){const{x:i,y:s,width:o,height:a}=g(this,fp),[c,h,d,p]=g(this,Kg),y=o*d,m=a*p,x=i*d+c,_=s*p+h,A=this.newOutliner({x:g(this,na)[0]*y+x,y:g(this,na)[1]*m+_},g(this,Kg),g(this,o2),t,g(this,s2),n??g(this,ju));for(let S=2;S<g(this,na).length;S+=2)A.add({x:g(this,na)[S]*y+x,y:g(this,na)[S+1]*m+_});return A.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Kg=new WeakMap,fp=new WeakMap,ju=new WeakMap,s2=new WeakMap,na=new WeakMap,o2=new WeakMap,Zr=new WeakMap,Co=new WeakSet,k1=function(t,n,i,s,o){const a=new Float64Array(t.length);for(let c=0,h=t.length;c<h;c+=2)a[c]=n+t[c]*s,a[c+1]=i+t[c+1]*o;return a},C1=function(t,n,i,s,o){const a=new Float64Array(t.length);for(let c=0,h=t.length;c<h;c+=2)a[c]=n+t[c+1]*s,a[c+1]=i+t[c]*o;return a},sI=function(t){const n=g(this,Zr);let i=n[4],s=n[5],o=i,a=s,c=i,h=s,d=i,p=s;const y=t?Math.max:Math.min;for(let S=6,N=n.length;S<N;S+=6){if(isNaN(n[S]))o=Math.min(o,n[S+4]),a=Math.min(a,n[S+5]),c=Math.max(c,n[S+4]),h=Math.max(h,n[S+5]),p<n[S+5]?(d=n[S+4],p=n[S+5]):p===n[S+5]&&(d=y(d,n[S+4]));else{const I=kt.bezierBoundingBox(i,s,...n.slice(S,S+6));o=Math.min(o,I[0]),a=Math.min(a,I[1]),c=Math.max(c,I[2]),h=Math.max(h,I[3]),p<I[3]?(d=I[2],p=I[3]):p===I[3]&&(d=y(d,I[2]))}i=n[S+4],s=n[S+5]}const m=o-g(this,ju),x=a-g(this,ju),_=c-o+2*g(this,ju),A=h-a+2*g(this,ju);$(this,fp,{x:m,y:x,width:_,height:A,lastPoint:[d,p]})};var a2,hd,Pl,ro,oI,Lb,aI,lI,DS;class AN{constructor(e,t=0,n=0,i=!0){K(this,ro);K(this,a2);K(this,hd,[]);K(this,Pl,[]);let s=1/0,o=-1/0,a=1/0,c=-1/0;const h=10**-4;for(const{x:A,y:S,width:N,height:I}of e){const R=Math.floor((A-t)/h)*h,O=Math.ceil((A+N+t)/h)*h,U=Math.floor((S-t)/h)*h,B=Math.ceil((S+I+t)/h)*h,j=[R,U,B,!0],D=[O,U,B,!1];g(this,hd).push(j,D),s=Math.min(s,R),o=Math.max(o,O),a=Math.min(a,U),c=Math.max(c,B)}const d=o-s+2*n,p=c-a+2*n,y=s-n,m=a-n,x=g(this,hd).at(i?-1:-2),_=[x[0],x[2]];for(const A of g(this,hd)){const[S,N,I]=A;A[0]=(S-y)/d,A[1]=(N-m)/p,A[2]=(I-m)/p}$(this,a2,{x:y,y:m,width:d,height:p,lastPoint:_})}getOutlines(){g(this,hd).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of g(this,hd))t[3]?(e.push(...W(this,ro,DS).call(this,t)),W(this,ro,aI).call(this,t)):(W(this,ro,lI).call(this,t),e.push(...W(this,ro,DS).call(this,t)));return W(this,ro,oI).call(this,e)}}a2=new WeakMap,hd=new WeakMap,Pl=new WeakMap,ro=new WeakSet,oI=function(e){const t=[],n=new Set;for(const o of e){const[a,c,h]=o;t.push([a,c,o],[a,h,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],h=t[o+1][2];c.push(h),h.push(c),n.add(c),n.add(h)}const i=[];let s;for(;n.size>0;){const o=n.values().next().value;let[a,c,h,d,p]=o;n.delete(o);let y=a,m=c;for(s=[a,h],i.push(s);;){let x;if(n.has(d))x=d;else if(n.has(p))x=p;else break;n.delete(x),[a,c,h,d,p]=x,y!==a&&(s.push(y,m,a,m===c?c:h),y=a),m=m===c?h:c}s.push(y,m)}return new oV(i,g(this,a2))},Lb=function(e){const t=g(this,Pl);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:i=s-1}return i+1},aI=function([,e,t]){const n=W(this,ro,Lb).call(this,e);g(this,Pl).splice(n,0,[e,t])},lI=function([,e,t]){const n=W(this,ro,Lb).call(this,e);for(let i=n;i<g(this,Pl).length;i++){const[s,o]=g(this,Pl)[i];if(s!==e)break;if(s===e&&o===t){g(this,Pl).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,o]=g(this,Pl)[i];if(s!==e)break;if(s===e&&o===t){g(this,Pl).splice(i,1);return}}},DS=function(e){const[t,n,i]=e,s=[[t,n,i]],o=W(this,ro,Lb).call(this,i);for(let a=0;a<o;a++){const[c,h]=g(this,Pl)[a];for(let d=0,p=s.length;d<p;d++){const[,y,m]=s[d];if(!(h<=y||m<=c)){if(y>=c){if(m>h)s[d][1]=h;else{if(p===1)return[];s.splice(d,1),d--,p--}continue}s[d][2]=c,m>h&&s.push([t,h,m])}}}return s};var l2,Jg;class oV extends J8{constructor(t,n){super();K(this,l2);K(this,Jg);$(this,Jg,t),$(this,l2,n)}toSVGPath(){const t=[];for(const n of g(this,Jg)){let[i,s]=n;t.push(`M${i} ${s}`);for(let o=2;o<n.length;o+=2){const a=n[o],c=n[o+1];a===i?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],o){const a=[],c=i-t,h=s-n;for(const d of g(this,Jg)){const p=new Array(d.length);for(let y=0;y<d.length;y+=2)p[y]=t+d[y]*c,p[y+1]=s-d[y+1]*h;a.push(p)}return a}get box(){return g(this,l2)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}l2=new WeakMap,Jg=new WeakMap;class jS extends c_{newFreeDrawOutline(e,t,n,i,s,o){return new aV(e,t,n,i,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class aV extends iI{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,i,s,o=0){return new jS(e,t,n,i,s,o)}}var Ll,pp,Qg,Ci,c2,Zg,u2,h2,dd,Rl,e0,d2,Wn,BS,US,zS,yf,cI,$h;const _o=class _o{constructor({editor:e=null,uiManager:t=null}){K(this,Wn);K(this,Ll,null);K(this,pp,null);K(this,Qg);K(this,Ci,null);K(this,c2,!1);K(this,Zg,!1);K(this,u2,null);K(this,h2);K(this,dd,null);K(this,Rl,null);K(this,e0);var n;e?($(this,Zg,!1),$(this,e0,Wt.HIGHLIGHT_COLOR),$(this,u2,e)):($(this,Zg,!0),$(this,e0,Wt.HIGHLIGHT_DEFAULT_COLOR)),$(this,Rl,(e==null?void 0:e._uiManager)||t),$(this,h2,g(this,Rl)._eventBus),$(this,Qg,(e==null?void 0:e.color)||((n=g(this,Rl))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(_o,d2)||$(_o,d2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return pn(this,"_keyboardManager",new P2([[["Escape","mac+Escape"],_o.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],_o.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],_o.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],_o.prototype._moveToPrevious],[["Home","mac+Home"],_o.prototype._moveToBeginning],[["End","mac+End"],_o.prototype._moveToEnd]]))}renderButton(){const e=$(this,Ll,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=g(this,Rl)._signal;e.addEventListener("click",W(this,Wn,yf).bind(this),{signal:t}),e.addEventListener("keydown",W(this,Wn,zS).bind(this),{signal:t});const n=$(this,pp,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,Qg),e.append(n),e}renderMainDropdown(){const e=$(this,Ci,W(this,Wn,BS).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,Ll)){W(this,Wn,yf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,Wn,US).call(this,t,e)}_moveToNext(e){var t,n;if(!g(this,Wn,$h)){W(this,Wn,yf).call(this,e);return}if(e.target===g(this,Ll)){(t=g(this,Ci).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=g(this,Ci))==null?void 0:t.firstChild)||e.target===g(this,Ll)){g(this,Wn,$h)&&this._hideDropdownFromKeyboard();return}g(this,Wn,$h)||W(this,Wn,yf).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!g(this,Wn,$h)){W(this,Wn,yf).call(this,e);return}(t=g(this,Ci).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!g(this,Wn,$h)){W(this,Wn,yf).call(this,e);return}(t=g(this,Ci).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=g(this,Ci))==null||e.classList.add("hidden"),(t=g(this,dd))==null||t.abort(),$(this,dd,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,Zg)){if(!g(this,Wn,$h)){(e=g(this,u2))==null||e.unselect();return}this.hideDropdown(),g(this,Ll).focus({preventScroll:!0,focusVisible:g(this,c2)})}}updateColor(e){if(g(this,pp)&&(g(this,pp).style.backgroundColor=e),!g(this,Ci))return;const t=g(this,Rl).highlightColors.values();for(const n of g(this,Ci).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=g(this,Ll))==null||e.remove(),$(this,Ll,null),$(this,pp,null),(t=g(this,Ci))==null||t.remove(),$(this,Ci,null)}};Ll=new WeakMap,pp=new WeakMap,Qg=new WeakMap,Ci=new WeakMap,c2=new WeakMap,Zg=new WeakMap,u2=new WeakMap,h2=new WeakMap,dd=new WeakMap,Rl=new WeakMap,e0=new WeakMap,d2=new WeakMap,Wn=new WeakSet,BS=function(){const e=document.createElement("div"),t=g(this,Rl)._signal;e.addEventListener("contextmenu",Xa,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,Rl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",g(_o,d2)[n]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===g(this,Qg)),s.addEventListener("click",W(this,Wn,US).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",W(this,Wn,zS).bind(this),{signal:t}),e},US=function(e,t){t.stopPropagation(),g(this,h2).dispatch("switchannotationeditorparams",{source:this,type:g(this,e0),value:e})},zS=function(e){_o._keyboardManager.exec(this,e)},yf=function(e){if(g(this,Wn,$h)){this.hideDropdown();return}if($(this,c2,e.detail===0),g(this,dd)||($(this,dd,new AbortController),window.addEventListener("pointerdown",W(this,Wn,cI).bind(this),{signal:g(this,Rl).combinedSignal(g(this,dd))})),g(this,Ci)){g(this,Ci).classList.remove("hidden");return}const t=$(this,Ci,W(this,Wn,BS).call(this));g(this,Ll).append(t)},cI=function(e){var t;(t=g(this,Ci))!=null&&t.contains(e.target)||this.hideDropdown()},$h=function(){return g(this,Ci)&&!g(this,Ci).classList.contains("hidden")},K(_o,d2,null);let u_=_o;var t0,f2,Bu,mp,n0,Ba,p2,m2,gp,Il,Ps,So,r0,Uu,Ei,i0,Ua,g2,Qt,qS,Rb,uI,hI,dI,$S,vf,Ha,Wm,fI,Ib,E1,pI,mI,gI,yI,vI;const Tn=class Tn extends Bn{constructor(t){super({...t,name:"highlightEditor"});K(this,Qt);K(this,t0,null);K(this,f2,0);K(this,Bu);K(this,mp,null);K(this,n0,null);K(this,Ba,null);K(this,p2,null);K(this,m2,0);K(this,gp,null);K(this,Il,null);K(this,Ps,null);K(this,So,!1);K(this,r0,null);K(this,Uu);K(this,Ei,null);K(this,i0,"");K(this,Ua);K(this,g2,"");this.color=t.color||Tn._defaultColor,$(this,Ua,t.thickness||Tn._defaultThickness),$(this,Uu,t.opacity||Tn._defaultOpacity),$(this,Bu,t.boxes||null),$(this,g2,t.methodOfCreation||""),$(this,i0,t.text||""),this._isDraggable=!1,t.highlightId>-1?($(this,So,!0),W(this,Qt,Rb).call(this,t),W(this,Qt,vf).call(this)):g(this,Bu)&&($(this,t0,t.anchorNode),$(this,f2,t.anchorOffset),$(this,p2,t.focusNode),$(this,m2,t.focusOffset),W(this,Qt,qS).call(this),W(this,Qt,vf).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Tn.prototype;return pn(this,"_keyboardManager",new P2([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,So)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Ua),methodOfCreation:g(this,g2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Bn.initialize(t,n),Tn._defaultColor||(Tn._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Wt.HIGHLIGHT_DEFAULT_COLOR:Tn._defaultColor=n;break;case Wt.HIGHLIGHT_THICKNESS:Tn._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return g(this,r0)}updateParams(t,n){switch(t){case Wt.HIGHLIGHT_COLOR:W(this,Qt,uI).call(this,n);break;case Wt.HIGHLIGHT_THICKNESS:W(this,Qt,hI).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Wt.HIGHLIGHT_DEFAULT_COLOR,Tn._defaultColor],[Wt.HIGHLIGHT_THICKNESS,Tn._defaultThickness]]}get propertiesToUpdate(){return[[Wt.HIGHLIGHT_COLOR,this.color||Tn._defaultColor],[Wt.HIGHLIGHT_THICKNESS,g(this,Ua)||Tn._defaultThickness],[Wt.HIGHLIGHT_FREE,g(this,So)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&($(this,n0,new u_({editor:this})),t.addColorPicker(g(this,n0))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,Qt,E1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,W(this,Qt,E1).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){W(this,Qt,$S).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,Qt,vf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?W(this,Qt,$S).call(this):t&&(W(this,Qt,vf).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,o,a;const{drawLayer:n}=this.parent;let i;g(this,So)?(t=(t-this.rotation+360)%360,i=W(s=Tn,Ha,Wm).call(s,g(this,Il).box,t)):i=W(o=Tn,Ha,Wm).call(o,this,t),n.rotate(g(this,Ps),t),n.rotate(g(this,Ei),t),n.updateBox(g(this,Ps),i),n.updateBox(g(this,Ei),W(a=Tn,Ha,Wm).call(a,g(this,Ba).box,t))}render(){if(this.div)return this.div;const t=super.render();g(this,i0)&&(t.setAttribute("aria-label",g(this,i0)),t.setAttribute("role","mark")),g(this,So)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,Qt,fI).bind(this),{signal:this._uiManager._signal});const n=$(this,gp,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,mp);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),a_(this,g(this,gp),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,Ei),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,Ei),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,Qt,Ib).call(this,!0);break;case 1:case 3:W(this,Qt,Ib).call(this,!1);break}}select(){var t,n;super.select(),g(this,Ei)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Ei),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,Ei),"selected"))}unselect(){var t;super.unselect(),g(this,Ei)&&((t=this.parent)==null||t.drawLayer.removeClass(g(this,Ei),"selected"),g(this,So)||W(this,Qt,Ib).call(this,!1))}get _mustFixPosition(){return!g(this,So)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(g(this,Ps),t),this.parent.drawLayer.show(g(this,Ei),t))}static startHighlighting(t,n,{target:i,x:s,y:o}){const{x:a,y:c,width:h,height:d}=i.getBoundingClientRect(),p=new AbortController,y=t.combinedSignal(p),m=_=>{_.preventDefault(),_.stopPropagation()},x=_=>{p.abort(),W(this,Ha,yI).call(this,t,_)};window.addEventListener("blur",x,{signal:y}),window.addEventListener("pointerup",x,{signal:y}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Xa,{signal:y}),i.addEventListener("pointermove",W(this,Ha,gI).bind(this,t),{signal:y}),this._freeHighlight=new jS({x:s,y:o},[a,c,h,d],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,i){var _,A,S,N;let s=null;if(t instanceof $8){const{data:{quadPoints:I,rect:R,rotation:O,id:U,color:B,opacity:j,popupRef:D},parent:{page:{pageNumber:se}}}=t;s=t={annotationType:Zt.HIGHLIGHT,color:Array.from(B),opacity:j,quadPoints:I,boxes:null,pageIndex:se-1,rect:R.slice(0),rotation:O,id:U,deleted:!1,popupRef:D}}else if(t instanceof _k){const{data:{inkLists:I,rect:R,rotation:O,id:U,color:B,borderStyle:{rawWidth:j},popupRef:D},parent:{page:{pageNumber:se}}}=t;s=t={annotationType:Zt.HIGHLIGHT,color:Array.from(B),thickness:j,inkLists:I,boxes:null,pageIndex:se-1,rect:R.slice(0),rotation:O,id:U,deleted:!1,popupRef:D}}const{color:o,quadPoints:a,inkLists:c,opacity:h}=t,d=await super.deserialize(t,n,i);d.color=kt.makeHexColor(...o),$(d,Uu,h||1),c&&$(d,Ua,t.thickness),d.annotationElementId=t.id||null,d._initialData=s;const[p,y]=d.pageDimensions,[m,x]=d.pageTranslation;if(a){const I=$(d,Bu,[]);for(let R=0;R<a.length;R+=8)I.push({x:(a[R]-m)/p,y:1-(a[R+1]-x)/y,width:(a[R+2]-a[R])/p,height:(a[R+1]-a[R+5])/y});W(_=d,Qt,qS).call(_),W(A=d,Qt,vf).call(A),d.rotate(d.rotation)}else if(c){$(d,So,!0);const I=c[0],R={x:I[0]-m,y:y-(I[1]-x)},O=new jS(R,[0,0,p,y],1,g(d,Ua)/2,!0,.001);for(let j=0,D=I.length;j<D;j+=2)R.x=I[j]-m,R.y=y-(I[j+1]-x),O.add(R);const{id:U,clipPathId:B}=n.drawLayer.draw(O,d.color,d._defaultOpacity,!0);W(S=d,Qt,Rb).call(S,{highlightOutlines:O.getOutlines(),highlightId:U,clipPathId:B}),W(N=d,Qt,vf).call(N)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Bn._colorManager.convert(this.color),s={annotationType:Zt.HIGHLIGHT,color:i,opacity:g(this,Uu),thickness:g(this,Ua),quadPoints:W(this,Qt,pI).call(this),outlines:W(this,Qt,mI).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:W(this,Qt,E1).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!W(this,Qt,vI).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};t0=new WeakMap,f2=new WeakMap,Bu=new WeakMap,mp=new WeakMap,n0=new WeakMap,Ba=new WeakMap,p2=new WeakMap,m2=new WeakMap,gp=new WeakMap,Il=new WeakMap,Ps=new WeakMap,So=new WeakMap,r0=new WeakMap,Uu=new WeakMap,Ei=new WeakMap,i0=new WeakMap,Ua=new WeakMap,g2=new WeakMap,Qt=new WeakSet,qS=function(){const t=new AN(g(this,Bu),.001);$(this,Il,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Il).box;const n=new AN(g(this,Bu),.0025,.001,this._uiManager.direction==="ltr");$(this,Ba,n.getOutlines());const{lastPoint:i}=g(this,Ba).box;$(this,r0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Rb=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var p,y;if($(this,Il,t),$(this,Ba,t.getNewOutline(g(this,Ua)/2+1.5,.0025)),n>=0)$(this,Ps,n),$(this,mp,i),this.parent.drawLayer.finalizeLine(n,t),$(this,Ei,this.parent.drawLayer.drawOutline(g(this,Ba)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,Ps),t),this.parent.drawLayer.updateBox(g(this,Ps),W(p=Tn,Ha,Wm).call(p,g(this,Il).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,Ei),g(this,Ba)),this.parent.drawLayer.updateBox(g(this,Ei),W(y=Tn,Ha,Wm).call(y,g(this,Ba).box,m))}const{x:o,y:a,width:c,height:h}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=h;break;case 90:{const[m,x]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*x/m,this.height=h*m/x;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=h;break;case 270:{const[m,x]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*x/m,this.height=h*m/x;break}}const{lastPoint:d}=g(this,Ba).box;$(this,r0,[(d[0]-o)/c,(d[1]-a)/h])},uI=function(t){const n=(o,a)=>{var c,h,d;this.color=o,(c=this.parent)==null||c.drawLayer.changeColor(g(this,Ps),o),(h=g(this,n0))==null||h.updateColor(o),$(this,Uu,a),(d=this.parent)==null||d.drawLayer.changeOpacity(g(this,Ps),a)},i=this.color,s=g(this,Uu);this.addCommands({cmd:n.bind(this,t,Tn._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},hI=function(t){const n=g(this,Ua),i=s=>{$(this,Ua,s),W(this,Qt,dI).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},dI=function(t){if(!g(this,So))return;W(this,Qt,Rb).call(this,{highlightOutlines:g(this,Il).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},$S=function(){g(this,Ps)===null||!this.parent||(this.parent.drawLayer.remove(g(this,Ps)),$(this,Ps,null),this.parent.drawLayer.remove(g(this,Ei)),$(this,Ei,null))},vf=function(t=this.parent){g(this,Ps)===null&&({id:Ys(this,Ps)._,clipPathId:Ys(this,mp)._}=t.drawLayer.draw(g(this,Il),this.color,g(this,Uu)),$(this,Ei,t.drawLayer.drawOutline(g(this,Ba))),g(this,gp)&&(g(this,gp).style.clipPath=g(this,mp)))},Ha=new WeakSet,Wm=function({x:t,y:n,width:i,height:s},o){switch(o){case 90:return{x:1-n-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-n-s,width:i,height:s};case 270:return{x:n,y:1-t-i,width:s,height:i}}return{x:t,y:n,width:i,height:s}},fI=function(t){Tn._keyboardManager.exec(this,t)},Ib=function(t){if(!g(this,t0))return;const n=window.getSelection();t?n.setPosition(g(this,t0),g(this,f2)):n.setPosition(g(this,p2),g(this,m2))},E1=function(){return g(this,So)?this.rotation:0},pI=function(){if(g(this,So))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,o=g(this,Bu),a=new Float32Array(o.length*8);let c=0;for(const{x:h,y:d,width:p,height:y}of o){const m=h*t+i,x=(1-d-y)*n+s;a[c]=a[c+4]=m,a[c+1]=a[c+3]=x,a[c+2]=a[c+6]=m+p*t,a[c+5]=a[c+7]=x+y*n,c+=8}return a},mI=function(t){return g(this,Il).serialize(t,W(this,Qt,E1).call(this))},gI=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},yI=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vI=function(t){const{color:n}=this._initialData;return t.color.some((i,s)=>i!==n[s])},K(Tn,Ha),tt(Tn,"_defaultColor",null),tt(Tn,"_defaultOpacity",1),tt(Tn,"_defaultThickness",12),tt(Tn,"_type","highlight"),tt(Tn,"_editorType",Zt.HIGHLIGHT),tt(Tn,"_freeHighlightId",-1),tt(Tn,"_freeHighlight",null),tt(Tn,"_freeHighlightClipId","");let h_=Tn;var yp,vp,kc,zu,za,bp,_p,wp,qu,s0,xp,Sp,fd,Ze,bI,_I,wI,xI,VS,SI,WS,AI,kI,CI,EI,TI,bf,GS,YS,XS,Mb,Ob,Gm,KS,Fb,sh,NI,JS,PI,LI,QS,Db,T1;const Tr=class Tr extends Bn{constructor(t){super({...t,name:"inkEditor"});K(this,Ze);K(this,yp,0);K(this,vp,0);K(this,kc,null);K(this,zu,new Path2D);K(this,za,!1);K(this,bp,null);K(this,_p,!1);K(this,wp,!1);K(this,qu,null);K(this,s0,null);K(this,xp,0);K(this,Sp,0);K(this,fd,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Bn.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Wt.INK_THICKNESS:Tr._defaultThickness=n;break;case Wt.INK_COLOR:Tr._defaultColor=n;break;case Wt.INK_OPACITY:Tr._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Wt.INK_THICKNESS:W(this,Ze,bI).call(this,n);break;case Wt.INK_COLOR:W(this,Ze,_I).call(this,n);break;case Wt.INK_OPACITY:W(this,Ze,wI).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Wt.INK_THICKNESS,Tr._defaultThickness],[Wt.INK_COLOR,Tr._defaultColor||Bn._defaultLineColor],[Wt.INK_OPACITY,Math.round(Tr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Wt.INK_THICKNESS,this.thickness||Tr._defaultThickness],[Wt.INK_COLOR,this.color||Tr._defaultColor||Bn._defaultLineColor],[Wt.INK_OPACITY,Math.round(100*(this.opacity??Tr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(W(this,Ze,Mb).call(this),W(this,Ze,Ob).call(this)),this.isAttachedToDOM||(this.parent.add(this),W(this,Ze,Gm).call(this)),W(this,Ze,T1).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,kc)&&(clearTimeout(g(this,kc)),$(this,kc,null)),(t=g(this,qu))==null||t.disconnect(),$(this,qu,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,s=this.height*n;this.setDimensions(i,s)}enableEditMode(){g(this,za)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,W(this,Ze,GS).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),W(this,Ze,YS).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,za)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$(this,za,!0),this.div.classList.add("disabled"),W(this,Ze,T1).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||g(this,za)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),W(this,Ze,SI).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),W(this,Ze,WS).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),W(this,Ze,XS).call(this,t)}canvasPointerleave(t){W(this,Ze,XS).call(this,t)}get isResizable(){return!this.isEmpty()&&g(this,za)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=W(this,Ze,xI).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),W(this,Ze,Mb).call(this),this.width){const[c,h]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*h),this.setAt(t*c,n*h,this.width*c,this.height*h),$(this,wp,!0),W(this,Ze,Gm).call(this),this.setDims(this.width*c,this.height*h),W(this,Ze,bf).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return W(this,Ze,Ob).call(this),this.div}setDimensions(t,n){const i=Math.round(t),s=Math.round(n);if(g(this,xp)===i&&g(this,Sp)===s)return;$(this,xp,i),$(this,Sp,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=n/a,this.fixAndSetPosition(),g(this,za)&&W(this,Ze,KS).call(this,t,n),W(this,Ze,Gm).call(this),W(this,Ze,bf).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,i){var A,S,N;if(t instanceof _k)return null;const s=await super.deserialize(t,n,i);s.thickness=t.thickness,s.color=kt.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,c=s.width*o,h=s.height*a,d=s.parentScale,p=t.thickness/2;$(s,za,!0),$(s,xp,Math.round(c)),$(s,Sp,Math.round(h));const{paths:y,rect:m,rotation:x}=t;for(let{bezier:I}of y){I=W(A=Tr,sh,PI).call(A,I,m,x);const R=[];s.paths.push(R);let O=d*(I[0]-p),U=d*(I[1]-p);for(let j=2,D=I.length;j<D;j+=6){const se=d*(I[j]-p),F=d*(I[j+1]-p),H=d*(I[j+2]-p),ne=d*(I[j+3]-p),ee=d*(I[j+4]-p),me=d*(I[j+5]-p);R.push([[O,U],[se,F],[H,ne],[ee,me]]),O=ee,U=me}const B=W(this,sh,NI).call(this,R);s.bezierPath2D.push(B)}const _=W(S=s,Ze,QS).call(S);return $(s,vp,Math.max(Bn.MIN_SIZE,_[2]-_[0])),$(s,yp,Math.max(Bn.MIN_SIZE,_[3]-_[1])),W(N=s,Ze,KS).call(N,c,h),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Bn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Zt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:W(this,Ze,LI).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};yp=new WeakMap,vp=new WeakMap,kc=new WeakMap,zu=new WeakMap,za=new WeakMap,bp=new WeakMap,_p=new WeakMap,wp=new WeakMap,qu=new WeakMap,s0=new WeakMap,xp=new WeakMap,Sp=new WeakMap,fd=new WeakMap,Ze=new WeakSet,bI=function(t){const n=s=>{this.thickness=s,W(this,Ze,T1).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_I=function(t){const n=s=>{this.color=s,W(this,Ze,bf).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wI=function(t){const n=s=>{this.opacity=s,W(this,Ze,bf).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Wt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xI=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},VS=function(){const{ctx:t,color:n,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${N$(i)}`},SI=function(t,n){this.canvas.addEventListener("contextmenu",Xa,{signal:this._uiManager._signal}),W(this,Ze,YS).call(this),$(this,bp,new AbortController);const i=this._uiManager.combinedSignal(g(this,bp));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,g(this,wp)||($(this,wp,!0),W(this,Ze,Gm).call(this),this.thickness||(this.thickness=Tr._defaultThickness),this.color||(this.color=Tr._defaultColor||Bn._defaultLineColor),this.opacity??(this.opacity=Tr._defaultOpacity)),this.currentPath.push([t,n]),$(this,_p,!1),W(this,Ze,VS).call(this),$(this,fd,()=>{W(this,Ze,CI).call(this),g(this,fd)&&window.requestAnimationFrame(g(this,fd))}),window.requestAnimationFrame(g(this,fd))},WS=function(t,n){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===s)return;const o=this.currentPath;let a=g(this,zu);if(o.push([t,n]),$(this,_p,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,n);return}o.length===3&&($(this,zu,a=new Path2D),a.moveTo(...o[0])),W(this,Ze,EI).call(this,a,...o.at(-3),...o.at(-2),t,n)},AI=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);g(this,zu).lineTo(...t)},kI=function(t,n){$(this,fd,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),W(this,Ze,WS).call(this,t,n),W(this,Ze,AI).call(this);let i;if(this.currentPath.length!==1)i=W(this,Ze,TI).call(this);else{const h=[t,n];i=[[h,h.slice(),h.slice(),h]]}const s=g(this,zu),o=this.currentPath;this.currentPath=[],$(this,zu,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(W(this,Ze,Mb).call(this),W(this,Ze,Ob).call(this)),W(this,Ze,T1).call(this))};this.addCommands({cmd:a,undo:c,mustExec:!0})},CI=function(){if(!g(this,_p))return;$(this,_p,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(a=>a[0]),s=n.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(g(this,zu)),o.restore()},EI=function(t,n,i,s,o,a,c){const h=(n+s)/2,d=(i+o)/2,p=(s+a)/2,y=(o+c)/2;t.bezierCurveTo(h+2*(s-h)/3,d+2*(o-d)/3,p+2*(s-p)/3,y+2*(o-y)/3,p,y)},TI=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[m,x]=t[i],[_,A]=t[i+1],S=(m+_)/2,N=(x+A)/2,I=[s+2*(m-s)/3,o+2*(x-o)/3],R=[S+2*(m-S)/3,N+2*(x-N)/3];n.push([[s,o],I,R,[S,N]]),[s,o]=[S,N]}const[a,c]=t[i],[h,d]=t[i+1],p=[s+2*(a-s)/3,o+2*(c-o)/3],y=[h+2*(a-h)/3,d+2*(c-d)/3];return n.push([[s,o],p,y,[h,d]]),n},bf=function(){if(this.isEmpty()){W(this,Ze,Fb).call(this);return}W(this,Ze,VS).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),W(this,Ze,Fb).call(this);for(const i of this.bezierPath2D)n.stroke(i)},GS=function(){if(g(this,s0))return;$(this,s0,new AbortController);const t=this._uiManager.combinedSignal(g(this,s0));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},YS=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},XS=function(t){var n;(n=g(this,bp))==null||n.abort(),$(this,bp,null),W(this,Ze,GS).call(this),g(this,kc)&&clearTimeout(g(this,kc)),$(this,kc,setTimeout(()=>{$(this,kc,null),this.canvas.removeEventListener("contextmenu",Xa)},10)),W(this,Ze,kI).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Mb=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ob=function(){$(this,qu,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,qu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,qu))==null||t.disconnect(),$(this,qu,null)},{once:!0})},Gm=function(){if(!g(this,wp))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),W(this,Ze,Fb).call(this)},KS=function(t,n){const i=W(this,Ze,Db).call(this),s=(t-i)/g(this,vp),o=(n-i)/g(this,yp);this.scaleFactor=Math.min(s,o)},Fb=function(){const t=W(this,Ze,Db).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},sh=new WeakSet,NI=function(t){const n=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,c,h]=t[i];i===0&&n.moveTo(...o),n.bezierCurveTo(a[0],a[1],c[0],c[1],h[0],h[1])}return n},JS=function(t,n,i){const[s,o,a,c]=n;switch(i){case 0:for(let h=0,d=t.length;h<d;h+=2)t[h]+=s,t[h+1]=c-t[h+1];break;case 90:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=t[h+1]+s,t[h+1]=p+o}break;case 180:for(let h=0,d=t.length;h<d;h+=2)t[h]=a-t[h],t[h+1]+=o;break;case 270:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=a-t[h+1],t[h+1]=c-p}break;default:throw new Error("Invalid rotation")}return t},PI=function(t,n,i){const[s,o,a,c]=n;switch(i){case 0:for(let h=0,d=t.length;h<d;h+=2)t[h]-=s,t[h+1]=c-t[h+1];break;case 90:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=t[h+1]-o,t[h+1]=p-s}break;case 180:for(let h=0,d=t.length;h<d;h+=2)t[h]=a-t[h],t[h+1]-=o;break;case 270:for(let h=0,d=t.length;h<d;h+=2){const p=t[h];t[h]=c-t[h+1],t[h+1]=a-p}break;default:throw new Error("Invalid rotation")}return t},LI=function(t,n,i,s){var d,p;const o=[],a=this.thickness/2,c=t*n+a,h=t*i+a;for(const y of this.paths){const m=[],x=[];for(let _=0,A=y.length;_<A;_++){const[S,N,I,R]=y[_];if(S[0]===R[0]&&S[1]===R[1]&&A===1){const ne=t*S[0]+c,ee=t*S[1]+h;m.push(ne,ee),x.push(ne,ee);break}const O=t*S[0]+c,U=t*S[1]+h,B=t*N[0]+c,j=t*N[1]+h,D=t*I[0]+c,se=t*I[1]+h,F=t*R[0]+c,H=t*R[1]+h;_===0&&(m.push(O,U),x.push(O,U)),m.push(B,j,D,se,F,H),x.push(B,j),_===A-1&&x.push(F,H)}o.push({bezier:W(d=Tr,sh,JS).call(d,m,s,this.rotation),points:W(p=Tr,sh,JS).call(p,x,s,this.rotation)})}return o},QS=function(){let t=1/0,n=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,c,h,d]of o){const p=kt.bezierBoundingBox(...a,...c,...h,...d);t=Math.min(t,p[0]),i=Math.min(i,p[1]),n=Math.max(n,p[2]),s=Math.max(s,p[3])}return[t,i,n,s]},Db=function(){return g(this,za)?Math.ceil(this.thickness*this.parentScale):0},T1=function(t=!1){if(this.isEmpty())return;if(!g(this,za)){W(this,Ze,bf).call(this);return}const n=W(this,Ze,QS).call(this),i=W(this,Ze,Db).call(this);$(this,vp,Math.max(Bn.MIN_SIZE,n[2]-n[0])),$(this,yp,Math.max(Bn.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(i+g(this,vp)*this.scaleFactor),o=Math.ceil(i+g(this,yp)*this.scaleFactor),[a,c]=this.parentDimensions;this.width=s/a,this.height=o/c,this.setAspectRatio(s,o);const h=this.translationX,d=this.translationY;this.translationX=-n[0],this.translationY=-n[1],W(this,Ze,Gm).call(this),W(this,Ze,bf).call(this),$(this,xp,s),$(this,Sp,o),this.setDims(s,o);const p=t?i/this.scaleFactor/2:0;this.translate(h-this.translationX-p,d-this.translationY-p)},K(Tr,sh),tt(Tr,"_defaultColor",null),tt(Tr,"_defaultOpacity",1),tt(Tr,"_defaultThickness",1),tt(Tr,"_type","ink"),tt(Tr,"_editorType",Zt.INK);let HS=Tr;var Pr,os,pd,$u,md,o0,Cc,Hu,Ec,ra,a0,dn,N1,P1,jb,eA,RI,Bb,tA,Ub,II,MI;const z1=class z1 extends Bn{constructor(t){super({...t,name:"stampEditor"});K(this,dn);K(this,Pr,null);K(this,os,null);K(this,pd,null);K(this,$u,null);K(this,md,null);K(this,o0,"");K(this,Cc,null);K(this,Hu,null);K(this,Ec,null);K(this,ra,!1);K(this,a0,!1);$(this,$u,t.bitmapUrl),$(this,md,t.bitmapFile)}static initialize(t,n){Bn.initialize(t,n)}static get supportedTypes(){return pn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return pn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Zt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var t,n;g(this,os)&&($(this,Pr,null),this._uiManager.imageManager.deleteId(g(this,os)),(t=g(this,Cc))==null||t.remove(),$(this,Cc,null),(n=g(this,Hu))==null||n.disconnect(),$(this,Hu,null),g(this,Ec)&&(clearTimeout(g(this,Ec)),$(this,Ec,null))),super.remove()}rebuild(){if(!this.parent){g(this,os)&&W(this,dn,jb).call(this);return}super.rebuild(),this.div!==null&&(g(this,os)&&g(this,Cc)===null&&W(this,dn,jb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,pd)||g(this,Pr)||g(this,$u)||g(this,md)||g(this,os))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,Pr)?W(this,dn,eA).call(this):W(this,dn,jb).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,n*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,n,i=!1){var m;t||(t=224);const{width:s,height:o}=g(this,Pr),a=new X5;let c=g(this,Pr),h=s,d=o,p=null;if(n){if(s>n||o>n){const j=Math.min(n/s,n/o);h=Math.floor(s*j),d=Math.floor(o*j)}p=document.createElement("canvas");const x=p.width=Math.ceil(h*a.sx),_=p.height=Math.ceil(d*a.sy);g(this,ra)||(c=W(this,dn,Bb).call(this,x,_));const A=p.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",N="#42414d");const I=15,R=I*a.sx,O=I*a.sy,U=new OffscreenCanvas(R*2,O*2),B=U.getContext("2d");B.fillStyle=S,B.fillRect(0,0,R*2,O*2),B.fillStyle=N,B.fillRect(0,0,R,O),B.fillRect(R,O,R,O),A.fillStyle=A.createPattern(U,"repeat"),A.fillRect(0,0,x,_),A.drawImage(c,0,0,c.width,c.height,0,0,x,_)}let y=null;if(i){let x,_;if(a.symmetric&&c.width<t&&c.height<t)x=c.width,_=c.height;else if(c=g(this,Pr),s>t||o>t){const N=Math.min(t/s,t/o);x=Math.floor(s*N),_=Math.floor(o*N),g(this,ra)||(c=W(this,dn,Bb).call(this,x,_))}const S=new OffscreenCanvas(x,_).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,x,_),y={width:x,height:_,data:S.getImageData(0,0,x,_).data}}return{canvas:p,width:h,height:d,imageData:y}}getImageForAltText(){return g(this,Cc)}static async deserialize(t,n,i){var _;let s=null;if(t instanceof H8){const{data:{rect:A,rotation:S,id:N,structParent:I,popupRef:R},container:O,parent:{page:{pageNumber:U}}}=t,B=O.querySelector("canvas"),j=i.imageManager.getFromCanvas(O.id,B);B.remove();const D=((_=await n._structTree.getAriaAttributes(`${ck}${N}`))==null?void 0:_.get("aria-label"))||"";s=t={annotationType:Zt.STAMP,bitmapId:j.id,bitmap:j.bitmap,pageIndex:U-1,rect:A.slice(0),rotation:S,id:N,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:I,popupRef:R}}const o=await super.deserialize(t,n,i),{rect:a,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:p,accessibilityData:y}=t;d&&i.imageManager.isValidId(d)?($(o,os,d),c&&$(o,Pr,c)):$(o,$u,h),$(o,ra,p);const[m,x]=o.pageDimensions;return o.width=(a[2]-a[0])/m,o.height=(a[3]-a[1])/x,o.annotationElementId=t.id||null,y&&(o.altTextData=y),o._initialData=s,$(o,a0,!!s),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Zt.STAMP,bitmapId:g(this,os),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,ra),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=W(this,dn,Ub).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=W(this,dn,MI).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const a=g(this,ra)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,os)))n.stamps.set(g(this,os),{area:a,serialized:i}),i.bitmap=W(this,dn,Ub).call(this,!1);else if(g(this,ra)){const c=n.stamps.get(g(this,os));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=W(this,dn,Ub).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Pr=new WeakMap,os=new WeakMap,pd=new WeakMap,$u=new WeakMap,md=new WeakMap,o0=new WeakMap,Cc=new WeakMap,Hu=new WeakMap,Ec=new WeakMap,ra=new WeakMap,a0=new WeakMap,dn=new WeakSet,N1=function(t,n=!1){if(!t){this.remove();return}$(this,Pr,t.bitmap),n||($(this,os,t.id),$(this,ra,t.isSvg)),t.file&&$(this,o0,t.file.name),W(this,dn,eA).call(this)},P1=function(){if($(this,pd,null),this._uiManager.enableWaiting(!1),!!g(this,Cc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Pr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Pr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},jb=function(){if(g(this,os)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,os)).then(i=>W(this,dn,N1).call(this,i,!0)).finally(()=>W(this,dn,P1).call(this));return}if(g(this,$u)){const i=g(this,$u);$(this,$u,null),this._uiManager.enableWaiting(!0),$(this,pd,this._uiManager.imageManager.getFromUrl(i).then(s=>W(this,dn,N1).call(this,s)).finally(()=>W(this,dn,P1).call(this)));return}if(g(this,md)){const i=g(this,md);$(this,md,null),this._uiManager.enableWaiting(!0),$(this,pd,this._uiManager.imageManager.getFromFile(i).then(s=>W(this,dn,N1).call(this,s)).finally(()=>W(this,dn,P1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=z1.supportedTypesStr;const n=this._uiManager._signal;$(this,pd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,dn,N1).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>W(this,dn,P1).call(this))),t.click()},eA=function(){const{div:t}=this;let{width:n,height:i}=g(this,Pr);const[s,o]=this.pageDimensions,a=.75;if(this.width)n=this.width*s,i=this.height*o;else if(n>a*s||i>a*o){const p=Math.min(a*s/n,a*o/i);n*=p,i*=p}const[c,h]=this.parentDimensions;this.setDims(n*c/s,i*h/o),this._uiManager.enableWaiting(!1);const d=$(this,Cc,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,dn,tA).call(this,n,i),W(this,dn,II).call(this),g(this,a0)||(this.parent.addUndoableEditor(this),$(this,a0,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,o0)&&d.setAttribute("aria-label",g(this,o0))},RI=function(t,n){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=n/s,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,Ec)!==null&&clearTimeout(g(this,Ec)),$(this,Ec,setTimeout(()=>{$(this,Ec,null),W(this,dn,tA).call(this,t,n)},200))},Bb=function(t,n){const{width:i,height:s}=g(this,Pr);let o=i,a=s,c=g(this,Pr);for(;o>2*t||a>2*n;){const h=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const p=new OffscreenCanvas(o,a);p.getContext("2d").drawImage(c,0,0,h,d,0,0,o,a),c=p.transferToImageBitmap()}return c},tA=function(t,n){const i=new X5,s=Math.ceil(t*i.sx),o=Math.ceil(n*i.sy),a=g(this,Cc);if(!a||a.width===s&&a.height===o)return;a.width=s,a.height=o;const c=g(this,ra)?g(this,Pr):W(this,dn,Bb).call(this,s,o),h=a.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,s,o)},Ub=function(t){if(t){if(g(this,ra)){const s=this._uiManager.imageManager.getSvgUrl(g(this,os));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Pr),n.getContext("2d").drawImage(g(this,Pr),0,0),n.toDataURL()}if(g(this,ra)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Nd.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Nd.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(g(this,Pr),0,0,g(this,Pr).width,g(this,Pr).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(g(this,Pr))},II=function(){this._uiManager._signal&&($(this,Hu,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&W(this,dn,RI).call(this,n.width,n.height)})),g(this,Hu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=g(this,Hu))==null||t.disconnect(),$(this,Hu,null)},{once:!0}))},MI=function(t){var h;const{rect:n,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((d,p)=>Math.abs(d-n[p])<1),a=t.pageIndex===i,c=(((h=t.accessibilityData)==null?void 0:h.alt)||"")===s;return{isSame:o&&a&&c,isSameAltText:c}},tt(z1,"_type","stamp"),tt(z1,"_editorType",Zt.STAMP);let ZS=z1;var Ap,l0,Tc,gd,Vu,ia,yd,c0,u0,Ls,Wu,Tt,vd,ls,OI,rA,iA,sA,zb;const bl=class bl{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:c,viewport:h,l10n:d}){K(this,ls);K(this,Ap);K(this,l0,!1);K(this,Tc,null);K(this,gd,null);K(this,Vu,null);K(this,ia,new Map);K(this,yd,!1);K(this,c0,!1);K(this,u0,!1);K(this,Ls,null);K(this,Wu,null);K(this,Tt);const p=[...g(bl,vd).values()];if(!bl._initialized){bl._initialized=!0;for(const y of p)y.initialize(d,e)}e.registerEditorTypes(p),$(this,Tt,e),this.pageIndex=t,this.div=n,$(this,Ap,s),$(this,Tc,o),this.viewport=h,$(this,Ls,c),this.drawLayer=a,this._structTree=i,g(this,Tt).addLayer(this)}get isEmpty(){return g(this,ia).size===0}get isInvisible(){return this.isEmpty&&g(this,Tt).getMode()===Zt.NONE}updateToolbar(e){g(this,Tt).updateToolbar(e)}updateMode(e=g(this,Tt).getMode()){switch(W(this,ls,zb).call(this),e){case Zt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Zt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Zt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of g(bl,vd).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=g(this,Ls))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(g(this,Tt).getMode()!==Zt.INK)return;if(!e){for(const n of g(this,ia).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Tt).setEditingState(e)}addCommands(e){g(this,Tt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=g(this,Tc))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,ia).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Tt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,Tc))return;const t=g(this,Tc).getEditableAnnotations();for(const n of t){if(n.hide(),g(this,Tt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;$(this,u0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of g(this,ia).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(g(this,Tc)){const s=g(this,Tc).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(g(this,Tt).isDeletedAnnotationElement(a))continue;let c=t.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(a),c&&(g(this,Tt).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}W(this,ls,zb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of g(bl,vd).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$(this,u0,!1)}getEditableAnnotation(e){var t;return((t=g(this,Tc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Tt).getActive()!==e&&g(this,Tt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,Ls))!=null&&e.div&&!g(this,Wu)){$(this,Wu,new AbortController);const t=g(this,Tt).combinedSignal(g(this,Wu));g(this,Ls).div.addEventListener("pointerdown",W(this,ls,OI).bind(this),{signal:t}),g(this,Ls).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,Ls))!=null&&e.div&&g(this,Wu)&&(g(this,Wu).abort(),$(this,Wu,null),g(this,Ls).div.classList.remove("highlighting"))}enableClick(){if(g(this,gd))return;$(this,gd,new AbortController);const e=g(this,Tt).combinedSignal(g(this,gd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,gd))==null||e.abort(),$(this,gd,null)}attach(e){g(this,ia).set(e.id,e);const{annotationElementId:t}=e;t&&g(this,Tt).isDeletedAnnotationElement(t)&&g(this,Tt).removeDeletedAnnotationElement(e)}detach(e){var t;g(this,ia).delete(e.id),(t=g(this,Ap))==null||t.removePointerInTextLayer(e.contentDiv),!g(this,u0)&&e.annotationElementId&&g(this,Tt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Tt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,c0)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Tt).addDeletedAnnotationElement(e.annotationElementId),Bn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Tt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Tt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!g(this,Vu)&&(e._focusEventsAllowed=!1,$(this,Vu,setTimeout(()=>{$(this,Vu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Tt)._signal}),t.focus())},0))),e._structTreeParentId=(n=g(this,Ap))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return g(this,Tt).getId()}combinedSignal(e){return g(this,Tt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,ls,rA))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){g(this,Tt).updateToolbar(e),g(this,Tt).updateMode(e);const{offsetX:n,offsetY:i}=W(this,ls,sA).call(this),s=this.getNextId(),o=W(this,ls,iA).call(this,{parent:this,id:s,x:n,y:i,uiManager:g(this,Tt),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=g(bl,vd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,g(this,Tt)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=W(this,ls,iA).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Tt),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(W(this,ls,sA).call(this),!0)}setSelected(e){g(this,Tt).setSelected(e)}toggleSelected(e){g(this,Tt).toggleSelected(e)}unselect(e){g(this,Tt).unselect(e)}pointerup(e){const{isMac:t}=to.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&g(this,yd)){if($(this,yd,!1),!g(this,l0)){$(this,l0,!0);return}if(g(this,Tt).getMode()===Zt.STAMP){g(this,Tt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Tt).getMode()===Zt.HIGHLIGHT&&this.enableTextSelection(),g(this,yd)){$(this,yd,!1);return}const{isMac:t}=to.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;$(this,yd,!0);const n=g(this,Tt).getActive();$(this,l0,!n||n.isEmpty())}findNewParent(e,t,n){const i=g(this,Tt).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=g(this,Tt).getActive())==null?void 0:e.parent)===this&&(g(this,Tt).commitOrRemove(),g(this,Tt).setActiveEditor(null)),g(this,Vu)&&(clearTimeout(g(this,Vu)),$(this,Vu,null));for(const n of g(this,ia).values())(t=g(this,Ap))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,ia).clear(),g(this,Tt).removeLayer(this)}render({viewport:e}){this.viewport=e,Fp(this.div,e);for(const t of g(this,Tt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){g(this,Tt).commitOrRemove(),W(this,ls,zb).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Fp(this.div,{rotation:n}),t!==n)for(const i of g(this,ia).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return g(this,Tt).viewParameters.realScale}};Ap=new WeakMap,l0=new WeakMap,Tc=new WeakMap,gd=new WeakMap,Vu=new WeakMap,ia=new WeakMap,yd=new WeakMap,c0=new WeakMap,u0=new WeakMap,Ls=new WeakMap,Wu=new WeakMap,Tt=new WeakMap,vd=new WeakMap,ls=new WeakSet,OI=function(e){g(this,Tt).unselectAll();const{target:t}=e;if(t===g(this,Ls).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&g(this,Ls).div.contains(t)){const{isMac:n}=to.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,Tt).showAllEditors("highlight",!0,!0),g(this,Ls).div.classList.add("free"),this.toggleDrawing(),h_.startHighlighting(this,g(this,Tt).direction==="ltr",{target:g(this,Ls).div,x:e.x,y:e.y}),g(this,Ls).div.addEventListener("pointerup",()=>{g(this,Ls).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Tt)._signal}),e.preventDefault()}},rA=function(){return g(bl,vd).get(g(this,Tt).getMode())},iA=function(e){const t=g(this,ls,rA);return t?new t.prototype.constructor(e):null},sA=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+i),h=(s+a)/2-e,d=(o+c)/2-t,[p,y]=this.viewport.rotation%180===0?[h,d]:[d,h];return{offsetX:p,offsetY:y}},zb=function(){$(this,c0,!0);for(const e of g(this,ia).values())e.isEmpty()&&e.remove();$(this,c0,!1)},tt(bl,"_initialized",!1),K(bl,vd,new Map([OS,HS,ZS,h_].map(e=>[e._editorType,e])));let nA=bl;var Nc,y2,fi,Gu,v2,aA,zp,lA,FI;const rs=class rs{constructor({pageIndex:e}){K(this,zp);K(this,Nc,null);K(this,y2,0);K(this,fi,new Map);K(this,Gu,new Map);this.pageIndex=e}setParent(e){if(!g(this,Nc)){$(this,Nc,e);return}if(g(this,Nc)!==e){if(g(this,fi).size>0)for(const t of g(this,fi).values())t.remove(),e.append(t);$(this,Nc,e)}}static get _svgFactory(){return pn(this,"_svgFactory",new bk)}draw(e,t,n,i=!1){const s=Ys(this,y2)._++,o=W(this,zp,lA).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=rs._svgFactory.createElement("defs");o.append(a);const c=rs._svgFactory.createElement("path");a.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("d",e.toSVGPath()),i&&g(this,Gu).set(s,c);const d=W(this,zp,FI).call(this,a,h),p=rs._svgFactory.createElement("use");return o.append(p),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),p.setAttribute("href",`#${h}`),g(this,fi).set(s,o),{id:s,clipPathId:`url(#${d})`}}drawOutline(e){const t=Ys(this,y2)._++,n=W(this,zp,lA).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=rs._svgFactory.createElement("defs");n.append(i);const s=rs._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const d=rs._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const p=rs._svgFactory.createElement("rect");d.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const y=rs._svgFactory.createElement("use");d.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const c=rs._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${o}`),a&&c.setAttribute("mask",`url(#${a})`);const h=c.cloneNode();return n.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),g(this,fi).set(t,n),t}finalizeLine(e,t){const n=g(this,Gu).get(e);g(this,Gu).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){g(this,fi).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){g(this,Gu).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;W(n=rs,v2,aA).call(n,g(this,fi).get(e),t)}show(e,t){g(this,fi).get(e).classList.toggle("hidden",!t)}rotate(e,t){g(this,fi).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){g(this,fi).get(e).setAttribute("fill",t)}changeOpacity(e,t){g(this,fi).get(e).setAttribute("fill-opacity",t)}addClass(e,t){g(this,fi).get(e).classList.add(t)}removeClass(e,t){g(this,fi).get(e).classList.remove(t)}getSVGRoot(e){return g(this,fi).get(e)}remove(e){g(this,Gu).delete(e),g(this,Nc)!==null&&(g(this,fi).get(e).remove(),g(this,fi).delete(e))}destroy(){$(this,Nc,null);for(const e of g(this,fi).values())e.remove();g(this,fi).clear(),g(this,Gu).clear()}};Nc=new WeakMap,y2=new WeakMap,fi=new WeakMap,Gu=new WeakMap,v2=new WeakSet,aA=function(e,{x:t=0,y:n=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},zp=new WeakSet,lA=function(e){var n;const t=rs._svgFactory.create(1,1,!0);return g(this,Nc).append(t),t.setAttribute("aria-hidden",!0),W(n=rs,v2,aA).call(n,t,e),t},FI=function(e,t){const n=rs._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=rs._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},K(rs,v2);let oA=rs;var lV=Xt.AbortException,cV=Xt.AnnotationEditorLayer,uV=Xt.AnnotationEditorParamsType,hV=Xt.AnnotationEditorType,dV=Xt.AnnotationEditorUIManager,DI=Xt.AnnotationLayer,jI=Xt.AnnotationMode,fV=Xt.ColorPicker,pV=Xt.DOMSVGFactory,mV=Xt.DrawLayer,gV=Xt.FeatureTest,wk=Xt.GlobalWorkerOptions,yV=Xt.ImageKind,vV=Xt.InvalidPDFException,bV=Xt.MissingPDFException,_V=Xt.OPS,wV=Xt.OutputScale,xV=Xt.PDFDataRangeTransport,SV=Xt.PDFDateString,AV=Xt.PDFWorker,kV=Xt.PasswordResponses,CV=Xt.PermissionFlag,EV=Xt.PixelsPerInch,TV=Xt.RenderingCancelledException,BI=Xt.TextLayer,NV=Xt.UnexpectedResponseException,PV=Xt.Util,LV=Xt.VerbosityLevel,RV=Xt.XfaLayer,IV=Xt.build,MV=Xt.createValidAbsoluteUrl,OV=Xt.fetchData,UI=Xt.getDocument,FV=Xt.getFilenameFromUrl,DV=Xt.getPdfFilenameFromUrl,jV=Xt.getXfaPageViewport,BV=Xt.isDataScheme,UV=Xt.isPdfFile,zV=Xt.noContextMenu,qV=Xt.normalizeUnicode,$V=Xt.setLayerDimensions,HV=Xt.shadow,zI=Xt.version;const VV=Object.freeze(Object.defineProperty({__proto__:null,AbortException:lV,AnnotationEditorLayer:cV,AnnotationEditorParamsType:uV,AnnotationEditorType:hV,AnnotationEditorUIManager:dV,AnnotationLayer:DI,AnnotationMode:jI,ColorPicker:fV,DOMSVGFactory:pV,DrawLayer:mV,FeatureTest:gV,GlobalWorkerOptions:wk,ImageKind:yV,InvalidPDFException:vV,MissingPDFException:bV,OPS:_V,OutputScale:wV,PDFDataRangeTransport:xV,PDFDateString:SV,PDFWorker:AV,PasswordResponses:kV,PermissionFlag:CV,PixelsPerInch:EV,RenderingCancelledException:TV,TextLayer:BI,UnexpectedResponseException:NV,Util:PV,VerbosityLevel:LV,XfaLayer:RV,build:IV,createValidAbsoluteUrl:MV,fetchData:OV,getDocument:UI,getFilenameFromUrl:FV,getPdfFilenameFromUrl:DV,getXfaPageViewport:jV,isDataScheme:BV,isPdfFile:UV,noContextMenu:zV,normalizeUnicode:qV,setLayerDimensions:$V,shadow:HV,version:zI},Symbol.toStringTag,{value:"Module"}));var Bi=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},WV=["onCopy","onCut","onPaste"],GV=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],YV=["onFocus","onBlur"],XV=["onInput","onInvalid","onReset","onSubmit"],KV=["onLoad","onError"],JV=["onKeyDown","onKeyPress","onKeyUp"],QV=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],ZV=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],eW=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],tW=["onSelect"],nW=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],rW=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],iW=["onScroll"],sW=["onWheel"],oW=["onAnimationStart","onAnimationEnd","onAnimationIteration"],aW=["onTransitionEnd"],lW=["onToggle"],cW=["onChange"],uW=Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi(Bi([],WV,!0),GV,!0),YV,!0),XV,!0),KV,!0),JV,!0),QV,!0),ZV,!0),eW,!0),tW,!0),nW,!0),rW,!0),iW,!0),sW,!0),oW,!0),aW,!0),cW,!0),lW,!0);function qI(r,e){var t={};return uW.forEach(function(n){var i=r[n];i&&(e?t[n]=function(s){return i(s,e(n))}:t[n]=i)}),t}function R2(r){var e=!1,t=new Promise(function(n,i){r.then(function(s){return!e&&n(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function $I(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=$I(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function ew(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=$I(r))&&(n&&(n+=" "),n+=e);return n}var hW="Invariant failed";function Qn(r,e){if(!r)throw new Error(hW)}var Vx,kN;function dW(){if(kN)return Vx;kN=1;var r=function(){};return Vx=r,Vx}var fW=dW();const Ms=b2(fW);var CN=Object.prototype.hasOwnProperty;function EN(r,e,t){for(t of r.keys())if(hg(t,e))return t}function hg(r,e){var t,n,i;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&hg(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(i=n,i&&typeof i=="object"&&(i=EN(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(i=n[0],i&&typeof i=="object"&&(i=EN(e,i),!i)||!hg(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(CN.call(r,t)&&++n&&!CN.call(e,t)||!(t in e)||!hg(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}const HI=Y.createContext(null);function dg({children:r,type:e}){return E.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const pW="noopener noreferrer nofollow";class mW{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Qn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Qn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Qn(this.pdfDocument),Qn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Qn(Array.isArray(t));const n=t[0];new Promise(i=>{Qn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{i(s)}).catch(()=>{Qn(!1)}):typeof n=="number"?i(n):Qn(!1)}).then(i=>{const s=i+1;Qn(this.pdfViewer),Qn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Qn(this.pdfViewer),Qn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||pW,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const TN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},tw=typeof window<"u",VI=tw&&window.location.protocol==="file:";function gW(r){return typeof r<"u"}function ff(r){return gW(r)&&r!==null}function yW(r){return typeof r=="string"}function vW(r){return r instanceof ArrayBuffer}function bW(r){return Qn(tw),r instanceof Blob}function cA(r){return yW(r)&&/^data:/.test(r)}function NN(r){Qn(cA(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function _W(){return tw&&window.devicePixelRatio||1}const WI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function PN(){Ms(!VI,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WI}`)}function wW(){Ms(!VI,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WI}`)}function Bp(r){r!=null&&r.cancel&&r.cancel()}function uA(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function xW(r){return r.name==="RenderingCancelledException"}function SW(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function AW(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function v0(){return Y.useReducer(AW,{value:void 0,error:void 0})}var kW=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{h(n.next(d))}catch(p){o(p)}}function c(d){try{h(n.throw(d))}catch(p){o(p)}}function h(d){d.done?s(d.value):i(d.value).then(a,c)}h((n=n.apply(r,e||[])).next())})},LN=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const{PDFDataRangeTransport:CW}=VV,EW=(r,e)=>{switch(e){case TN.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case TN.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function RN(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const TW=Y.forwardRef(function(e,t){var{children:n,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:c,inputRef:h,imageResourcesPath:d,loading:p="Loading PDF",noData:y="No PDF file specified.",onItemClick:m,onLoadError:x,onLoadProgress:_,onLoadSuccess:A,onPassword:S=EW,onSourceError:N,onSourceSuccess:I,options:R,renderMode:O,rotate:U}=e,B=LN(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[j,D]=v0(),{value:se,error:F}=j,[H,ne]=v0(),{value:ee,error:me}=H,ge=Y.useRef(new mW),de=Y.useRef([]),ie=Y.useRef(void 0),ye=Y.useRef(void 0);c&&c!==ie.current&&RN(c)&&(Ms(!hg(c,ie.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ie.current=c),R&&R!==ye.current&&(Ms(!hg(R,ye.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ye.current=R);const be=Y.useRef({scrollPageIntoView:Fe=>{const{dest:Le,pageNumber:ce,pageIndex:yt=ce-1}=Fe;if(m){m({dest:Le,pageIndex:yt,pageNumber:ce});return}const St=de.current[yt];if(St){St.scrollIntoView();return}Ms(!1,`An internal link leading to page ${ce} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Y.useImperativeHandle(t,()=>({linkService:ge,pages:de,viewer:be}),[]);function Z(){I&&I()}function M(){F&&(Ms(!1,F.toString()),N&&N(F))}function J(){D({type:"RESET"})}Y.useEffect(J,[c,D]);const re=Y.useCallback(()=>kW(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return cA(c)?{data:NN(c)}:(PN(),{url:c});if(c instanceof CW)return{range:c};if(vW(c))return{data:c};if(tw&&bW(c))return{data:yield SW(c)};if(Qn(typeof c=="object"),Qn(RN(c)),"url"in c&&typeof c.url=="string"){if(cA(c.url)){const{url:Fe}=c,Le=LN(c,["url"]),ce=NN(Fe);return Object.assign({data:ce},Le)}PN()}return c}),[c]);Y.useEffect(()=>{const Fe=R2(re());return Fe.promise.then(Le=>{D({type:"RESOLVE",value:Le})}).catch(Le=>{D({type:"REJECT",error:Le})}),()=>{Bp(Fe)}},[re,D]),Y.useEffect(()=>{if(!(typeof se>"u")){if(se===!1){M();return}Z()}},[se]);function ue(){ee&&(A&&A(ee),de.current=new Array(ee.numPages),ge.current.setDocument(ee))}function pe(){me&&(Ms(!1,me.toString()),x&&x(me))}Y.useEffect(function(){ne({type:"RESET"})},[ne,se]),Y.useEffect(function(){if(!se)return;const Le=R?Object.assign(Object.assign({},se),R):se,ce=UI(Le);_&&(ce.onProgress=_),S&&(ce.onPassword=S);const yt=ce,St=yt.promise.then(lt=>{ne({type:"RESOLVE",value:lt})}).catch(lt=>{yt.destroyed||ne({type:"REJECT",error:lt})});return()=>{St.finally(()=>yt.destroy())}},[R,ne,se]),Y.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){pe();return}ue()}},[ee]),Y.useEffect(function(){ge.current.setViewer(be.current),ge.current.setExternalLinkRel(o),ge.current.setExternalLinkTarget(a)},[o,a]);const fe=Y.useCallback((Fe,Le)=>{de.current[Fe]=Le},[]),Ce=Y.useCallback(Fe=>{delete de.current[Fe]},[]),ke=Y.useMemo(()=>({imageResourcesPath:d,linkService:ge.current,onItemClick:m,pdf:ee,registerPage:fe,renderMode:O,rotate:U,unregisterPage:Ce}),[d,m,ee,fe,O,U,Ce]),xe=Y.useMemo(()=>qI(B,()=>ee),[B,ee]);function Ue(){return E.jsx(HI.Provider,{value:ke,children:n})}function $e(){return c?ee==null?E.jsx(dg,{type:"loading",children:typeof p=="function"?p():p}):ee===!1?E.jsx(dg,{type:"error",children:typeof s=="function"?s():s}):Ue():E.jsx(dg,{type:"no-data",children:typeof y=="function"?y():y})}return E.jsx("div",Object.assign({className:ew("react-pdf__Document",i),ref:h,style:{"--scale-factor":"1"}},xe,{children:$e()}))});function GI(){return Y.useContext(HI)}function YI(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const XI=Y.createContext(null),KI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},NW=/^H(\d+)$/;function PW(r){return r in KI}function nw(r){return"children"in r}function JI(r){return nw(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function LW(r){const e={};if(nw(r)){const{role:t}=r,n=t.match(NW);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(PW(t)){const i=KI[t];i&&(e.role=i)}}return e}function QI(r){const e={};if(nw(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),JI(r)){const[t]=r.children;if(t){const n=QI(t);return Object.assign(Object.assign({},e),n)}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function RW(r){return r?Object.assign(Object.assign({},LW(r)),QI(r)):null}function ZI({className:r,node:e}){const t=Y.useMemo(()=>RW(e),[e]),n=Y.useMemo(()=>!nw(e)||JI(e)?null:e.children.map((i,s)=>E.jsx(ZI,{node:i},s)),[e]);return E.jsx("span",Object.assign({className:r},t,{children:n}))}function rw(){return Y.useContext(XI)}function IW(){const r=rw();Qn(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,i]=v0(),{value:s,error:o}=n,{customTextRenderer:a,page:c}=r;function h(){s&&t&&t(s)}function d(){o&&(Ms(!1,o.toString()),e&&e(o))}return Y.useEffect(function(){i({type:"RESET"})},[i,c]),Y.useEffect(function(){if(a||!c)return;const y=R2(c.getStructTree()),m=y;return y.promise.then(x=>{i({type:"RESOLVE",value:x})}).catch(x=>{i({type:"REJECT",error:x})}),()=>Bp(m)},[a,c,i]),Y.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}h()}},[s]),s?E.jsx(ZI,{className:"react-pdf__Page__structTree structTree",node:s}):null}const IN=jI;function MW(r){const e=rw();Qn(e);const t=Object.assign(Object.assign({},e),r),{_className:n,canvasBackground:i,devicePixelRatio:s=_W(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:h,renderTextLayer:d,rotate:p,scale:y}=t,{canvasRef:m}=r;Qn(c);const x=Y.useRef(null);function _(){c&&a&&a(uA(c,y))}function A(R){xW(R)||(Ms(!1,R.toString()),o&&o(R))}const S=Y.useMemo(()=>c.getViewport({scale:y*s,rotation:p}),[s,c,p,y]),N=Y.useMemo(()=>c.getViewport({scale:y,rotation:p}),[c,p,y]);Y.useEffect(function(){if(!c)return;c.cleanup();const{current:O}=x;if(!O)return;O.width=S.width,O.height=S.height,O.style.width=`${Math.floor(N.width)}px`,O.style.height=`${Math.floor(N.height)}px`,O.style.visibility="hidden";const U={annotationMode:h?IN.ENABLE_FORMS:IN.ENABLE,canvasContext:O.getContext("2d",{alpha:!1}),viewport:S};i&&(U.background=i);const B=c.render(U),j=B;return B.promise.then(()=>{O.style.visibility="",_()}).catch(A),()=>Bp(j)},[i,c,h,S,N]);const I=Y.useCallback(()=>{const{current:R}=x;R&&(R.width=0,R.height=0)},[]);return Y.useEffect(()=>I,[I]),E.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:YI(m,x),style:{display:"block",userSelect:"none"},children:d?E.jsx(IW,{}):null})}function OW(r){return"str"in r}function FW(){const r=rw();Qn(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:c,rotate:h,scale:d}=r;Qn(o);const[p,y]=v0(),{value:m,error:x}=p,_=Y.useRef(null);Ms(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){m&&n&&n(m)}function S(){x&&(Ms(!1,x.toString()),t&&t(x))}Y.useEffect(function(){y({type:"RESET"})},[o,y]),Y.useEffect(function(){if(!o)return;const j=R2(o.getTextContent()),D=j;return j.promise.then(se=>{y({type:"RESOLVE",value:se})}).catch(se=>{y({type:"REJECT",error:se})}),()=>Bp(D)},[o,y]),Y.useEffect(()=>{if(m!==void 0){if(m===!1){S();return}A()}},[m]);const N=Y.useCallback(()=>{s&&s()},[s]),I=Y.useCallback(B=>{Ms(!1,B.toString()),i&&i(B)},[i]);function R(){const B=_.current;B&&B.classList.add("selecting")}function O(){const B=_.current;B&&B.classList.remove("selecting")}const U=Y.useMemo(()=>o.getViewport({scale:d,rotation:h}),[o,h,d]);return Y.useLayoutEffect(function(){if(!o||!m)return;const{current:j}=_;if(!j)return;j.innerHTML="";const D=o.streamTextContent({includeMarkedContent:!0}),se={container:j,textContentSource:D,viewport:U},F=new BI(se),H=F;return F.render().then(()=>{const ne=document.createElement("div");ne.className="endOfContent",j.append(ne);const ee=j.querySelectorAll('[role="presentation"]');if(e){let me=0;m.items.forEach((ge,de)=>{if(!OW(ge))return;const ie=ee[me];if(!ie)return;const ye=e(Object.assign({pageIndex:a,pageNumber:c,itemIndex:de},ge));ie.innerHTML=ye,me+=ge.str&&ge.hasEOL?2:1})}N()}).catch(I),()=>Bp(H)},[e,I,N,o,a,c,m,U]),E.jsx("div",{className:ew("react-pdf__Page__textContent","textLayer"),onMouseUp:O,onMouseDown:R,ref:_})}function DW(){const r=GI(),e=rw();Qn(e);const t=Object.assign(Object.assign({},r),e),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:h,pdf:d,renderForms:p,rotate:y,scale:m=1}=t;Qn(d),Qn(h),Qn(i);const[x,_]=v0(),{value:A,error:S}=x,N=Y.useRef(null);Ms(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function I(){A&&o&&o(A)}function R(){S&&(Ms(!1,S.toString()),s&&s(S))}Y.useEffect(function(){_({type:"RESET"})},[_,h]),Y.useEffect(function(){if(!h)return;const D=R2(h.getAnnotations()),se=D;return D.promise.then(F=>{_({type:"RESOLVE",value:F})}).catch(F=>{_({type:"REJECT",error:F})}),()=>{Bp(se)}},[_,h]),Y.useEffect(()=>{if(A!==void 0){if(A===!1){R();return}I()}},[A]);function O(){c&&c()}function U(j){Ms(!1,`${j}`),a&&a(j)}const B=Y.useMemo(()=>h.getViewport({scale:m,rotation:y}),[h,y,m]);return Y.useEffect(function(){if(!d||!h||!i||!A)return;const{current:D}=N;if(!D)return;const se=B.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:h,structTreeLayer:null,viewport:se},H={annotations:A,annotationStorage:d.annotationStorage,div:D,imageResourcesPath:n,linkService:i,page:h,renderForms:p,viewport:se};D.innerHTML="";try{new DI(F).render(H),O()}catch(ne){U(ne)}return()=>{}},[A,n,i,h,d,p,B]),E.jsx("div",{className:ew("react-pdf__Page__annotations","annotationLayer"),ref:N})}var jW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const MN=1;function BW(r){const e=GI(),t=Object.assign(Object.assign({},e),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:c,customRenderer:h,customTextRenderer:d,devicePixelRatio:p,error:y="Failed to load the page.",height:m,inputRef:x,loading:_="Loading page",noData:A="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:N,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:O,onGetTextSuccess:U,onLoadError:B,onLoadSuccess:j,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:se,onRenderError:F,onRenderSuccess:H,onRenderTextLayerError:ne,onRenderTextLayerSuccess:ee,pageIndex:me,pageNumber:ge,pdf:de,registerPage:ie,renderAnnotationLayer:ye=!0,renderForms:be=!1,renderMode:Z="canvas",renderTextLayer:M=!0,rotate:J,scale:re=MN,unregisterPage:ue,width:pe}=t,fe=jW(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ce,ke]=v0(),{value:xe,error:Ue}=Ce,$e=Y.useRef(null);Qn(de);const Fe=ff(ge)?ge-1:me??null,Le=ge??(ff(me)?me+1:null),ce=J??(xe?xe.rotate:null),yt=Y.useMemo(()=>{if(!xe)return null;let tn=1;const Rt=re??MN;if(pe||m){const pt=xe.getViewport({scale:1,rotation:ce});pe?tn=pe/pt.width:m&&(tn=m/pt.height)}return Rt*tn},[m,xe,ce,re,pe]);Y.useEffect(function(){return()=>{ff(Fe)&&i&&ue&&ue(Fe)}},[i,de,Fe,ue]);function St(){if(j){if(!xe||!yt)return;j(uA(xe,yt))}if(i&&ie){if(!ff(Fe)||!$e.current)return;ie(Fe,$e.current)}}function lt(){Ue&&(Ms(!1,Ue.toString()),B&&B(Ue))}Y.useEffect(function(){ke({type:"RESET"})},[ke,de,Fe]),Y.useEffect(function(){if(!de||!Le)return;const Rt=R2(de.getPage(Le)),pt=Rt;return Rt.promise.then(Ct=>{ke({type:"RESOLVE",value:Ct})}).catch(Ct=>{ke({type:"REJECT",error:Ct})}),()=>Bp(pt)},[ke,de,Le]),Y.useEffect(()=>{if(xe!==void 0){if(xe===!1){lt();return}St()}},[xe,yt]);const We=Y.useMemo(()=>xe&&ff(Fe)&&Le&&ff(ce)&&ff(yt)?{_className:n,canvasBackground:s,customTextRenderer:d,devicePixelRatio:p,onGetAnnotationsError:S,onGetAnnotationsSuccess:N,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:O,onGetTextSuccess:U,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:se,onRenderError:F,onRenderSuccess:H,onRenderTextLayerError:ne,onRenderTextLayerSuccess:ee,page:xe,pageIndex:Fe,pageNumber:Le,renderForms:be,renderTextLayer:M,rotate:ce,scale:yt}:null,[n,s,d,p,S,N,I,R,O,U,D,se,F,H,ne,ee,xe,Fe,Le,be,M,ce,yt]),rt=Y.useMemo(()=>qI(fe,()=>xe&&(yt?uA(xe,yt):void 0)),[fe,xe,yt]),Je=`${Fe}@${yt}/${ce}`;function Dt(){switch(Z){case"custom":return Qn(h),E.jsx(h,{},`${Je}_custom`);case"none":return null;case"canvas":default:return E.jsx(MW,{canvasRef:o},`${Je}_canvas`)}}function wt(){return M?E.jsx(FW,{},`${Je}_text`):null}function an(){return ye?E.jsx(DW,{},`${Je}_annotations`):null}function Nt(){return E.jsxs(XI.Provider,{value:We,children:[Dt(),wt(),an(),a]})}function Pt(){return Le?de===null||xe===void 0||xe===null?E.jsx(dg,{type:"loading",children:typeof _=="function"?_():_}):de===!1||xe===!1?E.jsx(dg,{type:"error",children:typeof y=="function"?y():y}):Nt():E.jsx(dg,{type:"no-data",children:typeof A=="function"?A():A})}return E.jsx("div",Object.assign({className:ew(n,c),"data-page-number":Le,ref:YI(x,$e),style:{"--scale-factor":`${yt}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},rt,{children:Pt()}))}wW();wk.workerSrc="pdf.worker.mjs";wk.workerSrc=`https://unpkg.com/pdfjs-dist@${zI}/build/pdf.worker.min.mjs`;const UW=()=>{var R,O,U;const[r,e]=Y.useState(null),[t,n]=Y.useState(100),[i,s]=Y.useState(""),[o,a]=Y.useState("#111"),[c,h]=Y.useState("#f4edd2"),d=Y.useRef(null),{selectedUser:p}=ii(),{setPdfScroll:y,pdfCheck:m,pdfScrollTop:x,setStreamData:_,setStartStreaming:A,endStream:S,streamData:N}=Ka(),{authUser:I}=lr();return Y.useEffect(()=>{d.current&&(y(d.current.scrollTop),console.log(`Scroll Top: ${d.current.scrollTop}`))},[m]),Y.useEffect(()=>{console.log(N),n(localStorage.getItem("brightness")||50),h(localStorage.getItem("bg")||"#f4edd2"),a(localStorage.getItem("color")||"#111"),document.documentElement.style.setProperty("--note-text-size",`${localStorage.getItem("size")||16}px`)},[]),Y.useEffect(()=>{console.log("pdfScrollTop",x),d.current.scrollTop=x},[x]),Y.useEffect(()=>{console.log(t)},[t]),E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex  flex-col items-center justify-center w-full h-full px-4 rounded-lg",children:[E.jsx("div",{className:"w-full m-3  justify-end flex",children:E.jsxs(ha,{className:" btn",to:"/stream",children:[E.jsx(x2,{})," "]})}),E.jsx("div",{ref:d,className:"h-[500px] mx-auto overflow-y-scroll w-[900px] flex flex-col items-center",children:E.jsx("div",{className:"w-full p-2",style:{filter:`brightness(${t}%)`},children:E.jsx(TW,{file:(R=N==null?void 0:N.streamInfo)==null?void 0:R.url,onLoadSuccess:({numPages:B})=>e(B),className:"w-full",children:r&&Array.from({length:r},(B,j)=>E.jsxs("div",{className:"w-full mb-4",children:[E.jsx(BW,{pageNumber:j+1,renderTextLayer:!1,scale:1.5,renderAnnotationLayer:!1,className:"border border-gray-700 rounded-lg"}),E.jsxs("div",{className:"flex justify-end mt-2 text-gray-400 text-sm",children:["Page ",j+1," of ",r]})]},j))})})}),E.jsxs("div",{className:"flex justify-between w-full px-11 items-center mt-4",children:[((O=N==null?void 0:N.senderInfo)==null?void 0:O.fullName)!==(I==null?void 0:I.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:async()=>{await Nn.get(`/auth/user/stream-control/${p._id}/999999/${N._id}`)},children:"Seek"}),((U=N==null?void 0:N.senderInfo)==null?void 0:U.fullName)===(I==null?void 0:I.fullName)&&E.jsx("button",{className:"bg-base-content text-base-300 p-2 px-3 rounded-md",onClick:()=>{A(!1),_([]),S()},children:"End Stream"}),E.jsx("button",{onClick:()=>{var B;fetch((B=N==null?void 0:N.streamInfo)==null?void 0:B.url).then(j=>j.blob()).then(j=>{var se;const D=document.createElement("a");D.href=URL.createObjectURL(j),D.download=((se=N==null?void 0:N.streamInfo)==null?void 0:se.title)+".pdf",D.click(),URL.revokeObjectURL(D.href)}).catch(j=>console.error("Error downloading the file:",j))},children:E.jsx(I7,{})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(_F,{}),E.jsx("input",{type:"range",value:t,min:20,max:200,onChange:B=>{n(B.target.value),localStorage.setItem("brightness",B.target.value)}})]}),E.jsx("div",{children:E.jsx("label",{htmlFor:"color",className:"text-base-context"})}),E.jsx("input",{type:"color",value:c,onChange:B=>{h(B.target.value),localStorage.setItem("bg",B.target.value)}}),E.jsx("label",{htmlFor:"color",className:"text-base-context"}),E.jsx("input",{type:"color",value:o,onChange:B=>{a(B.target.value),localStorage.setItem("color",B.target.value)}}),E.jsx("label",{htmlFor:"textSize",className:"text-base-context"}),E.jsx("input",{type:"number",min:10,max:50,defaultValue:16,className:"bg-base-content  text-base-100",onChange:B=>{document.documentElement.style.setProperty("--note-text-size",`${B.target.value}px`),localStorage.setItem("size",B.target.value)}})]})]}),E.jsxs("div",{className:"mt-11  flex flex-col gap-6 justify-center items-center my-5",children:[E.jsx("textarea",{id:"notesArea",name:"notes",style:{backgroundColor:c,color:o,fontSize:"var(--note-text-size, 16px)",lineHeight:"1.2"},placeholder:"Notes",value:i,onChange:B=>{s(B.target.value)},className:"w-[57vw] rounded-md p-5 text-base-300  text-4xl max-h-full h-[20vh]"}),E.jsx("button",{className:"bg-base-content userselect  text-base-300 mb-3 p-2 px-3 rounded-md",onClick:()=>{var ge;const B=document.getElementById("notesArea");if(!B||!B.value.trim()){alert("Please add some notes before saving.");return}const j=new At,D=window.getComputedStyle(B),se=B.value.split(`
`),F=parseInt(D.fontSize)*1,H=10;let ne=H;const ee=D.color.match(/\d+/g);ee&&j.setTextColor(parseInt(ee[0],10),parseInt(ee[1],10),parseInt(ee[2],10));const me=D.backgroundColor.match(/\d+/g);me&&(j.setFillColor(parseInt(me[0],10),parseInt(me[1],10),parseInt(me[2],10)),j.rect(0,0,j.internal.pageSize.width,j.internal.pageSize.height,"F")),se.forEach(de=>{j.splitTextToSize(de,j.internal.pageSize.width-2*H).forEach(ye=>{if(ne+F>j.internal.pageSize.height-H){j.addPage();const be=D.color.match(/\d+/g);be&&j.setTextColor(parseInt(be[0],10),parseInt(be[1],10),parseInt(be[2],10));const Z=D.backgroundColor.match(/\d+/g);Z&&(j.setFillColor(parseInt(Z[0],10),parseInt(Z[1],10),parseInt(Z[2],10)),j.rect(0,0,j.internal.pageSize.width,j.internal.pageSize.height,"F")),ne=H}j.text(ye,H,ne),ne+=F})}),j.save((((ge=N==null?void 0:N.streamInfo)==null?void 0:ge.title)||"notes")+"_notes.pdf")},children:"Save Notes"})]})]})};var Wx={exports:{}},Gx,ON;function zW(){if(ON)return Gx;ON=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gx=r,Gx}var Yx,FN;function qW(){if(FN)return Yx;FN=1;var r=zW();function e(){}function t(){}return t.resetWarningCache=e,Yx=function(){function n(o,a,c,h,d,p){if(p!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Yx}var DN;function $W(){return DN||(DN=1,Wx.exports=qW()()),Wx.exports}var HW=$W();const VW=b2(HW),eM=()=>{const r=oh(),[e,t]=Y.useState(null),{selectedUser:n}=ii(),{startStreaming:i,setStreamData:s,createStream:o,endStream:a}=Ka(),[c,h]=Y.useState(""),[d,p]=Y.useState(""),[y,m]=Y.useState(!1),[x,_]=Y.useState(""),A=N=>t(N.target.files[0]),S=async()=>{m(!0);try{if(!e)return sn.error("Please select a file!");const N=new FormData;N.append("pdf",e);const I=await Nn.post("/stream/uploadPdf",N);console.log("deko",I);const R={title:d,description:x,name:d,url:I.data.url,groupId:n._id,recieverId:n._id,data:I.data.text,type:"pdf"};a(),o(R).then(O=>r("/stream/file"))}catch{sn.error("File upload failed")}finally{m(!1)}};return E.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[E.jsx("div",{className:"w-full p-8  justify-end flex",children:E.jsxs(ha,{className:" btn",to:"/stream",children:[E.jsx(x2,{})," "]})}),E.jsxs("div",{className:` ${y?"hidden":"block"} p-4 space-y-4 flex flex-col gap-5 `,children:[E.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",E.jsx("span",{className:"ml-2 text-base-300 invert ",children:"Stream N Chat"})," ",E.jsx(Lp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]}),E.jsx("input",{type:"text",placeholder:"Enter the title ",onChange:N=>p(N.target.value),className:"input input-bordered w-full"}),E.jsx("input",{type:"text",placeholder:"Enter the description of the PDF",onChange:N=>_(N.target.value),className:"input input-bordered w-full"}),E.jsx("input",{type:"file",accept:"application/pdf",onChange:A,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold m-auto file:bg-gray-400 file:text-base-100 hover:file:bg-blue-100 "}),E.jsx("button",{onClick:S,type:"submit",disabled:y,className:"btn   btn-primary w-full disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg  transition",children:"Upload"})]}),y&&E.jsx(nk,{data:["Loading...","Uploading the file...","Please wait...","Rapid Chat is loading the file..."]})]})};eM.propTypes={onUpload:VW.func.isRequired};const jN=()=>{oh();const{selectedUser:r,videoCall:e}=ii(),{streamMode:t,setStreamData:n,setStreamMode:i,startStreaming:s,setStartStreaming:o,setStreamYoutube:a,streamYoutube:c,endStream:h,streamStart:d,streamData:p,createStream:y}=Ka(),{authUser:m,setVideoPeer:x}=lr(),[_,A]=Y.useState(""),[S,N]=Y.useState(""),[I,R]=Y.useState(""),[O,U]=Y.useState(null),[B,j]=Y.useState("");return Y.useEffect(()=>{var D;j((D=p==null?void 0:p.streamInfo)==null?void 0:D.url),console.log("streamData",p),d()},[p]),E.jsx("div",{className:"h-screen overflow-y-scroll bg-base-200",children:E.jsxs("div",{className:"flex items-center gap-0.5 justify-center pt-20 px-4",children:[E.jsx("div",{className:`bg-base-100 rounded-l-lg shadow-lg ${t?"w-[35vw] h-[calc(100vh-6rem)]":"max-w-7xl h-[calc(100vh-8rem)]"}`,children:E.jsxs("div",{className:"flex h-full rounded-lg overflow-hidden",children:[E.jsx($B,{}),r?E.jsx(zR,{}):E.jsx(VB,{})]})}),E.jsx("div",{className:`bg-base-100 rounded-r-lg shadow-lg overflow-y-scroll ${t?"w-[63vw] h-[calc(100vh-6rem)]":"hidden"}`,children:E.jsx("div",{className:"min-h-[70%]",children:E.jsx(DO,{})})})]})})},tM=({title:r,subtitle:e})=>E.jsx("div",{className:"hidden lg:flex items-center justify-center bg-base-200 p-12",children:E.jsxs("div",{className:"max-w-md text-center",children:[E.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[...Array(9)].map((t,n)=>E.jsx("div",{className:`aspect-square rounded-2xl bg-primary/10 ${n%2===0?"animate-pulse":""}`},n))}),E.jsx("h2",{className:"text-2xl font-bold mb-4",children:r}),E.jsx("p",{className:"text-base-content/60",children:e})]})}),WW=()=>{const[r,e]=Y.useState(!1),[t,n]=Y.useState({fullName:"",email:"",password:""}),{signup:i,isSigningUp:s}=lr(),o=()=>t.fullName.trim()?t.email.trim()?/\S+@\S+\.\S+/.test(t.email)?t.password?t.password.length<6?sn.error("Password must be at least 6 characters"):!0:sn.error("Password is required"):sn.error("Invalid email format"):sn.error("Email is required"):sn.error("Full name is required"),a=c=>{c.preventDefault(),o()===!0&&i(t)};return E.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2",children:[E.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:E.jsxs("div",{className:"w-full max-w-md space-y-8",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[E.jsx("div",{className:`size-12 rounded-xl bg-primary/10 flex items-center justify-center 
              group-hover:bg-primary/20 transition-colors`,children:E.jsx(AA,{className:"size-6 text-primary"})}),E.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Create Account"}),E.jsx("p",{className:"text-base-content/60",children:"Get started with your free account"})]})}),E.jsxs("form",{onSubmit:a,className:"space-y-6",children:[E.jsxs("div",{className:"form-control",children:[E.jsx("label",{className:"label",children:E.jsx("span",{className:"label-text font-medium",children:"Full Name"})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(kA,{className:"size-5 text-base-content/40"})}),E.jsx("input",{type:"text",className:"input input-bordered w-full pl-10",placeholder:"John Doe",value:t.fullName,onChange:c=>n({...t,fullName:c.target.value})})]})]}),E.jsxs("div",{className:"form-control",children:[E.jsx("label",{className:"label",children:E.jsx("span",{className:"label-text font-medium",children:"Email"})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(SA,{className:"size-5 text-base-content/40"})}),E.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:t.email,onChange:c=>n({...t,email:c.target.value})})]})]}),E.jsxs("div",{className:"form-control",children:[E.jsx("label",{className:"label",children:E.jsx("span",{className:"label-text font-medium",children:"Password"})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(oP,{className:"size-5 text-base-content/40"})}),E.jsx("input",{type:r?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"",value:t.password,onChange:c=>n({...t,password:c.target.value})}),E.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>e(!r),children:r?E.jsx(rP,{className:"size-5 text-base-content/40"}):E.jsx(iP,{className:"size-5 text-base-content/40"})})]})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?E.jsxs(E.Fragment,{children:[E.jsx(sP,{className:"size-5 animate-spin"}),"Loading..."]}):"Create Account"})]}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-base-content/60",children:["Already have an account?"," ",E.jsx(ha,{to:"/login",className:"link link-primary",children:"Sign in"})]})})]})}),E.jsx(tM,{title:"Join our community",subtitle:"Connect with friends, share moments, and stay in touch with your loved ones."})]})},GW=[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],YW=()=>{const r=Y.useRef(null),e=Y.useRef(null),{socket:t,setVideoPeer:n}=lr(),i=Y.useRef(null),[s,o]=Y.useState(null),[a,c]=Y.useState(null),[h,d]=Y.useState(""),[p,y]=Y.useState("");Y.useEffect(()=>{const U=new RTCPeerConnection({iceServers:GW});i.current=U,n==null||n(U);const B=D=>{e.current&&D.streams&&D.streams[0]&&(e.current.srcObject=D.streams[0])};U.addEventListener("track",B),U.onicecandidate=D=>{D.candidate&&a&&t.emit("ice-candidate",{to:a,from:h||null,candidate:D.candidate})};const j=async()=>{try{if(!a)return;const D=await U.createOffer();await U.setLocalDescription(D),t.emit("call-user",{emailId:a,offer:D})}catch(D){console.error("negotiationneeded error:",D)}};return U.addEventListener("negotiationneeded",j),()=>{U.removeEventListener("track",B),U.removeEventListener("negotiationneeded",j),U.onicecandidate=null,U.getSenders().forEach(D=>{try{D.track&&D.track.stop()}catch{}}),U.getReceivers().forEach(D=>{try{D.track&&D.track.stop()}catch{}}),U.close(),i.current=null}},[]);const m=Y.useCallback(async()=>{const U=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});r.current&&(r.current.srcObject=U,r.current.muted=!0),o(U),i.current&&U.getTracks().forEach(B=>{i.current.addTrack(B,U)})},[]);Y.useEffect(()=>{m().catch(U=>console.error("getUserMedia failed:",U))},[m]);const x=()=>{if(!i.current)throw new Error("Peer connection not ready");return i.current},_=Y.useCallback(async()=>{const U=x(),B=await U.createOffer();return await U.setLocalDescription(B),B},[]),A=Y.useCallback(async U=>{const B=x();if(!U)throw new Error("No offer provided");await B.setRemoteDescription(new RTCSessionDescription(U)),B.signalingState!=="have-remote-offer"&&console.warn("Unexpected signalingState:",B.signalingState);const j=await B.createAnswer();return await B.setLocalDescription(j),j},[]),S=Y.useCallback(()=>{if(!h||!p){console.warn("Need emailId and roomId to join");return}t.emit("join-room",{emailId:h,roomId:p})},[h,p,t]),N=Y.useCallback(async({emailId:U})=>{try{c(U);const B=await _();t.emit("call-user",{emailId:U,offer:B})}catch(B){console.error("onUserJoined error:",B)}},[_,t]),I=Y.useCallback(async({from:U,offer:B})=>{try{c(U);const j=await A(B);t.emit("call-accepted",{emailId:U,ans:j})}catch(j){console.error("onIncomingCall error:",j)}},[A,t]),R=Y.useCallback(async({ans:U})=>{try{await x().setRemoteDescription(new RTCSessionDescription(U))}catch(B){console.error("onCallAccepted error:",B)}},[]),O=Y.useCallback(async({candidate:U})=>{try{if(!U)return;await x().addIceCandidate(new RTCIceCandidate(U))}catch(B){console.error("addIceCandidate failed:",B)}},[]);return Y.useEffect(()=>(t.on("user-joined",N),t.on("incomming-call",I),t.on("call-accepted",R),t.on("ice-candidate",O),()=>{t.off("user-joined",N),t.off("incomming-call",I),t.off("call-accepted",R),t.off("ice-candidate",O)}),[t,N,I,R,O]),E.jsxs("div",{className:"flex justify-center items-center flex-col h-screen gap-3 p-4",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",placeholder:"Your Email",value:h,onChange:U=>d(U.target.value),className:"border px-2 py-1 rounded"}),E.jsx("input",{type:"text",placeholder:"Room ID",value:p,onChange:U=>y(U.target.value),className:"border px-2 py-1 rounded"}),E.jsx("button",{onClick:S,className:"border px-3 py-1 rounded",children:"Enter Room"})]}),E.jsxs("h1",{className:"text-lg",children:["Connected to: ",E.jsx("span",{className:"font-semibold",children:a||""})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl",children:[E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("span",{className:"mb-1",children:"Me"}),E.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full aspect-video bg-black rounded"})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("span",{className:"mb-1",children:"Remote"}),E.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,className:"w-full aspect-video bg-black rounded"})]})]})]})},XW=()=>{const[r,e]=Y.useState(!1),[t,n]=Y.useState({email:"",password:""}),{login:i,isLoggingIn:s}=lr(),o=async a=>{a.preventDefault(),i(t)};return E.jsxs("div",{className:"h-screen grid lg:grid-cols-2",children:[E.jsx("div",{className:"flex flex-col justify-center items-center p-6 sm:p-12",children:E.jsxs("div",{className:"w-full max-w-md space-y-8",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[E.jsx("div",{className:`w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center group-hover:bg-primary/20
              transition-colors`,children:E.jsx(AA,{className:"w-6 h-6 text-primary"})}),E.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Welcome Back"}),E.jsx("p",{className:"text-base-content/60",children:"Sign in to your account"})]})}),E.jsxs("form",{onSubmit:o,className:"space-y-6",children:[E.jsxs("div",{className:"form-control",children:[E.jsx("label",{className:"label",children:E.jsx("span",{className:"label-text font-medium",children:"Email"})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(SA,{className:"h-5 w-5 text-base-content/40"})}),E.jsx("input",{type:"email",className:"input input-bordered w-full pl-10",placeholder:"you@example.com",value:t.email,onChange:a=>n({...t,email:a.target.value})})]})]}),E.jsxs("div",{className:"form-control",children:[E.jsx("label",{className:"label",children:E.jsx("span",{className:"label-text font-medium",children:"Password"})}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(oP,{className:"h-5 w-5 text-base-content/40"})}),E.jsx("input",{type:r?"text":"password",className:"input input-bordered w-full pl-10",placeholder:"",value:t.password,onChange:a=>n({...t,password:a.target.value})}),E.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>e(!r),children:r?E.jsx(rP,{className:"h-5 w-5 text-base-content/40"}):E.jsx(iP,{className:"h-5 w-5 text-base-content/40"})})]})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:s,children:s?E.jsxs(E.Fragment,{children:[E.jsx(sP,{className:"h-5 w-5 animate-spin"}),"Loading..."]}):"Sign in"})]}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-base-content/60",children:["Don't have an account?"," ",E.jsx(ha,{to:"/signup",className:"link link-primary",children:"Create account"})]})})]})}),E.jsx(tM,{title:"Welcome back!",subtitle:"Sign in to continue your conversations and catch up with your messages."})]})},KW=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset"],nM=M_(r=>({theme:localStorage.getItem("chat-theme")||"dark",setTheme:e=>{localStorage.setItem("chat-theme",e),r({theme:e})}})),JW=[{id:1,content:"Hey! How's it going?",isSent:!1},{id:2,content:"I'm doing great! Just working on some new features.",isSent:!0}],QW=()=>{const{theme:r,setTheme:e}=nM();return E.jsx("div",{className:"h-full container mx-auto px-4 pt-20 max-w-5xl",children:E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsx("h2",{className:"text-lg font-semibold",children:"Theme"}),E.jsx("p",{className:"text-sm text-base-content/70",children:"Choose a theme for your chat interface"})]}),E.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:KW.map(t=>E.jsxs("button",{className:`
                group flex flex-col items-center gap-1.5 p-2 rounded-lg transition-colors
                ${r===t?"bg-base-200":"hover:bg-base-200/50"}
              `,onClick:()=>e(t),children:[E.jsx("div",{className:"relative h-8 w-full rounded-md overflow-hidden","data-theme":t,children:E.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 gap-px p-1",children:[E.jsx("div",{className:"rounded bg-primary"}),E.jsx("div",{className:"rounded bg-secondary"}),E.jsx("div",{className:"rounded bg-accent"}),E.jsx("div",{className:"rounded bg-neutral"})]})}),E.jsx("span",{className:"text-[11px] font-medium truncate w-full text-center",children:t.charAt(0).toUpperCase()+t.slice(1)})]},t))}),E.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Preview"}),E.jsx("div",{className:"rounded-xl border border-base-300 overflow-hidden bg-base-100 shadow-lg",children:E.jsx("div",{className:"p-4 bg-base-200",children:E.jsx("div",{className:"max-w-lg mx-auto",children:E.jsxs("div",{className:"bg-base-100 rounded-xl shadow-sm overflow-hidden",children:[E.jsx("div",{className:"px-4 py-3 border-b border-base-300 bg-base-100",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-content font-medium",children:"J"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium text-sm",children:"John Doe"}),E.jsx("p",{className:"text-xs text-base-content/70",children:"Online"})]})]})}),E.jsx("div",{className:"p-4 space-y-4 min-h-[200px] max-h-[200px] overflow-y-auto bg-base-100",children:JW.map(t=>E.jsx("div",{className:`flex ${t.isSent?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`
                          max-w-[80%] rounded-xl p-3 shadow-sm
                          ${t.isSent?"bg-primary text-primary-content":"bg-base-200"}
                        `,children:[E.jsx("p",{className:"text-sm",children:t.content}),E.jsx("p",{className:`
                            text-[10px] mt-1.5
                            ${t.isSent?"text-primary-content/70":"text-base-content/70"}
                          `,children:"12:00 PM"})]})},t.id))}),E.jsx("div",{className:"p-4 border-t border-base-300 bg-base-100",children:E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",className:"input input-bordered flex-1 text-sm h-10",placeholder:"Type a message...",value:"This is a preview",readOnly:!0}),E.jsx("button",{className:"btn btn-primary h-10 min-h-0",children:E.jsx(cP,{size:18})})]})})]})})})})]})})},ZW=()=>{var o;const{authUser:r,isUpdatingProfile:e,updateProfile:t}=lr(),[n,i]=Y.useState(null),s=async a=>{const c=a.target.files[0];if(!c)return;const h=new FileReader;h.readAsDataURL(c),h.onload=async()=>{const d=h.result;i(d),await t({profilePic:d})}};return E.jsx("div",{className:"h-full pt-20",children:E.jsx("div",{className:"max-w-2xl mx-auto p-4 py-8",children:E.jsxs("div",{className:"bg-base-300 rounded-xl p-6 space-y-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-2xl font-semibold ",children:"Profile"}),E.jsx("p",{className:"mt-2",children:"Your profile information"})]}),E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{loading:"blur",src:n||r.profilePic||"/avatar.png",alt:"Profile",className:"size-32 rounded-full object-cover border-4 "}),E.jsxs("label",{htmlFor:"avatar-upload",className:`
                  absolute bottom-0 right-0 
                  bg-base-content hover:scale-105
                  p-2 rounded-full cursor-pointer 
                  transition-all duration-200
                  ${e?"animate-pulse pointer-events-none":""}
                `,children:[E.jsx(nP,{className:"w-5 h-5 text-base-200"}),E.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:s,disabled:e})]})]}),E.jsx("p",{className:"text-sm text-zinc-400",children:e?"Uploading...":"Click the camera icon to update your photo"})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[E.jsx(kA,{className:"w-4 h-4"}),"Full Name"]}),E.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:r==null?void 0:r.fullName})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsxs("div",{className:"text-sm text-zinc-400 flex items-center gap-2",children:[E.jsx(SA,{className:"w-4 h-4"}),"Email Address"]}),E.jsx("p",{className:"px-4 py-2.5 bg-base-200 rounded-lg border",children:r==null?void 0:r.email})]})]}),E.jsxs("div",{className:"mt-6 bg-base-300 rounded-xl p-6",children:[E.jsx("h2",{className:"text-lg font-medium  mb-4",children:"Account Information"}),E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-700",children:[E.jsx("span",{children:"Member Since"}),E.jsx("span",{children:(o=r.createdAt)==null?void 0:o.split("T")[0]})]}),E.jsxs("div",{className:"flex items-center justify-between py-2",children:[E.jsx("span",{children:"Account Status"}),E.jsx("span",{className:"text-green-500",children:"Active"})]})]})]})]})})})},eG=()=>{const{users:r,createGroup:e}=ii(),[t,n]=Y.useState(""),[i,s]=Y.useState(""),{authUser:o,isUpdatingProfile:a,updateProfile:c}=lr(),[h,d]=Y.useState([]),[p,y]=Y.useState(null),m=async _=>{const A=_.target.files[0];if(!A)return;const S=new FileReader;S.readAsDataURL(A),S.onload=async()=>{const N=S.result;y(N)}},x=async()=>{let _=h.map(A=>A._id);(i==""||t=="")&&toast.error("Please fill all the details!"),await e({users:_,description:i,name:t,profilePic:p}),window.location.href="/"};return E.jsx("div",{className:"h-screen w-screen flex justify-center  pt-8  items-center",children:E.jsxs("div",{className:"bg-base-200  w-[74rem] h-fit flex justify-between ",children:[E.jsxs("div",{className:"w-full bg-base-300 h-full",children:[E.jsxs("div",{className:"flex  items-center gap-4 pt-[5vh] pl-7 pr-5 mb-6 w-full",children:[E.jsxs("div",{className:"relative w-[11rem]",children:[E.jsx("img",{loading:"blur",src:p||"/group.png",alt:"Profile",className:"size-32 rounded-full object-cover border-4 "}),E.jsxs("label",{htmlFor:"avatar-upload",className:`
                  absolute bottom-0 right-0 
                  bg-base-content hover:scale-105
                  p-2 rounded-full cursor-pointer 
                  transition-all duration-200
                  ${a?"animate-pulse pointer-events-none":""}
                `,children:[E.jsx(nP,{className:"w-5 h-5 text-base-200"}),E.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:m,disabled:a})]})]}),E.jsxs("div",{className:" mx-6 w-full ",children:[E.jsx("h1",{children:"Members"}),E.jsxs("div",{className:"flex gap-2 m-3 h-[4.4rem] border-2 p-2 rounded-lg   w-full ",children:[h.length==0&&E.jsx("h1",{className:"h-full flex justify-center items-center text-center w-full",children:"No members selected"}),h.map(_=>E.jsxs("div",{children:[E.jsx("img",{src:_.profilePic||"/avatar.png",alt:_.name,className:"size-12 object-cover rounded-full"}),E.jsx("div",{className:"ml-[2rem] mt-[-3rem] absolute cursor-pointer bg-red-600 rounded-full ",onClick:()=>d(h.filter(A=>A!==_)),children:E.jsx(S2,{className:"text-white h-4 w-4 m-[1px]"})})]},_))]})]})]}),E.jsxs("div",{className:" mx-5 px-6 gap-8 flex flex-col py-2",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Group Name"}),E.jsx("input",{placeholder:"Add Group Name",type:"text",onChange:_=>n(_.target.value),className:"border-2 p-2 rounded-lg w-full"})]}),E.jsxs("div",{children:[E.jsx("h1",{children:"Description"}),E.jsx("textarea",{placeholder:"Add description",onChange:_=>s(_.target.value),className:"border-2 p-2 rounded-lg w-full h-[8rem] ",maxLength:500})]})]}),E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("button",{className:"bg-gray-50 text-black px-3 py-1 my-3 mb-7 rounded-md",onClick:x,children:"Create"})})]}),E.jsxs("div",{className:" w-[50vw] h-full bg-whidte",children:[E.jsx("h1",{className:"text-center font-bold text-xl my-4",children:"Add members"}),E.jsxs("ul",{className:"  h-full",children:[r<=1||h.length==r.length-1&&E.jsx("h1",{className:"text-center ",children:"No users available to add"}),r.map(_=>_._id!=o._id&&!h.includes(_)&&E.jsxs("li",{onClick:()=>{h.includes(_)||d([...h,_])},className:"flex justify-center hover:bg-base-100  items-center gap-5 p-3 bg-base-200 m-4 hover:cursor-pointer",children:[E.jsx("div",{className:"",children:E.jsx("img",{loading:"blur",src:_.profilePic||"/avatar.png",alt:_.name,className:"size-12 object-cover rounded-full"})}),_.fullName]},_._id))]})]})]})})},tG=()=>{const r=oh(),{selectedUser:e}=ii(),{setStartStreaming:t,endStream:n,streamData:i,createStream:s}=Ka(),[o,a]=Y.useState(""),[c,h]=Y.useState(""),[d,p]=Y.useState(""),y=()=>{if(!o){sn.error("No videoId provided"),setLoading(!1);return}const m={url:o,title:c,description:d,groupId:e._id,recieverId:e._id,type:"youtube"};n(),s(m).then(x=>{r("/stream/youtube-player")}),t(51)};return E.jsx("div",{children:E.jsxs("div",{className:"h-full",children:[E.jsx("div",{className:"w-full p-8 justify-end flex",children:E.jsxs(ha,{className:" btn",to:"/stream",children:[E.jsx(x2,{})," "]})}),E.jsxs("div",{className:` ${i.length==0,""}  p-4 space-y-4 flex flex-col mx-28  `,children:[E.jsx("div",{className:"flex justify-between my-4 mx-1 items-center",children:E.jsxs("h1",{className:"text-xl font-bold flex",children:["Stream Seamlessly using ",E.jsx("span",{className:"ml-2 text-base-300 invert ",children:"Stream N Chat"})," ",E.jsx(Lp,{className:"w-6 mr-2 ml-1 h-6 text-primary "}),"Streams"]})}),E.jsx("input",{type:"text",placeholder:"Enter the URL of the video",onChange:m=>a(m.target.value),className:"input input-bordered w-full"}),E.jsx("input",{type:"text",placeholder:"Enter the title of the video",onChange:m=>h(m.target.value),className:"input input-bordered w-full"}),E.jsx("input",{type:"text",placeholder:"Enter the description of the video",onChange:m=>p(m.target.value),className:"input input-bordered w-full"}),E.jsx("button",{onClick:()=>y(),className:"btn   btn-primary w-full",children:"Start Streaming"})]})]})})},nG=()=>{var h,d,p,y,m,x,_,A;const r=oh(),[e,t]=Y.useState(!1),{setStreamMode:n,setStartStreaming:i,getSpecificStream:s,setStreamYoutube:o,streamData:a}=Ka();function c(S){try{const N=new URL(S);return N.hostname==="youtu.be"?N.pathname.slice(1):N.hostname.includes("youtube.com")?new URLSearchParams(N.search).get("v"):null}catch{return null}}return E.jsxs("div",{className:"flex flex-col justify-around pt-8  h-full items-center ",children:[E.jsxs("div",{className:"w-full px-8 justify-between  mb-[-4.5rem]   flex",children:[E.jsxs("button",{className:" btn ",onClick:()=>t(!e),children:[E.jsx(z7,{})," "]}),e&&E.jsxs("ol",{tabIndex:0,onBlur:()=>t(!1),className:"bg-base-300  rounded-md w-[25rem] h-[20rem] overflow-y-scroll  p-4 flex flex-col gap-3 absolute   mt-[4rem] shadow-md shadow-black ",children:[console.log(a),((d=(h=a==null?void 0:a.allStream)==null?void 0:h.data)==null?void 0:d.length)==0&&E.jsx("div",{className:"w-full text-center flex justify-center items-center h-full",children:"No History"}),((p=a==null?void 0:a.allStream)==null?void 0:p.data)&&[...(y=a==null?void 0:a.allStream)==null?void 0:y.data].reverse().map((S,N)=>E.jsxs("li",{onClick:()=>{s(S==null?void 0:S._id).then(()=>{(S==null?void 0:S.streamInfo.type)==="youtube"?r("/stream/youtube-player"):r("/stream/file")})},className:"flex p-2 bg-base-200 hover:bg-base-100 cursor-pointer rounded-md gap-4",children:[console.log(S==null?void 0:S.streamInfo.url),(S==null?void 0:S.streamInfo.type)==="youtube"?E.jsx("img",{className:"w-[7rem]",src:`https://img.youtube.com/vi/${c(S==null?void 0:S.streamInfo.url)}/hqdefault.jpg`,alt:"YouTube thumbnail"}):E.jsx("img",{className:"w-[7rem]",src:"https://assets.monica.im/tools-web/_next/static/media/pdf2word.99a03821.png",alt:""}),E.jsxs("div",{className:"flex flex-col ",children:[E.jsxs("h1",{className:"text-xl text-content font-bold",children:[" ",S==null?void 0:S.streamInfo.title]}),E.jsxs("h2",{className:"truncate",children:[" ",S==null?void 0:S.streamInfo.description]}),E.jsx("div",{className:"flex  gap-4",children:E.jsxs("h2",{className:"flex gap-2",children:[E.jsx("img",{className:"w-11 inline rounded-full",src:S==null?void 0:S.senderInfo.profilePic,alt:""}),S==null?void 0:S.senderInfo.fullName]})})]})]},N))]}),E.jsxs("button",{className:" btn ",onClick:()=>n(!1),children:[E.jsx(S2,{})," "]})]}),E.jsx("h1",{className:"text-xl font-semibold my-8 ",children:"Select a source to stream"}),E.jsxs("div",{className:"flex flex-wrap justify-center py-6 items-center gap-11 ",children:[E.jsxs("button",{onClick:()=>{var S;((S=a==null?void 0:a.streamInfo)==null?void 0:S.type)=="youtube"?r("/stream/youtube-player"):r("/stream/create-youtube-stream")},className:`${((m=a==null?void 0:a.streamInfo)==null?void 0:m.type)=="youtube"?"border-2 border-white ":""} px-4 py-4 h-[30vh] flex-col justify-center items-center text-3xl w-[15vw] flex gap-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition`,children:[((x=a==null?void 0:a.streamInfo)==null?void 0:x.type)=="youtube"&&E.jsx("div",{className:"text-red-600 bg-white px-2 pb-1 rounded-md  font-bold text-lg",children:"Streaming now!"}),E.jsx(OF,{className:"size-[5rem]"}),"YouTube"]}),E.jsxs("button",{onClick:()=>{var S;((S=a==null?void 0:a.streamInfo)==null?void 0:S.type)!="pdf"?r("/stream/upload-file"):r("/stream/file")},className:`${((_=a==null?void 0:a.streamInfo)==null?void 0:_.type)=="pdf"?"border-2 border-white ":""} px-4 py-2 flex-col items-center justify-center text-3xl flex gap-4 h-[30vh] w-[15vw] bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition`,children:[((A=a==null?void 0:a.streamInfo)==null?void 0:A.type)=="pdf"&&E.jsx("div",{className:"text-red-600 bg-white px-2 pb-1 rounded-md  font-bold text-lg",children:"Streaming now!"}),E.jsx(x7,{className:"size-[5rem]"})," PDF"]}),E.jsxs("button",{onClick:()=>{r("/stream/website")},className:"px-4 py-2 flex-col items-center justify-center text-3xl flex gap-4 h-[30vh] w-[15vw] bg-green-500 text-white rounded-lg hover:bg-green-700 transition",children:[E.jsx(B7,{className:"size-[5rem]"})," Website"]}),E.jsxs("button",{onClick:()=>{r("/stream/screen-share")},className:"px-4 py-2 flex-col items-center justify-center text-3xl flex gap-4 h-[30vh] w-[15vw] bg-[#ededed] text-black rounded-lg hover:bg-gray-200 transition",children:[E.jsx(mF,{className:"size-[5rem]"})," Screen share"]})]})]})},rG=()=>{const{authUser:r,checkAuth:e,isCheckingAuth:t,onlineUsers:n}=lr(),{theme:i}=nM();return Y.useEffect(()=>{e()},[e]),t&&!r?E.jsx("div",{className:"flex items-center justify-center h-screen",children:E.jsx(W7,{className:"size-10 animate-spin"})}):E.jsxs("div",{"data-theme":i,children:[E.jsx(BB,{}),E.jsxs(BO,{children:[E.jsx(ns,{path:"*",element:E.jsx(Xs,{to:"/",replace:!0})}),E.jsx(ns,{path:"/",element:r?E.jsx(jN,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"/login",element:r?E.jsx(Xs,{to:"/"}):E.jsx(XW,{})}),E.jsx(ns,{path:"/signup",element:r?E.jsx(Xs,{to:"/"}):E.jsx(WW,{})}),E.jsx(ns,{path:"/settings",element:E.jsx(QW,{})}),E.jsx(ns,{path:"/profile",element:r?E.jsx(ZW,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"/create-group",element:r?E.jsx(eG,{}):E.jsx(Xs,{to:"/login"})}),E.jsxs(ns,{path:"/stream",element:r?E.jsx(jN,{}):E.jsx(Xs,{to:"/login"}),children:[E.jsx(ns,{index:!0,element:r?E.jsx(nG,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"create-youtube-stream",element:r?E.jsx(tG,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"youtube-player",element:r?E.jsx(a$,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"upload-file",element:r?E.jsx(eM,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"file",element:r?E.jsx(UW,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"website",element:r?E.jsx(HB,{}):E.jsx(Xs,{to:"/login"})}),E.jsx(ns,{path:"screen-share",element:r?E.jsx(zB,{}):E.jsx(Xs,{to:"/login"})})]}),E.jsx(ns,{path:"/room/:roomId",element:r?E.jsx(YW,{}):E.jsx(Xs,{to:"/login"})})]}),E.jsx(v9,{})]})};WM.createRoot(document.getElementById("root")).render(E.jsx(l7,{children:E.jsx(rG,{})}));export{Un as _,b2 as g};
